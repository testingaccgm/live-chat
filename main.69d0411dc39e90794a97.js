(self.webpackChunklive_chat=self.webpackChunklive_chat||[]).push([[179],{8255:ke=>{function _e(k){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+k+"'");throw E.code="MODULE_NOT_FOUND",E})}_e.keys=()=>[],_e.resolve=_e,_e.id=8255,ke.exports=_e},7716:(ke,_e,k)=>{"use strict";k.d(_e,{deG:()=>_o,tb:()=>xE,AFp:()=>RE,ip1:()=>$v,CZH:()=>Sd,hGG:()=>yS,z2F:()=>Lh,sBO:()=>rw,Sil:()=>kh,_Vd:()=>yd,EJc:()=>OE,SBq:()=>Is,qLn:()=>hs,vpe:()=>Ts,gxx:()=>da,tBr:()=>Do,XFs:()=>Pe,OlP:()=>Ot,zs3:()=>an,ZZ4:()=>Eg,aQg:()=>bg,soG:()=>Og,YKP:()=>wC,v3s:()=>JT,h0i:()=>Ll,PXZ:()=>zT,R0b:()=>mi,FiY:()=>si,Lbi:()=>ME,g9A:()=>AE,Qsj:()=>HD,FYo:()=>Cg,JOm:()=>Yr,Tiy:()=>mv,q3G:()=>It,tp0:()=>Wr,EAV:()=>nS,Rgc:()=>wh,dDg:()=>LE,DyG:()=>ju,q4F:()=>vv,GfV:()=>vC,s_b:()=>Ig,ifc:()=>Oe,eFA:()=>HE,G48:()=>UT,X6Q:()=>qv,_c5:()=>fS,VLi:()=>VT,c2e:()=>PE,zSh:()=>Al,wAp:()=>qe,vHH:()=>ue,EiD:()=>ea,mCW:()=>gr,qzn:()=>li,JVY:()=>gf,pB0:()=>vf,eBb:()=>Xu,L6k:()=>bc,LAX:()=>mf,cg1:()=>av,Tjo:()=>cS,kL8:()=>jy,yhl:()=>Ju,dqk:()=>Ft,sIi:()=>Nl,CqO:()=>ev,QGY:()=>Xm,F4k:()=>z_,RDi:()=>ba,AaK:()=>K,z3N:()=>xr,TTD:()=>wu,uIk:()=>y,Suo:()=>sE,Xpm:()=>wt,lG2:()=>Cu,Yz7:()=>Dt,cJS:()=>en,oAB:()=>Rs,Yjl:()=>Wl,Y36:()=>vh,_UZ:()=>$_,qZA:()=>Jm,TgZ:()=>Zm,Ikx:()=>sv,LFG:()=>$t,$8M:()=>Fu,NdJ:()=>tv,CRH:()=>aE,iGM:()=>oE,LSH:()=>ta,kYT:()=>$l,_uU:()=>Cy});var E=k(9765),oe=k(5319),S=k(7574),W=k(6682),le=k(8819);function z(e){for(let t in e)if(e[t]===z)return t;throw Error("Could not find renamed property on target object.")}function K(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(K).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function G(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const N=z({__forward_ref__:z});function $(e){return e.__forward_ref__=$,e.toString=function(){return K(this())},e}function F(e){return function(e){return"function"==typeof e&&e.hasOwnProperty(N)&&e.__forward_ref__===$}(e)?e():e}class ue extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Ce(e){return"string"==typeof e?e:null==e?"":String(e)}function Ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ce(e)}function Rt(e,t){const n=t?` in ${t}`:"";throw new ue("201",`No provider for ${Ee(e)} found${n}`)}function $e(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Dt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function en(e){return{providers:e.providers||[],imports:e.imports||[]}}function mn(e){return Er(e,vt)||Er(e,Cn)}function Er(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ho(e){return e&&(e.hasOwnProperty(ut)||e.hasOwnProperty(En))?e[ut]:null}const vt=z({\u0275prov:z}),ut=z({\u0275inj:z}),Cn=z({ngInjectableDef:z}),En=z({ngInjectorDef:z});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let zt;function qt(e){const t=zt;return zt=e,t}function eo(e,t,n){const r=mn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Pe.Optional?null:void 0!==t?t:void Rt(K(e),"Injector")}function br(e){return{toString:e}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),Oe=(()=>((Oe=Oe||{})[Oe.Emulated=0]="Emulated",Oe[Oe.None=2]="None",Oe[Oe.ShadowDom=3]="ShadowDom",Oe))();const Je="undefined"!=typeof globalThis&&globalThis,yu="undefined"!=typeof window&&window,vi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=Je||"undefined"!=typeof global&&global||yu||vi,kt={},j=[],V=z({\u0275cmp:z}),q=z({\u0275dir:z}),se=z({\u0275pipe:z}),Z=z({\u0275mod:z}),we=z({\u0275loc:z}),je=z({\u0275fac:z}),pt=z({__NG_ELEMENT_ID__:z});let Pt=0;function wt(e){return br(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||j,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Oe.Emulated,id:"c",styles:e.styles||j,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,d=e.features,p=e.pipes;return r.id+=Pt++,r.inputs=ma(e.inputs,n),r.outputs=ma(e.outputs),d&&d.forEach(m=>m(r)),r.directiveDefs=l?()=>("function"==typeof l?l():l).map(An):null,r.pipeDefs=p?()=>("function"==typeof p?p():p).map(Mn):null,r})}function An(e){return Sn(e)||function(e){return e[q]||null}(e)}function Mn(e){return function(e){return e[se]||null}(e)}const to={};function Rs(e){return br(()=>{const t={type:e.type,bootstrap:e.bootstrap||j,declarations:e.declarations||j,imports:e.imports||j,exports:e.exports||j,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(to[e.id]=e.type),t})}function $l(e,t){return br(()=>{const n=lr(e,!0);n.declarations=t.declarations||j,n.imports=t.imports||j,n.exports=t.exports||j})}function ma(e,t){if(null==e)return kt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let l=e[r],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),n[l]=r,t&&(t[l]=d)}return n}const Cu=wt;function Wl(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Sn(e){return e[V]||null}function lr(e,t){const n=e[Z]||null;if(!n&&!0===t)throw new Error(`Type ${K(e)} does not have '\u0275mod' property.`);return n}function Zt(e){return Array.isArray(e)&&"object"==typeof e[1]}function cr(e){return Array.isArray(e)&&!0===e[1]}function Ms(e){return 0!=(8&e.flags)}function On(e){return 2==(2&e.flags)}function _a(e){return 1==(1&e.flags)}function Ur(e){return null!==e.template}function wr(e){return 0!=(512&e[2])}function ei(e,t){return e.hasOwnProperty(je)?e[je]:null}class Du{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wu(){return Ca}function Ca(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yl),zl}function zl(){const e=Ql(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===kt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Yl(e,t,n,r){const l=Ql(e)||function(e,t){return e[ao]=t}(e,{previous:kt,current:null}),d=l.current||(l.current={}),p=l.previous,m=this.declaredInputs[n],_=p[m];d[m]=new Du(_&&_.currentValue,t,p===kt),e[r]=t}wu.ngInherit=!0;const ao="__ngSimpleChanges__";function Ql(e){return e[ao]||null}let Ea;function ba(e){Ea=e}function Yt(e){return!!e.listen}const Ke={createRenderer:(e,t)=>void 0!==Ea?Ea:"undefined"!=typeof document?document:void 0};function jt(e){for(;Array.isArray(e);)e=e[0];return e}function dr(e,t){return jt(t[e.index])}function Ci(e,t){return e.data[t]}function Wn(e,t){const n=t[e];return Zt(n)?n:n[0]}function Jl(e){return 4==(4&e[2])}function Xl(e){return 128==(128&e[2])}function bi(e,t){return null==t?null:e[t]}function Iu(e){e[18]=0}function Di(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ye={lFrame:wi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $d(){return Ye.bindingsEnabled}function ve(){return Ye.lFrame.lView}function gt(){return Ye.lFrame.tView}function Xt(){let e=Ls();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ls(){return Ye.lFrame.currentTNode}function Nn(e,t){const n=Ye.lFrame;n.currentTNode=e,n.isParent=t}function Vs(){return Ye.lFrame.isParent}function lo(){return Ye.isInCheckNoChangesMode}function ti(e){Ye.isInCheckNoChangesMode=e}function ni(){return Ye.lFrame.bindingIndex++}function rc(e,t){const n=Ye.lFrame;n.bindingIndex=n.bindingRootIndex=e,Gn(t)}function Gn(e){Ye.lFrame.currentDirectiveIndex=e}function Ia(){return Ye.lFrame.currentQueryIndex}function co(e){Ye.lFrame.currentQueryIndex=e}function ic(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Su(e,t,n){if(n&Pe.SkipSelf){let l=t,d=e;for(;!(l=l.parent,null!==l||n&Pe.Host||(l=ic(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;t=l,e=d}const r=Ye.lFrame=Ta();return r.currentTNode=t,r.lView=e,!0}function fo(e){const t=Ta(),n=e[1];Ye.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ta(){const e=Ye.lFrame,t=null===e?null:e.child;return null===t?wi(e):t}function wi(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function oc(){const e=Ye.lFrame;return Ye.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Yd=oc;function ri(){const e=oc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Tr(e){Ye.lFrame.selectedIndex=e}function rn(){const e=Ye.lFrame;return Ci(e.tView,e.selectedIndex)}function Ii(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:b,ngOnDestroy:I}=d;p&&(e.contentHooks||(e.contentHooks=[])).push(-n,p),m&&((e.contentHooks||(e.contentHooks=[])).push(n,m),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,m)),_&&(e.viewHooks||(e.viewHooks=[])).push(-n,_),b&&((e.viewHooks||(e.viewHooks=[])).push(n,b),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,b)),null!=I&&(e.destroyHooks||(e.destroyHooks=[])).push(n,I)}}function Ti(e,t,n){Si(e,t,3,n)}function Bs(e,t,n,r){(3&e[2])===n&&Si(e,t,n,r)}function Hs(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Si(e,t,n,r){const d=null!=r?r:-1,p=t.length-1;let m=0;for(let _=void 0!==r?65535&e[18]:0;_<p;_++)if("number"==typeof t[_+1]){if(m=t[_],null!=r&&m>=r)break}else t[_]<0&&(e[18]+=65536),(m<d||-1==d)&&(sc(e,n,t,_),e[18]=(4294901760&e[18])+_+2),_++}function sc(e,t,n,r){const l=n[r]<0,d=n[r+1],m=e[l?-n[r]:n[r]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{d.call(m)}finally{}}}else try{d.call(m)}finally{}}class Zo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function xu(e,t,n){const r=Yt(e);let l=0;for(;l<n.length;){const d=n[l];if("number"==typeof d){if(0!==d)break;l++;const p=n[l++],m=n[l++],_=n[l++];r?e.setAttribute(t,m,_,p):t.setAttributeNS(p,m,_)}else{const p=d,m=n[++l];Rr(p)?r&&e.setProperty(t,p,m):r?e.setAttribute(t,p,m):t.setAttribute(p,m),l++}}return l}function uc(e){return 3===e||4===e||6===e}function Rr(e){return 64===e.charCodeAt(0)}function Ws(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||lc(e,n,l,null,-1===n||2===n?t[++r]:null)}}return e}function lc(e,t,n,r,l){let d=0,p=e.length;if(-1===t)p=-1;else for(;d<e.length;){const m=e[d++];if("number"==typeof m){if(m===t){p=-1;break}if(m>t){p=d-1;break}}}for(;d<e.length;){const m=e[d];if("number"==typeof m)break;if(m===n){if(null===r)return void(null!==l&&(e[d+1]=l));if(r===e[d+1])return void(e[d+2]=l)}d++,null!==r&&d++,null!==l&&d++}-1!==p&&(e.splice(p,0,t),d=p+1),e.splice(d++,0,n),null!==r&&e.splice(d++,0,r),null!==l&&e.splice(d++,0,l)}function Sa(e){return-1!==e}function ho(e){return 32767&e}function Gs(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let cc=!0;function po(e){const t=cc;return cc=e,t}let ep=0;function Jo(e,t){const n=xt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ou(r.data,e),Ou(t,null),Ou(r.blueprint,null));const l=zs(e,t),d=e.injectorIndex;if(Sa(l)){const p=ho(l),m=Gs(l,t),_=m[1].data;for(let b=0;b<8;b++)t[d+b]=m[p+b]|_[p+b]}return t[d+8]=l,d}function Ou(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function zs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){const d=l[1],p=d.type;if(r=2===p?d.declTNode:1===p?l[6]:null,null===r)return-1;if(n++,l=l[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function zn(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(pt)&&(r=n[pt]),null==r&&(r=n[pt]=ep++);const l=255&r;t.data[e+(l>>5)]|=1<<l}(e,t,n)}function Aa(e,t,n){if(n&Pe.Optional)return e;Rt(t,"NodeInjector")}function yt(e,t,n,r){if(n&Pe.Optional&&void 0===r&&(r=null),0==(n&(Pe.Self|Pe.Host))){const l=e[9],d=qt(void 0);try{return l?l.get(t,r,n&Pe.Optional):eo(t,r,n&Pe.Optional)}finally{qt(d)}}return Aa(r,t,n)}function fc(e,t,n,r=Pe.Default,l){if(null!==e){const d=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(pt)?e[pt]:void 0;return"number"==typeof t?t>=0?255&t:go:t}(n);if("function"==typeof d){if(!Su(t,e,r))return r&Pe.Host?Aa(l,n,r):yt(t,n,r,l);try{const p=d(r);if(null!=p||r&Pe.Optional)return p;Rt(n)}finally{Yd()}}else if("number"==typeof d){let p=null,m=xt(e,t),_=-1,b=r&Pe.Host?t[16][6]:null;for((-1===m||r&Pe.SkipSelf)&&(_=-1===m?zs(e,t):t[m+8],-1!==_&&Ma(r,!1)?(p=t[1],m=ho(_),t=Gs(_,t)):m=-1);-1!==m;){const I=t[1];if(ts(d,m,I.data)){const A=on(m,t,n,p,r,b);if(A!==ln)return A}_=t[m+8],-1!==_&&Ma(r,t[1].data[m+8]===b)&&ts(d,m,t)?(p=I,m=ho(_),t=Gs(_,t)):m=-1}}}return yt(t,n,r,l)}const ln={};function go(){return new ns(Xt(),ve())}function on(e,t,n,r,l,d){const p=t[1],m=p.data[e+8],I=Xo(m,p,n,null==r?On(m)&&cc:r!=p&&0!=(3&m.type),l&Pe.Host&&d===m);return null!==I?es(t,p,I,m):ln}function Xo(e,t,n,r,l){const d=e.providerIndexes,p=t.data,m=1048575&d,_=e.directiveStart,I=d>>20,x=l?m+I:e.directiveEnd;for(let U=r?m:m+I;U<x;U++){const H=p[U];if(U<_&&n===H||U>=_&&H.type===n)return U}if(l){const U=p[_];if(U&&Ur(U)&&U.type===n)return _}return null}function es(e,t,n,r){let l=e[n];const d=t.data;if(function(e){return e instanceof Zo}(l)){const p=l;p.resolving&&function(e,t){throw new ue("200",`Circular dependency in DI detected for ${e}`)}(Ee(d[n]));const m=po(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?qt(p.injectImpl):null;Su(e,r,Pe.Default);try{l=e[n]=p.factory(void 0,d,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:d}=t.type.prototype;if(r){const p=Ca(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,p),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,p)}l&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,l),d&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d))}(n,d[n],t)}finally{null!==_&&qt(_),po(m),p.resolving=!1,Yd()}}return l}function ts(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ma(e,t){return!(e&Pe.Self||e&Pe.Host&&t)}class ns{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return fc(this._tNode,this._lView,t,void 0,n)}}function Fu(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const d=n[l];if(uc(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(d===t)return n[l+1];l+=2}}}return null}(Xt(),e)}const rs="__parameters__";function Ai(e,t,n){return br(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}(t);function l(...d){if(this instanceof l)return r.apply(this,d),this;const p=new l(...d);return m.annotation=p,m;function m(_,b,I){const A=_.hasOwnProperty(rs)?_[rs]:Object.defineProperty(_,rs,{value:[]})[rs];for(;A.length<=I;)A.push(null);return(A[I]=A[I]||[]).push(p),_}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class Ot{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Dt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _o=new Ot("AnalyzeForEntryComponents"),ju=Function;function pr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),pr(r,t)):t!==e&&t.push(r)}return t}function Dn(e,t){e.forEach(n=>Array.isArray(n)?Dn(n,t):t(n))}function ii(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function yo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const os={},La="__NG_DI_FLAG__",bo="ngTempTokenPath",ss=/\n/gm,Va="__source",Zs=z({provide:String,useValue:z});let Oi;function oi(e){const t=Oi;return Oi=e,t}function Js(e,t=Pe.Default){if(void 0===Oi)throw new Error("inject() must be called from an injection context");return null===Oi?eo(e,void 0,t):Oi.get(e,t&Pe.Optional?null:void 0,t)}function $t(e,t=Pe.Default){return(zt||Js)(F(e),t)}function Ni(e){const t=[];for(let n=0;n<e.length;n++){const r=F(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let l,d=Pe.Default;for(let p=0;p<r.length;p++){const m=r[p],_=_c(m);"number"==typeof _?-1===_?l=m.token:d|=_:l=m}t.push($t(l,d))}else t.push($t(r))}return t}function Fi(e,t){return e[La]=t,e.prototype[La]=t,e}function _c(e){return e[La]}function Wu(e,t,n,r){const l=e[bo];throw t[Va]&&l.unshift(t[Va]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=K(t);if(Array.isArray(t))l=t.map(K).join(" -> ");else if("object"==typeof t){let d=[];for(let p in t)if(t.hasOwnProperty(p)){let m=t[p];d.push(p+":"+("string"==typeof m?JSON.stringify(m):K(m)))}l=`{${d.join(", ")}}`}return`${n}${r?"("+r+")":""}[${l}]: ${e.replace(ss,"\n  ")}`}("\n"+e.message,l,n,r),e.ngTokenPath=l,e[bo]=null,e}const Do=Fi(Ai("Inject",e=>({token:e})),-1),si=Fi(Ai("Optional"),8),Wr=Fi(Ai("SkipSelf"),4);let wo;function wn(e){var t;return(null===(t=function(){if(void 0===wo&&(wo=null,Ft.trustedTypes))try{wo=Ft.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return wo}())||void 0===t?void 0:t.createHTML(e))||e}class ui{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ec extends ui{getTypeName(){return"HTML"}}class us extends ui{getTypeName(){return"Style"}}class Ga extends ui{getTypeName(){return"Script"}}class Zu extends ui{getTypeName(){return"URL"}}class kn extends ui{getTypeName(){return"ResourceURL"}}function xr(e){return e instanceof ui?e.changingThisBreaksApplicationSecurity:e}function li(e,t){const n=Ju(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Ju(e){return e instanceof ui&&e.getTypeName()||null}function gf(e){return new Ec(e)}function bc(e){return new us(e)}function Xu(e){return new Ga(e)}function mf(e){return new Zu(e)}function vf(e){return new kn(e)}class el{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(wn(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Rn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=wn(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=wn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let l=n.length-1;0<l;l--){const p=n.item(l).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&t.removeAttribute(p)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Vi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ls=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gr(e){return(e=String(e)).match(Vi)||e.match(ls)?e:"unsafe:"+e}function mr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ui(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const wc=mr("area,br,col,hr,img,wbr"),Io=mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ic=mr("rp,rt"),ji=Ui(wc,Ui(Io,mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ui(Ic,mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ui(Ic,Io)),To=mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vr=mr("srcset"),So=Ui(To,vr,mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cf=mr("script,style,template");class Sc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=this.checkClobberedElement(n,n.nextSibling);if(l){n=l;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!ji.hasOwnProperty(n))return this.sanitizedSomething=!0,!Cf.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let l=0;l<r.length;l++){const d=r.item(l),p=d.name,m=p.toLowerCase();if(!So.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let _=d.value;To[m]&&(_=gr(_)),vr[m]&&(e=_,_=(e=String(e)).split(",").map(t=>gr(t.trim())).join(", ")),this.buf.push(" ",p,'="',Mc(_),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();ji.hasOwnProperty(n)&&!wc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Mc(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Rc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ac=/([^\#-~ |!])/g;function Mc(e){return e.replace(/&/g,"&amp;").replace(Rc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ac,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ln;function ea(e,t){let n=null;try{Ln=Ln||function(e){const t=new Rn(e);return function(){try{return!!(new window.DOMParser).parseFromString(wn(""),"text/html")}catch(e){return!1}}()?new el(t):t}(e);let r=t?String(t):"";n=Ln.getInertBodyElement(r);let l=5,d=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=d,d=n.innerHTML,n=Ln.getInertBodyElement(r)}while(r!==d);return wn((new Sc).sanitizeChildren(Gr(n)||n))}finally{if(n){const r=Gr(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Gr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var It=(()=>((It=It||{})[It.NONE=0]="NONE",It[It.HTML=1]="HTML",It[It.STYLE=2]="STYLE",It[It.SCRIPT=3]="SCRIPT",It[It.URL=4]="URL",It[It.RESOURCE_URL=5]="RESOURCE_URL",It))();function ta(e){const t=function(){const e=ve();return e&&e[12]}();return t?t.sanitize(It.URL,e)||"":li(e,"URL")?xr(e):gr(Ce(e))}const rl="__ngContext__";function In(e,t){e[rl]=t}function or(e){const t=function(e){return e[rl]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ja(e){return e.ngOriginalError}function Tf(e,...t){e.error(...t)}class hs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),l=(e=t)&&e.ngErrorLogger||Tf;var e;l(this._console,"ERROR",t),n&&l(this._console,"ORIGINAL ERROR",n),r&&l(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(Ja(t)):null}_findOriginalError(t){let n=t&&Ja(t);for(;n&&Ja(n);)n=Ja(n);return n||null}}const eu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function zr(e){return e instanceof Function?e():e}var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();function Ao(e,t){return undefined(e,t)}function $i(e){const t=e[3];return cr(t)?t[3]:t}function tu(e){return gs(e[13])}function nu(e){return gs(e[4])}function gs(e){for(;null!==e&&!cr(e);)e=e[4];return e}function ms(e,t,n,r,l){if(null!=r){let d,p=!1;cr(r)?d=r:Zt(r)&&(p=!0,r=r[0]);const m=jt(r);0===e&&null!==n?null==l?R(t,n,m):w(t,n,m,l||null,!0):1===e&&null!==n?w(t,n,m,l||null,!0):2===e?function(e,t,n){const r=L(e,t);r&&function(e,t,n,r){Yt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,m,p):3===e&&t.destroyNode(m),null!=d&&function(e,t,n,r,l){const d=n[7];d!==jt(n)&&ms(t,e,r,d,l);for(let m=10;m<n.length;m++){const _=n[m];ua(_[1],_,e,t,r,d)}}(t,e,d,n,l)}}function cl(e,t,n){return Yt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function dl(e,t){const n=e[9],r=n.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,Di(l,-1)),n.splice(r,1)}function qc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const l=r[17];null!==l&&l!==e&&dl(l,r),t>0&&(e[n-1][4]=r[4]);const d=yo(e,10+t);!function(e,t){ua(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const p=d[19];null!==p&&p.detachView(d[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function u(e,t){if(!(256&t[2])){const n=t[11];Yt(n)&&n.destroyNode&&ua(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return a(e[1],e);for(;t;){let n=null;if(Zt(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Zt(t)&&a(t[1],t),t=t[3];null===t&&(t=e),Zt(t)&&a(t[1],t),n=t&&t[4]}t=n}}(t)}}function a(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof Zo)){const d=n[r+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const m=l[d[p]],_=d[p+1];try{_.call(m)}finally{}}else try{d.call(l)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let l=-1;if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const p=n[d+1],m="function"==typeof p?p(t):jt(t[p]),_=r[l=n[d+2]],b=n[d+3];"boolean"==typeof b?m.removeEventListener(n[d],_,b):b>=0?r[l=b]():r[l=-b].unsubscribe(),d+=2}else{const p=r[l=n[d+1]];n[d].call(p)}if(null!==r){for(let d=l+1;d<r.length;d++)r[d]();t[7]=null}}(e,t),1===t[1].type&&Yt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&cr(t[3])){n!==t[3]&&dl(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function v(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const l=e.data[r.directiveStart].encapsulation;if(l===Oe.None||l===Oe.Emulated)return null}return dr(r,n)}(e,t.parent,n)}function w(e,t,n,r,l){Yt(e)?e.insertBefore(t,n,r,l):t.insertBefore(n,r,l)}function R(e,t,n){Yt(e)?e.appendChild(t,n):t.appendChild(n)}function M(e,t,n,r,l){null!==r?w(e,t,n,r,l):R(e,t,n)}function L(e,t){return Yt(e)?e.parentNode(t):t.parentNode}let Se=function(e,t,n){return 40&e.type?dr(e,n):null};function et(e,t,n,r){const l=v(e,r,t),d=t[11],m=function(e,t,n){return Se(e,t,n)}(r.parent||t[6],r,t);if(null!=l)if(Array.isArray(n))for(let _=0;_<n.length;_++)M(d,l,n[_],m,!1);else M(d,l,n,m,!1)}function sn(e,t){if(null!==t){const n=t.type;if(3&n)return dr(t,e);if(4&n)return Qr(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return sn(e,r);{const l=e[t.index];return cr(l)?Qr(-1,l):jt(l)}}if(32&n)return Ao(t,e)()||jt(e[t.index]);{const r=Kt(e,t);return null!==r?Array.isArray(r)?r[0]:sn($i(e[16]),r):sn(e,t.next)}}return null}function Kt(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Qr(e,t){const n=10+e+1;if(n<t.length){const r=t[n],l=r[1].firstChild;if(null!==l)return sn(r,l)}return t[7]}function aa(e,t,n,r,l,d,p){for(;null!=n;){const m=r[n.index],_=n.type;if(p&&0===t&&(m&&In(jt(m),r),n.flags|=4),64!=(64&n.flags))if(8&_)aa(e,t,n.child,r,l,d,!1),ms(t,e,l,m,d);else if(32&_){const b=Ao(n,r);let I;for(;I=b();)ms(t,e,l,I,d);ms(t,e,l,m,d)}else 16&_?_r(e,t,r,n,l,d):ms(t,e,l,m,d);n=p?n.projectionNext:n.next}}function ua(e,t,n,r,l,d){aa(n,r,e.firstChild,t,l,d,!1)}function _r(e,t,n,r,l,d){const p=n[16],_=p[6].projection[r.projection];if(Array.isArray(_))for(let b=0;b<_.length;b++)ms(t,e,l,_[b],d);else aa(e,t,_,p[3],l,d,!0)}function hp(e,t,n){Yt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Nf(e,t,n){Yt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Wi(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=t.length;if(l+d===r||e.charCodeAt(l+d)<=32)return l}n=l+1}}const iu="ng-template";function gp(e,t,n){let r=0;for(;r<e.length;){let l=e[r++];if(n&&"class"===l){if(l=e[r],-1!==Wi(l.toLowerCase(),t,0))return!0}else if(1===l){for(;r<e.length&&"string"==typeof(l=e[r++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function mp(e){return 4===e.type&&e.value!==iu}function Qg(e,t,n){return t===(4!==e.type||n?e.value:iu)}function Kg(e,t,n){let r=4;const l=e.attrs||[],d=function(e){for(let t=0;t<e.length;t++)if(uc(e[t]))return t;return e.length}(l);let p=!1;for(let m=0;m<t.length;m++){const _=t[m];if("number"!=typeof _){if(!p)if(4&r){if(r=2|1&r,""!==_&&!Qg(e,_,n)||""===_&&1===t.length){if(di(r))return!1;p=!0}}else{const b=8&r?_:t[++m];if(8&r&&null!==e.attrs){if(!gp(e.attrs,b,n)){if(di(r))return!1;p=!0}continue}const A=qg(8&r?"class":_,l,mp(e),n);if(-1===A){if(di(r))return!1;p=!0;continue}if(""!==b){let x;x=A>d?"":l[A+1].toLowerCase();const U=8&r?x:null;if(U&&-1!==Wi(U,b,0)||2&r&&b!==x){if(di(r))return!1;p=!0}}}}else{if(!p&&!di(r)&&!di(_))return!1;if(p&&di(_))continue;p=!1,r=_|1&r}}return di(r)||p}function di(e){return 0==(1&e)}function qg(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let d=!1;for(;l<t.length;){const p=t[l];if(p===e)return l;if(3===p||6===p)d=!0;else{if(1===p||2===p){let m=t[++l];for(;"string"==typeof m;)m=t[++l];continue}if(4===p)break;if(0===p){l+=4;continue}}l+=d?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function vp(e,t,n=!1){for(let r=0;r<t.length;r++)if(Kg(e,t[r],n))return!0;return!1}function Cp(e,t){return e?":not("+t.trim()+")":t}function Xg(e){let t=e[0],n=1,r=2,l="",d=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&r){const m=e[++n];l+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?l+="."+p:4&r&&(l+=" "+p);else""!==l&&!di(p)&&(t+=Cp(d,l),l=""),r=p,d=d||!di(r);n++}return""!==l&&(t+=Cp(d,l)),t}const tt={};function zi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const l=n[r],d=n[r+1];if(-1!==d){const p=e.data[d];co(l),p.contentQueries(2,t[d],d)}}}function lu(e,t,n,r,l,d,p,m,_,b){const I=t.blueprint.slice();return I[0]=l,I[2]=140|r,Iu(I),I[3]=I[15]=e,I[8]=n,I[10]=p||e&&e[10],I[11]=m||e&&e[11],I[12]=_||e&&e[12]||null,I[9]=b||e&&e[9]||null,I[6]=d,I[16]=2==t.type?e[16]:I,I}function cu(e,t,n,r,l){let d=e.data[t];if(null===d)d=function(e,t,n,r,l){const d=Ls(),p=Vs(),_=e.data[t]=function(e,t,n,r,l,d){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,n,t,r,l);return null===e.firstChild&&(e.firstChild=_),null!==d&&(p?null==d.child&&null!==_.parent&&(d.child=_):null===d.next&&(d.next=_)),_}(e,t,n,r,l),Ye.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=n,d.value=r,d.attrs=l;const p=function(){const e=Ye.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Nn(d,!0),d}function la(e,t,n,r){if(0===n)return-1;const l=t.length;for(let d=0;d<n;d++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function vl(e,t,n){fo(t);try{const r=e.viewQuery;null!==r&&sd(1,r,n);const l=e.template;null!==l&&td(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&zi(e,t),e.staticViewQueries&&sd(2,e.viewQuery,n);const d=e.components;null!==d&&function(e,t){for(let n=0;n<t.length;n++)qr(e,t[n])}(t,d)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,ri()}}function Oo(e,t,n,r){const l=t[2];if(256==(256&l))return;fo(t);const d=lo();try{Iu(t),function(e){Ye.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&td(e,t,n,2,r);const p=3==(3&l);if(!d)if(p){const b=e.preOrderCheckHooks;null!==b&&Ti(t,b,null)}else{const b=e.preOrderHooks;null!==b&&Bs(t,b,0,null),Hs(t,0)}if(function(e){for(let t=tu(e);null!==t;t=nu(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const l=n[r],d=l[3];0==(1024&l[2])&&Di(d,1),l[2]|=1024}}}(t),function(e){for(let t=tu(e);null!==t;t=nu(t))for(let n=10;n<t.length;n++){const r=t[n],l=r[1];Xl(r)&&Oo(l,r,l.template,r[8])}}(t),null!==e.contentQueries&&zi(e,t),!d)if(p){const b=e.contentCheckHooks;null!==b&&Ti(t,b)}else{const b=e.contentHooks;null!==b&&Bs(t,b,1),Hs(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const l=n[r];if(l<0)Tr(~l);else{const d=l,p=n[++r],m=n[++r];rc(p,d),m(2,t[d])}}}finally{Tr(-1)}}(e,t);const m=e.components;null!==m&&function(e,t){for(let n=0;n<t.length;n++)vm(e,t[n])}(t,m);const _=e.viewQuery;if(null!==_&&sd(2,_,r),!d)if(p){const b=e.viewCheckHooks;null!==b&&Ti(t,b)}else{const b=e.viewHooks;null!==b&&Bs(t,b,2),Hs(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),d||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Di(t[3],-1))}finally{ri()}}function Ap(e,t,n,r){const l=t[10],d=!lo(),p=Jl(t);try{d&&!p&&l.begin&&l.begin(),p&&vl(e,t,r),Oo(e,t,n,r)}finally{d&&!p&&l.end&&l.end()}}function td(e,t,n,r,l){const d=Ye.lFrame.selectedIndex,p=2&r;try{Tr(-1),p&&t.length>20&&function(e,t,n,r){if(!r)if(3==(3&t[2])){const d=e.preOrderCheckHooks;null!==d&&Ti(t,d,n)}else{const d=e.preOrderHooks;null!==d&&Bs(t,d,0,n)}Tr(n)}(e,t,20,lo()),n(r,l)}finally{Tr(d)}}function Mp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ca(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ca(e,t,n,r,l,d,p,m,_,b){const I=20+r,A=I+l,x=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:tt);return n}(I,A),U="function"==typeof b?b():b;return x[1]={type:e,blueprint:x,template:n,queries:null,viewQuery:m,declTNode:t,data:x.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:U,incompleteFirstPass:!1}}function Cl(e,t,n,r){const l=eh(t);null===n?l.push(r):(l.push(n),e.firstCreatePass&&Sl(e).push(r,l.length-1))}function nd(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const l=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,l):n[r]=[t,l]}return n}function kp(e,t,n,r,l,d){const p=d.hostBindings;if(p){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const _=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=_&&m.push(_),m.push(r,l,p)}}function Up(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Bp(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Cs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ur(t)&&(n[""]=e)}}function Hp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Es(e,t,n,r,l){e.data[r]=l;const d=l.factory||(l.factory=ei(l.type)),p=new Zo(d,Ur(l),null);e.blueprint[r]=p,n[r]=p,kp(e,t,0,r,la(e,n,l.hostVars,tt),l)}function pm(e,t,n){const r=dr(t,e),l=Mp(n),d=e[10],p=Il(e,lu(e,l,null,n.onPush?64:16,r,t,d,d.createRenderer(r,n),null,null));e[t.index]=p}function Yi(e,t,n,r,l,d){const p=dr(e,t);!function(e,t,n,r,l,d,p){if(null==d)Yt(e)?e.removeAttribute(t,l,n):t.removeAttribute(l);else{const m=null==p?Ce(d):p(d,r||"",l);Yt(e)?e.setAttribute(t,l,m,n):n?t.setAttributeNS(n,l,m):t.setAttribute(l,m)}}(t[11],p,d,e.value,n,r,l)}function gm(e,t,n,r,l,d){const p=d[t];if(null!==p){const m=r.setInput;for(let _=0;_<p.length;){const b=p[_++],I=p[_++],A=p[_++];null!==m?r.setInput(n,A,b,I):n[I]=A}}}function Dl(e,t){let n=null,r=0;for(;r<t.length;){const l=t[r];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===n&&(n=[]),n.push(l,e[l],t[r+1])),r+=2}else r+=2;else r+=4}return n}function vm(e,t){const n=Wn(t,e);if(Xl(n)){const r=n[1];80&n[2]?Oo(r,n,r.template,n[8]):n[5]>0&&wl(n)}}function wl(e){for(let r=tu(e);null!==r;r=nu(r))for(let l=10;l<r.length;l++){const d=r[l];if(1024&d[2]){const p=d[1];Oo(p,d,p.template,d[8])}else d[5]>0&&wl(d)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const l=Wn(n[r],e);Xl(l)&&l[5]>0&&wl(l)}}function qr(e,t){const n=Wn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),vl(r,n,n[8])}function Il(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function du(e){for(;e;){e[2]|=64;const t=$i(e);if(wr(e)&&!t)return e;e=t}return null}function Xf(e,t,n){const r=t[10];r.begin&&r.begin();try{Oo(e,t,e.template,n)}catch(l){throw zp(t,l),l}finally{r.end&&r.end()}}function Gp(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=or(n),l=r[1];Ap(l,r,l.template,n)}}(e[8])}function sd(e,t,n){co(0),t(e,n)}const Tl=(()=>Promise.resolve(null))();function eh(e){return e[7]||(e[7]=[])}function Sl(e){return e.cleanup||(e.cleanup=[])}function zp(e,t){const n=e[9],r=n?n.get(hs,null):null;r&&r.handleError(t)}function Yp(e,t,n,r,l){for(let d=0;d<n.length;){const p=n[d++],m=n[d++],_=t[p],b=e.data[p];null!==b.setInput?b.setInput(_,l,r,m):_[m]=l}}function ad(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,d=0;if(null!==t)for(let p=0;p<t.length;p++){const m=t[p];"number"==typeof m?d=m:1==d?l=G(l,m):2==d&&(r=G(r,m+": "+t[++p]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}const da=new Ot("INJECTOR",-1);class Rl{get(t,n=os){if(n===os){const r=new Error(`NullInjectorError: No provider for ${K(t)}!`);throw r.name="NullInjectorError",r}return n}}const Al=new Ot("Set Injector scope."),Ml={},ud={};let rh;function fu(){return void 0===rh&&(rh=new Rl),rh}function Qp(e,t=null,n=null,r){return new xl(e,n,t||fu(),r)}class xl{constructor(t,n,r,l=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];n&&Dn(n,m=>this.processProvider(m,t,n)),Dn([t],m=>this.processInjectorType(m,[],d)),this.records.set(da,hu(void 0,this));const p=this.records.get(Al);this.scope=null!=p?p.value:null,this.source=l||("object"==typeof t?null:K(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=os,r=Pe.Default){this.assertNotDestroyed();const l=oi(this),d=qt(void 0);try{if(!(r&Pe.SkipSelf)){let m=this.records.get(t);if(void 0===m){const _=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Ot)&&mn(t);m=_&&this.injectableDefInScope(_)?hu(ih(t),Ml):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(r&Pe.Self?fu():this.parent).get(t,n=r&Pe.Optional&&n===os?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[bo]=p[bo]||[]).unshift(K(t)),l)throw p;return Wu(p,t,"R3InjectorError",this.source)}throw p}finally{qt(d),oi(l)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,l)=>t.push(K(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=F(t)))return!1;let l=Ho(t);const d=null==l&&t.ngModule||void 0,p=void 0===d?t:d,m=-1!==r.indexOf(p);if(void 0!==d&&(l=Ho(d)),null==l)return!1;if(null!=l.imports&&!m){let I;r.push(p);try{Dn(l.imports,A=>{this.processInjectorType(A,n,r)&&(void 0===I&&(I=[]),I.push(A))})}finally{}if(void 0!==I)for(let A=0;A<I.length;A++){const{ngModule:x,providers:U}=I[A];Dn(U,H=>this.processProvider(H,x,U||j))}}this.injectorDefTypes.add(p);const _=ei(p)||(()=>new p);this.records.set(p,hu(_,Ml));const b=l.providers;if(null!=b&&!m){const I=t;Dn(b,A=>this.processProvider(A,I,b))}return void 0!==d&&void 0!==t.providers}processProvider(t,n,r){let l=pu(t=F(t))?t:F(t&&t.provide);const d=qp(e=t)?hu(void 0,e.useValue):hu(function(e,t,n){let r;if(pu(e)){const l=F(e);return ei(l)||ih(l)}if(qp(e))r=()=>F(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ni(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>$t(F(e.useExisting));else{const l=F(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ei(l)||ih(l);r=()=>new l(...Ni(e.deps))}return r}(e),Ml);var e;if(pu(t)||!0!==t.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=hu(void 0,Ml,!0),p.factory=()=>Ni(p.multi),this.records.set(l,p)),l=t,p.multi.push(t)}this.records.set(l,d)}hydrate(t,n){return n.value===Ml&&(n.value=ud,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=F(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function ih(e){const t=mn(e),n=null!==t?t.factory:ei(e);if(null!==n)return n;if(e instanceof Ot)throw new Error(`Token ${K(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${K(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[vt]||e[Cn]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function hu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function qp(e){return null!==e&&"object"==typeof e&&Zs in e}function pu(e){return"function"==typeof e}const oh=function(e,t,n){return function(e,t=null,n=null,r){const l=Qp(e,t,n,r);return l._resolveInjectorDefTypes(),l}({name:n},t,e,n)};let an=(()=>{class e{static create(n,r){return Array.isArray(n)?oh(n,r,""):oh(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=os,e.NULL=new Rl,e.\u0275prov=Dt({token:e,providedIn:"any",factory:()=>$t(da)}),e.__NG_ELEMENT_ID__=-1,e})();function Vm(e,t){Ii(or(e)[1],Xt())}let fd=null;function ha(){if(!fd){const e=Ft.Symbol;if(e&&e.iterator)fd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(fd=r)}}}return fd}function Nl(e){return!!hd(e)&&(Array.isArray(e)||!(e instanceof Map)&&ha()in e)}function hd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function i(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function y(e,t,n,r){const l=ve();return i(l,ni(),t)&&(gt(),Yi(rn(),l,e,t,n,r)),y}function vh(e,t=Pe.Default){const n=ve();return null===n?$t(e,t):fc(Xt(),n,F(e),t)}function qm(e,t,n,r,l){const p=l?"class":"style";Yp(e,n,t.inputs[p],p,r)}function Zm(e,t,n,r){const l=ve(),d=gt(),p=20+e,m=l[11],_=l[p]=cl(m,t,Ye.lFrame.currentNamespace),b=d.firstCreatePass?function(e,t,n,r,l,d,p){const m=t.consts,b=cu(t,e,2,l,bi(m,d));return function(e,t,n,r){let l=!1;if($d()){const d=function(e,t,n){const r=e.directiveRegistry;let l=null;if(r)for(let d=0;d<r.length;d++){const p=r[d];vp(n,p.selectors,!1)&&(l||(l=[]),zn(Jo(n,t),e,p.type),Ur(p)?(Bp(e,n),l.unshift(p)):l.push(p))}return l}(e,t,n),p=null===r?null:{"":-1};if(null!==d){l=!0,Hp(n,e.data.length,d.length);for(let I=0;I<d.length;I++){const A=d[I];A.providersResolver&&A.providersResolver(A)}let m=!1,_=!1,b=la(e,t,d.length,null);for(let I=0;I<d.length;I++){const A=d[I];n.mergedAttrs=Ws(n.mergedAttrs,A.hostAttrs),Es(e,n,t,b,A),Cs(b,A,p),null!==A.contentQueries&&(n.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=128);const x=A.type.prototype;!m&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),m=!0),!_&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),_=!0),b++}!function(e,t){const r=t.directiveEnd,l=e.data,d=t.attrs,p=[];let m=null,_=null;for(let b=t.directiveStart;b<r;b++){const I=l[b],A=I.inputs,x=null===d||mp(t)?null:Dl(A,d);p.push(x),m=nd(A,b,m),_=nd(I.outputs,b,_)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=16),m.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=p,t.inputs=m,t.outputs=_}(e,n)}p&&function(e,t,n){if(t){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const d=n[t[l+1]];if(null==d)throw new ue("301",`Export of name '${t[l+1]}' not found!`);r.push(t[l],d)}}}(n,r,p)}n.mergedAttrs=Ws(n.mergedAttrs,n.attrs)}(t,n,b,bi(m,p)),null!==b.attrs&&ad(b,b.attrs,!1),null!==b.mergedAttrs&&ad(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(p,d,l,0,t,n,r):d.data[p];Nn(b,!0);const I=b.mergedAttrs;null!==I&&xu(m,_,I);const A=b.classes;null!==A&&Nf(m,_,A);const x=b.styles;null!==x&&hp(m,_,x),64!=(64&b.flags)&&et(d,l,_,b),0===Ye.lFrame.elementDepthCount&&In(_,l),Ye.lFrame.elementDepthCount++,_a(b)&&(function(e,t,n){!$d()||(function(e,t,n,r){const l=n.directiveStart,d=n.directiveEnd;e.firstCreatePass||Jo(n,t),In(r,t);const p=n.initialInputs;for(let m=l;m<d;m++){const _=e.data[m],b=Ur(_);b&&pm(t,n,_);const I=es(t,e,m,n);In(I,t),null!==p&&gm(0,m-l,I,_,0,p),b&&(Wn(n.index,t)[8]=I)}}(e,t,n,dr(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,l=n.directiveEnd,p=n.index,m=Ye.lFrame.currentDirectiveIndex;try{Tr(p);for(let _=r;_<l;_++){const b=e.data[_],I=t[_];Gn(_),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Up(b,I)}}finally{Tr(-1),Gn(m)}}(e,t,n))}(d,l,b),function(e,t,n){if(Ms(t)){const l=t.directiveEnd;for(let d=t.directiveStart;d<l;d++){const p=e.data[d];p.contentQueries&&p.contentQueries(1,n[d],d)}}}(d,b,l)),null!==r&&function(e,t,n=dr){const r=t.localNames;if(null!==r){let l=t.index+1;for(let d=0;d<r.length;d+=2){const p=r[d+1],m=-1===p?n(t,e):e[p];e[l++]=m}}}(l,b)}function Jm(){let e=Xt();Vs()?Ye.lFrame.isParent=!1:(e=e.parent,Nn(e,!1));const t=e;Ye.lFrame.elementDepthCount--;const n=gt();n.firstCreatePass&&(Ii(n,e),Ms(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&qm(n,t,ve(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&qm(n,t,ve(),t.stylesWithoutHost,!1)}function $_(e,t,n,r){Zm(e,t,n,r),Jm()}function Xm(e){return!!e&&"function"==typeof e.then}function z_(e){return!!e&&"function"==typeof e.subscribe}const ev=z_;function tv(e,t,n,r){const l=ve(),d=gt(),p=Xt();return function(e,t,n,r,l,d,p,m){const _=_a(r),I=e.firstCreatePass&&Sl(e),A=t[8],x=eh(t);let U=!0;if(3&r.type||m){const J=dr(r,t),be=m?m(J):J,pe=x.length,Be=m?Ze=>m(jt(Ze[r.index])):r.index;if(Yt(n)){let Ze=null;if(!m&&_&&(Ze=function(e,t,n,r){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const p=l[d];if(p===n&&l[d+1]===r){const m=t[7],_=l[d+2];return m.length>_?m[_]:null}"string"==typeof p&&(d+=2)}return null}(e,t,l,r.index)),null!==Ze)(Ze.__ngLastListenerFn__||Ze).__ngNextListenerFn__=d,Ze.__ngLastListenerFn__=d,U=!1;else{d=nv(r,t,A,d,!1);const St=n.listen(be,l,d);x.push(d,St),I&&I.push(l,Be,pe,pe+1)}}else d=nv(r,t,A,d,!0),be.addEventListener(l,d,p),x.push(d),I&&I.push(l,Be,pe,p)}else d=nv(r,t,A,d,!1);const H=r.outputs;let ae;if(U&&null!==H&&(ae=H[l])){const J=ae.length;if(J)for(let be=0;be<J;be+=2){const Bn=t[ae[be]][ae[be+1]].subscribe(d),Xi=x.length;x.push(d,Bn),I&&I.push(l,r.index,Xi,-(Xi+1))}}}(d,l,l[11],p,e,t,!!n,r),tv}function K_(e,t,n,r){try{return!1!==n(r)}catch(l){return zp(e,l),!1}}function nv(e,t,n,r,l){return function d(p){if(p===Function)return r;const m=2&e.flags?Wn(e.index,t):t;0==(32&t[2])&&du(m);let _=K_(t,0,r,p),b=d.__ngNextListenerFn__;for(;b;)_=K_(t,0,b,p)&&_,b=b.__ngNextListenerFn__;return l&&!1===_&&(p.preventDefault(),p.returnValue=!1),_}}function Cy(e,t=""){const n=ve(),r=gt(),l=e+20,d=r.firstCreatePass?cu(r,l,1,t,null):r.data[l],p=n[l]=function(e,t){return Yt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);et(r,n,p,d),Nn(d,!1)}function sv(e,t,n){const r=ve();return i(r,ni(),t)&&function(e,t,n,r,l,d,p,m){const _=dr(t,n);let I,b=t.inputs;!m&&null!=b&&(I=b[r])?(Yp(e,n,I,r,l),On(t)&&function(e,t){const n=Wn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),l=null!=p?p(l,t.value||"",r):l,Yt(d)?d.setProperty(_,r,l):Rr(r)||(_.setProperty?_.setProperty(r,l):_[r]=l))}(gt(),rn(),r,e,t,r[11],n,!0),sv}const kl=void 0;var L0=["en",[["a","p"],["AM","PM"],kl],[["AM","PM"],kl,kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kl,"{1} 'at' {0}",kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let vd={};function av(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=By(t);if(n)return n;const r=t.split("-")[0];if(n=By(r),n)return n;if("en"===r)return L0;throw new Error(`Missing locale data for the locale "${e}".`)}function jy(e){return av(e)[qe.PluralCase]}function By(e){return e in vd||(vd[e]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[e]),vd[e]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const pg="en-US";let Hy=pg;function uv(e){$e(e,"Expected localeId to be defined"),"string"==typeof e&&(Hy=e.toLowerCase().replace(/_/g,"-"))}class hC{}const gC="ngComponent";class VD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${K(e)}. Did you add it to @NgModule.entryComponents?`);return t[gC]=e,t}(t)}}let yd=(()=>{class e{}return e.NULL=new VD,e})();function yg(...e){}function Cd(e,t){return new Is(dr(e,t))}const BD=function(){return Cd(Xt(),ve())};let Is=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=BD,e})();function mC(e){return e instanceof Is?e.nativeElement:e}class Cg{}let HD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>WD(),e})();const WD=function(){const e=ve(),n=Wn(Xt().index,e);return function(e){return e[11]}(Zt(n)?n:e)};let mv=(()=>{class e{}return e.\u0275prov=Dt({token:e,providedIn:"root",factory:()=>null}),e})();class vC{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vv=new vC("12.2.9");class _C{constructor(){}supports(t){return Nl(t)}create(t){return new QD(t)}}const YD=(e,t)=>t;class QD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||YD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,l=0,d=null;for(;n||r;){const p=!r||n&&n.currentIndex<CC(r,l,d)?n:r,m=CC(p,l,d),_=p.currentIndex;if(p===r)l--,r=r._nextRemoved;else if(n=n._next,null==p.previousIndex)l++;else{d||(d=[]);const b=m-l,I=_-l;if(b!=I){for(let x=0;x<b;x++){const U=x<d.length?d[x]:d[x]=0,H=U+x;I<=H&&H<b&&(d[x]=U+1)}d[p.previousIndex]=I-b}}m!==_&&t(p,m,_)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Nl(t))throw new Error(`Error trying to diff '${K(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,d,p,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let m=0;m<this.length;m++)d=t[m],p=this._trackByFn(m,d),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,d,p,m)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,p,m),r=!0),n=n._next}else l=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ha()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,m=>{p=this._trackByFn(l,m),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,m,p,l)),Object.is(n.item,m)||this._addIdentityChange(n,m)):(n=this._mismatch(n,m,p,l),r=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,l){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,l)):t=this._addAfter(new KD(n,r),d,l),t}_verifyReinsertion(t,n,r,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==d?t=this._reinsertAfter(d,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,d=t._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new yC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class KD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class yC{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new qD,this.map.set(n,r)),r.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CC(e,t,n){const r=e.previousIndex;if(null===r)return r;let l=0;return n&&r<n.length&&(l=n[r]),r+t+l}class EC{constructor(){}supports(t){return t instanceof Map||hd(t)}create(){return new ZD}}class ZD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||hd(t)))throw new Error(`Error trying to diff '${K(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(l,r);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const d=l._prev,p=l._next;return d&&(d._next=p),p&&(p._prev=d),l._next=null,l._prev=null,l}const r=new JD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class JD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bC(){return new Eg([new _C])}let Eg=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const l=r.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||bC()),deps:[[e,new Wr,new si]]}}find(n){const r=this.factories.find(l=>l.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Dt({token:e,providedIn:"root",factory:bC}),e})();function DC(){return new bg([new EC])}let bg=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const l=r.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||DC()),deps:[[e,new Wr,new si]]}}find(n){const r=this.factories.find(l=>l.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Dt({token:e,providedIn:"root",factory:DC}),e})();function Dg(e,t,n,r,l=!1){for(;null!==n;){const d=t[n.index];if(null!==d&&r.push(jt(d)),cr(d))for(let m=10;m<d.length;m++){const _=d[m],b=_[1].firstChild;null!==b&&Dg(_[1],_,b,r)}const p=n.type;if(8&p)Dg(e,t,n.child,r);else if(32&p){const m=Ao(n,t);let _;for(;_=m();)r.push(_)}else if(16&p){const m=Kt(t,n);if(Array.isArray(m))r.push(...m);else{const _=$i(t[16]);Dg(_[1],_,m,r,!0)}}n=l?n.projectionNext:n.next}return r}class Dh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Dg(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(cr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(qc(t,r),yo(n,r))}this._attachedToViewContainer=!1}u(this._lView[1],this._lView)}onDestroy(t){Cl(this._lView[1],this._lView,null,t)}markForCheck(){du(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ti(!0);try{Xf(e,t,n)}finally{ti(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ua(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ew extends Dh{constructor(t){super(t),this._view=t}detectChanges(){Gp(this._view)}checkNoChanges(){!function(e){ti(!0);try{Gp(e)}finally{ti(!1)}}(this._view)}get context(){return null}}const nw=function(e){return function(e,t,n){if(On(e)&&!n){const r=Wn(e.index,t);return new Dh(r,r)}return 47&e.type?new Dh(t[16],t):null}(Xt(),ve(),16==(16&e))};let rw=(()=>{class e{}return e.__NG_ELEMENT_ID__=nw,e})();const sw=[new EC],uw=new Eg([new _C]),lw=new bg(sw),dw=function(){return wg(Xt(),ve())};let wh=(()=>{class e{}return e.__NG_ELEMENT_ID__=dw,e})();const fw=wh,hw=class extends fw{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=lu(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(n)),vl(n,r,t),new Dh(r)}};function wg(e,t){return 4&e.type?new hw(t,e,Cd(e,t)):null}class Ll{}class wC{}const mw=function(){return SC(Xt(),ve())};let Ig=(()=>{class e{}return e.__NG_ELEMENT_ID__=mw,e})();const _w=Ig,IC=class extends _w{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Cd(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){const t=zs(this._hostTNode,this._hostLView);if(Sa(t)){const n=Gs(t,this._hostLView),r=ho(t);return new ns(n[1].data[r+8],n)}return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=TC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const l=t.createEmbeddedView(n||{});return this.insert(l,r),l}createComponent(t,n,r,l,d){const p=r||this.parentInjector;if(!d&&null==t.ngModule&&p){const _=p.get(Ll,null);_&&(d=_)}const m=t.create(p,l,void 0,d);return this.insert(m.hostView,n),m}insert(t,n){const r=t._lView,l=r[1];if(cr(r[3])){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const A=r[3],x=new IC(A,A[6],A[3]);x.detach(x.indexOf(t))}}const d=this._adjustIndex(n),p=this._lContainer;!function(e,t,n,r){const l=10+r,d=n.length;r>0&&(n[l-1][4]=t),r<d-10?(t[4]=n[l],ii(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const p=t[17];null!==p&&n!==p&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(p,t);const m=t[19];null!==m&&m.insertView(e),t[2]|=128}(l,r,p,d);const m=Qr(d,p),_=r[11],b=L(_,p[7]);return null!==b&&function(e,t,n,r,l,d){r[0]=l,r[6]=t,ua(e,r,n,1,l,d)}(l,p[6],_,r,b,m),t.attachToViewContainerRef(),ii(_v(p),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=TC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=qc(this._lContainer,n);r&&(yo(_v(this._lContainer),n),u(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=qc(this._lContainer,n);return r&&null!=yo(_v(this._lContainer),n)?new Dh(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function TC(e){return e[8]}function _v(e){return e[8]||(e[8]=[])}function SC(e,t){let n;const r=t[e.index];if(cr(r))n=r;else{let l;if(8&e.type)l=jt(r);else{const d=t[11];l=d.createComment("");const p=dr(e,t);w(d,L(d,p),l,function(e,t){return Yt(e)?e.nextSibling(t):t.nextSibling}(d,p),!1)}t[e.index]=n=function(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,l,e),Il(t,n)}return new IC(n,e,t)}const wd={};class YC extends yd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Sn(t);return new KC(n,this.ngModule)}}function QC(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const pI=new Ot("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>eu});class KC extends hC{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(Xg).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return QC(this.componentDef.inputs)}get outputs(){return QC(this.componentDef.outputs)}create(t,n,r,l){const d=(l=l||this.ngModule)?function(e,t){return{get:(n,r,l)=>{const d=e.get(n,wd,l);return d!==wd||r===wd?d:t.get(n,r,l)}}}(t,l.injector):t,p=d.get(Cg,Ke),m=d.get(mv,null),_=p.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",I=r?function(e,t,n){if(Yt(e))return e.selectRootElement(t,n===Oe.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(_,r,this.componentDef.encapsulation):cl(p.createRenderer(null,this.componentDef),b,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(b)),A=this.componentDef.onPush?576:528,x=function(e,t){return{components:[],scheduler:e||eu,clean:Tl,playerHandler:t||null,flags:0}}(),U=ca(0,null,null,1,0,null,null,null,null,null),H=lu(null,U,x,A,null,null,p,_,m,d);let ae,J;fo(H);try{const be=function(e,t,n,r,l,d){const p=n[1];n[20]=e;const _=cu(p,20,2,"#host",null),b=_.mergedAttrs=t.hostAttrs;null!==b&&(ad(_,b,!0),null!==e&&(xu(l,e,b),null!==_.classes&&Nf(l,e,_.classes),null!==_.styles&&hp(l,e,_.styles)));const I=r.createRenderer(e,t),A=lu(n,Mp(t),null,t.onPush?64:16,n[20],_,r,I,d||null,null);return p.firstCreatePass&&(zn(Jo(_,n),p,t.type),Bp(p,_),Hp(_,n.length,1)),Il(n,A),n[20]=A}(I,this.componentDef,H,p,_);if(I)if(r)xu(_,I,["ng-version",vv.full]);else{const{attrs:pe,classes:Be}=function(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let d=e[r];if("string"==typeof d)2===l?""!==d&&t.push(d,e[++r]):8===l&&n.push(d);else{if(!di(l))break;l=d}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);pe&&xu(_,I,pe),Be&&Be.length>0&&Nf(_,I,Be.join(" "))}if(J=Ci(U,20),void 0!==n){const pe=J.projection=[];for(let Be=0;Be<this.ngContentSelectors.length;Be++){const Ze=n[Be];pe.push(null!=Ze?Array.from(Ze):null)}}ae=function(e,t,n,r,l){const d=n[1],p=function(e,t,n){const r=Xt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Es(e,r,t,la(e,t,1,null),n));const l=es(t,e,r.directiveStart,r);In(l,t);const d=dr(r,t);return d&&In(d,t),l}(d,n,t);if(r.components.push(p),e[8]=p,l&&l.forEach(_=>_(p,t)),t.contentQueries){const _=Xt();t.contentQueries(1,p,_.directiveStart)}const m=Xt();return!d.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Tr(m.index),kp(n[1],m,0,m.directiveStart,m.directiveEnd,t),Up(t,p)),p}(be,this.componentDef,H,x,[Vm]),vl(U,H,null)}finally{ri()}return new vI(this.componentType,ae,Cd(J,H),H,J)}}class vI extends class{}{constructor(t,n,r,l,d){super(),this.location=r,this._rootLView=l,this._tNode=d,this.instance=n,this.hostView=this.changeDetectorRef=new ew(l),this.componentType=t}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Id=new Map;class CI extends Ll{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new YC(this);const r=lr(t),l=t[we]||null;l&&uv(l),this._bootstrapComponents=zr(r.bootstrap),this._r3Injector=Qp(t,n,[{provide:Ll,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],K(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=an.THROW_IF_NOT_FOUND,r=Pe.Default){return t===an||t===Ll||t===da?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xv extends wC{constructor(t){super(),this.moduleType=t,null!==lr(t)&&function(e){const t=new Set;!function n(r){const l=lr(r,!0),d=l.id;null!==d&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${K(t)} vs ${K(t.name)}`)}(d,Id.get(d),r),Id.set(d,r));const p=zr(l.imports);for(const m of p)t.has(m)||(t.add(m),n(m))}(e)}(t)}create(t){return new CI(this.moduleType,t)}}function Pv(e){return t=>{setTimeout(e,void 0,t)}}const Ts=class extends E.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var l,d,p;let m=t,_=n||(()=>null),b=r;if(t&&"object"==typeof t){const A=t;m=null===(l=A.next)||void 0===l?void 0:l.bind(A),_=null===(d=A.error)||void 0===d?void 0:d.bind(A),b=null===(p=A.complete)||void 0===p?void 0:p.bind(A)}this.__isAsync&&(_=Pv(_),m&&(m=Pv(m)),b&&(b=Pv(b)));const I=super.subscribe({next:m,error:_,complete:b});return t instanceof oe.w&&t.add(I),I}};function UI(){return this._results[ha()]()}class Mg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ha(),r=Mg.prototype;r[n]||(r[n]=UI)}get changes(){return this._changes||(this._changes=new Ts)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const l=pr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let l=e[r],d=t[r];if(n&&(l=n(l),d=n(d)),d!==l)return!1}return!0}(r._results,l,n))&&(r._results=l,r.length=l.length,r.last=l[this.length-1],r.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ov{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let d=0;d<r;d++){const p=n.getByIndex(d);l.push(this.queries[p.indexInDeclarationView].clone())}return new Nv(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==cE(t,n).matches&&this.queries[n].setDirty()}}class rE{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Fv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,d=this.getByIndex(r).embeddedTView(t,l);d&&(d.indexInDeclarationView=r,null!==n?n.push(d):n=[d])}return null!==n?new Fv(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class kv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new kv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const d=r[l];this.matchTNodeWithReadOption(t,n,HI(n,d)),this.matchTNodeWithReadOption(t,n,Xo(n,t,d,!1,!1))}else r===wh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Xo(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===Is||l===Ig||l===wh&&4&n.type)this.addMatch(n.index,-2);else{const d=Xo(n,t,l,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function HI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function WI(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Cd(e,t):4&e.type?wg(e,t):null}(t,e):-2===n?function(e,t,n){return n===Is?Cd(t,e):n===wh?wg(t,e):n===Ig?SC(t,e):void 0}(e,t,r):es(e,e[1],n,t)}function iE(e,t,n,r){const l=t[19].queries[r];if(null===l.matches){const d=e.data,p=n.matches,m=[];for(let _=0;_<p.length;_+=2){const b=p[_];m.push(b<0?null:WI(t,d[b],p[_+1],n.metadata.read))}l.matches=m}return l.matches}function Lv(e,t,n,r){const l=e.queries.getByIndex(n),d=l.matches;if(null!==d){const p=iE(e,t,l,n);for(let m=0;m<d.length;m+=2){const _=d[m];if(_>0)r.push(p[m/2]);else{const b=d[m+1],I=t[-_];for(let A=10;A<I.length;A++){const x=I[A];x[17]===x[3]&&Lv(x[1],x,b,r)}if(null!==I[9]){const A=I[9];for(let x=0;x<A.length;x++){const U=A[x];Lv(U[1],U,b,r)}}}}}return r}function oE(e){const t=ve(),n=gt(),r=Ia();co(r+1);const l=cE(n,r);if(e.dirty&&Jl(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const d=l.crossesNgTemplate?Lv(n,t,r,[]):iE(n,t,l,r);e.reset(d,mC),e.notifyOnChanges()}return!0}return!1}function sE(e,t,n,r){const l=gt();if(l.firstCreatePass){const d=Xt();(function(e,t,n){null===e.queries&&(e.queries=new Fv),e.queries.track(new kv(t,n))})(l,new rE(t,n,r),d.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}!function(e,t,n){const r=new Mg(4==(4&n));Cl(e,t,r,r.destroy),null===t[19]&&(t[19]=new Nv),t[19].queries.push(new Ov(r))}(l,ve(),n)}function aE(){return e=ve(),t=Ia(),e[19].queries[t].queryList;var e,t}function cE(e,t){return e.queries.getByIndex(t)}const $v=new Ot("Application Initializer");let Sd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=yg,this.reject=yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,l)=>{this.resolve=r,this.reject=l})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Xm(d))n.push(d);else if(ev(d)){const p=new Promise((m,_)=>{d.subscribe({complete:m,error:_})});n.push(p)}}Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)($t($v,8))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const RE=new Ot("AppId"),bT={provide:RE,useFactory:function(){return`${Wv()}${Wv()}${Wv()}`},deps:[]};function Wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AE=new Ot("Platform Initializer"),ME=new Ot("Platform ID"),xE=new Ot("appBootstrapListener");let PE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const Og=new Ot("LocaleId"),OE=new Ot("DefaultCurrencyCode");class wT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Gv=function(e){return new xv(e)},IT=Gv,TT=function(e){return Promise.resolve(Gv(e))},NE=function(e){const t=Gv(e),r=zr(lr(e).declarations).reduce((l,d)=>{const p=Sn(d);return p&&l.push(new KC(p)),l},[]);return new wT(t,r)},ST=NE,RT=function(e){return Promise.resolve(NE(e))};let kh=(()=>{class e{constructor(){this.compileModuleSync=IT,this.compileModuleAsync=TT,this.compileModuleAndAllComponentsSync=ST,this.compileModuleAndAllComponentsAsync=RT}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const xT=(()=>Promise.resolve(0))();function zv(e){"undefined"==typeof Zone?xT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class mi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ts(!1),this.onMicrotaskEmpty=new Ts(!1),this.onStable=new Ts(!1),this.onError=new Ts(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!r&&n,l.shouldCoalesceRunChangeDetection=r,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let e=Ft.requestAnimationFrame,t=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Qv(e),e.isCheckStableRunning=!0,Yv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Qv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,l,d,p,m)=>{try{return FE(e),n.invokeTask(l,d,p,m)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),kE(e)}},onInvoke:(n,r,l,d,p,m,_)=>{try{return FE(e),n.invoke(l,d,p,m,_)}finally{e.shouldCoalesceRunChangeDetection&&t(),kE(e)}},onHasTask:(n,r,l,d)=>{n.hasTask(l,d),r===l&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,Qv(e),Yv(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,r,l,d)=>(n.handleError(l,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+l,t,OT,yg,yg);try{return d.runTask(p,n,r)}finally{d.cancelTask(p)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const OT={};function Yv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function FE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function kE(e){e._nesting--,Yv(e)}class kT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ts,this.onMicrotaskEmpty=new Ts,this.onStable=new Ts,this.onError=new Ts}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}let LE=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mi.assertNotInAngularZone(),zv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let d=-1;r&&r>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:l})}whenStable(n,r,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,l){return[]}}return e.\u0275fac=function(n){return new(n||e)($t(mi))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})(),VE=(()=>{class e{constructor(){this._applications=new Map,Kv.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Kv.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();class LT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function VT(e){Kv=e}let Kv=new LT,UE=!0,jE=!1;function qv(){return jE=!0,UE}function UT(){if(jE)throw new Error("Cannot enable prod mode after platform setup.");UE=!1}let Uo;const BE=new Ot("AllowMultipleToken");class zT{constructor(t,n){this.name=t,this.token=n}}function HE(e,t,n=[]){const r=`Platform: ${t}`,l=new Ot(r);return(d=[])=>{let p=$E();if(!p||p.injector.get(BE,!1))if(e)e(n.concat(d).concat({provide:l,useValue:!0}));else{const m=n.concat(d).concat({provide:l,useValue:!0},{provide:Al,useValue:"platform"});!function(e){if(Uo&&!Uo.destroyed&&!Uo.injector.get(BE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Uo=e.get(WE);const t=e.get(AE,null);t&&t.forEach(n=>n())}(an.create({providers:m,name:r}))}return function(e){const t=$E();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function $E(){return Uo&&!Uo.destroyed?Uo:null}let WE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const m=function(e,t){let n;return n="noop"===e?new kT:("zone.js"===e?void 0:e)||new mi({enableLongStackTrace:qv(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),_=[{provide:mi,useValue:m}];return m.run(()=>{const b=an.create({providers:_,parent:this.injector,name:n.moduleType.name}),I=n.create(b),A=I.injector.get(hs,null);if(!A)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const x=m.onError.subscribe({next:U=>{A.handleError(U)}});I.onDestroy(()=>{Zv(this._modules,I),x.unsubscribe()})}),function(e,t,n){try{const r=n();return Xm(r)?r.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(A,m,()=>{const x=I.injector.get(Sd);return x.runInitializers(),x.donePromise.then(()=>(uv(I.injector.get(Og,pg)||pg),this._moduleDoBootstrap(I),I))})})}bootstrapModule(n,r=[]){const l=GE({},r);return function(e,t,n){const r=new xv(n);return Promise.resolve(r)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(n){const r=n.injector.get(Lh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>r.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${K(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)($t(an))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();function GE(e,t){return Array.isArray(t)?t.reduce(GE,e):Object.assign(Object.assign({},e),t)}let Lh=(()=>{class e{constructor(n,r,l,d,p){this._zone=n,this._injector=r,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new S.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new S.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{mi.assertNotInAngularZone(),zv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),A.unsubscribe()}});this.isStable=(0,W.T)(m,_.pipe((0,le.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=n instanceof hC?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(l.componentType);const d=function(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Ll),m=l.create(an.NULL,[],r||l.selector,d),_=m.location.nativeElement,b=m.injector.get(LE,null),I=b&&m.injector.get(VE);return b&&I&&I.registerApplication(_,b),m.onDestroy(()=>{this.detachView(m.hostView),Zv(this.components,m),I&&I.unregisterApplication(_)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zv(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(xE,[]).concat(this._bootstrapListeners).forEach(l=>l(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)($t(mi),$t(an),$t(hs),$t(yd),$t(Sd))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();function Zv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class JT{}class eS{}const tS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nS=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||tS}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,l]=n.split("#");return void 0===l&&(l="default"),k(8255)(r).then(d=>d[l]).then(d=>KE(d,r,l)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(n){let[r,l]=n.split("#"),d="NgFactory";return void 0===l&&(l="default",d=""),k(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(p=>p[l+d]).then(p=>KE(p,r,l))}}return e.\u0275fac=function(n){return new(n||e)($t(kh),$t(eS,8))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();function KE(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const cS=function(e){return null},fS=HE(null,"core",[{provide:ME,useValue:"unknown"},{provide:WE,deps:[an]},{provide:VE,deps:[]},{provide:PE,deps:[]}]),vS=[{provide:Lh,useClass:Lh,deps:[mi,an,hs,yd,Sd]},{provide:pI,deps:[mi],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Sd,useClass:Sd,deps:[[new si,$v]]},{provide:kh,useClass:kh,deps:[]},bT,{provide:Eg,useFactory:function(){return uw},deps:[]},{provide:bg,useFactory:function(){return lw},deps:[]},{provide:Og,useFactory:function(e){return uv(e=e||"undefined"!=typeof $localize&&$localize.locale||pg),e},deps:[[new Do(Og),new si,new Wr]]},{provide:OE,useValue:"USD"}];let yS=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)($t(Lh))},e.\u0275mod=Rs({type:e}),e.\u0275inj=en({providers:vS}),e})()},57:(ke,_e,k)=>{"use strict";k.d(_e,{hO:()=>Nt,xv:()=>Re,Dh:()=>ce,HU:()=>$,GT:()=>ue,sI:()=>Ht,on:()=>Ae,ss:()=>F,pX:()=>Y,yq:()=>ze});var E=k(7771),oe=k(3637),S=k(3342),W=k(3101),le=k(309),z=k(7716),ge=k(2329);function K(){}ke=k.hmd(ke);class G{constructor(re,ie=E.N){this.zone=re,this.delegate=ie}now(){return this.delegate.now()}schedule(re,ie,ee){const me=this.zone;return this.delegate.schedule(function(He){me.runGuarded(()=>{re.apply(this,[He])})},ie,ee)}}class N{constructor(re){this.zone=re,this.task=null}call(re,ie){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",K,{},K,K)),ie.pipe((0,S.b)({next:ee,complete:ee,error:ee})).subscribe(re).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ${constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new G(Zone.current)),this.insideAngular=re.run(()=>new G(Zone.current,oe.z))}}function F(te){return function(ie){return(ie=ie.lift(new N(te.ngZone))).pipe((0,W.R)(te.outsideAngular),(0,le.QV)(te.insideAngular))}}const B=["ngOnDestroy"],Y=(te,re,ie,ee={})=>new Proxy(te,{get:(me,ne)=>ie.runOutsideAngular(()=>{var He;if(te[ne])return(null===(He=null==ee?void 0:ee.spy)||void 0===He?void 0:He.get)&&ee.spy.get(ne,te[ne]),te[ne];if(B.indexOf(ne)>-1)return()=>{};const We=re.toPromise().then(Gt=>{const Le=Gt&&Gt[ne];return"function"==typeof Le?Le.bind(Gt):Le&&Le.then?Le.then($e=>ie.run(()=>$e)):ie.run(()=>Le)});return new Proxy(()=>{},{get:(Gt,Le)=>We[Le],apply:(Gt,Le,$e)=>We.then(Me=>{var Ne;const rt=Me&&Me(...$e);return(null===(Ne=null==ee?void 0:ee.spy)||void 0===Ne?void 0:Ne.apply)&&ee.spy.apply(ne,$e,rt),rt})})})}),ue=(te,re)=>{re.forEach(ie=>{Object.getOwnPropertyNames(ie.prototype||ie).forEach(ee=>{Object.defineProperty(te.prototype,ee,Object.getOwnPropertyDescriptor(ie.prototype||ie,ee))})})},ce=new z.OlP("angularfire2.app.options"),Re=new z.OlP("angularfire2.app.nameOrConfig"),Ee=new z.GfV("6.1.5");function Ae(te,re,ie){const me="object"==typeof ie&&ie||{};me.name=me.name||"string"==typeof ie&&ie||"[DEFAULT]";const He=ge.Z.apps.filter(We=>We&&We.name===me.name)[0]||re.runOutsideAngular(()=>ge.Z.initializeApp(te,me));try{JSON.stringify(te)!==JSON.stringify(He.options)&&Te("error",`${He.name} Firebase App already initialized with different options${ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return He}const ze=()=>{Te("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Te=(te,...re)=>{(0,z.X6Q)()&&"undefined"!=typeof console&&console[te](...re)};function Ht(te,re,ie,ee,me){const[ne,...He]=globalThis.\u0275AngularfireInstanceCache.get(te)||[];if(ne){try{me.some((We,Gt)=>{const Le=He[Gt];return We&&"object"==typeof We?JSON.stringify(We)!==JSON.stringify(Le):We!==Le})&&Te("error",`${re} was already initialized on the ${ie.name} Firebase App instance with different settings.${ke.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(We){}return ne}{const We=ee();return globalThis.\u0275AngularfireInstanceCache.set(te,[We,...me]),We}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const bt={provide:class{},useFactory:Ae,deps:[ce,z.R0b,[new z.FiY,Re]]};let Nt=(()=>{class te{constructor(ie){ge.Z.registerVersion("angularfire",Ee.full,ie.toString()),ge.Z.registerVersion("angular",z.q4F.full)}static initializeApp(ie,ee){return{ngModule:te,providers:[{provide:ce,useValue:ie},{provide:Re,useValue:ee}]}}}return te.\u0275fac=function(ie){return new(ie||te)(z.LFG(z.Lbi))},te.\u0275mod=z.oAB({type:te}),te.\u0275inj=z.cJS({providers:[bt]}),te})()},9759:(ke,_e,k)=>{"use strict";k.d(_e,{Z:()=>$e});var le,Te,E=k(4762),oe=k(4685),S=k(6034),W=k(300),z=((le={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",le["bad-app-name"]="Illegal App name: '{$appName}",le["duplicate-app"]="Firebase App named '{$appName}' already exists",le["app-deleted"]="Firebase App named '{$appName}' already deleted",le["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",le["invalid-log-argument"]="First argument to `onLog` must be null or a function.",le),ge=new oe.LL("app","Firebase",z),K="@firebase/app",Rt="[DEFAULT]",Ht=((Te={})[K]="fire-core",Te["@firebase/analytics"]="fire-analytics",Te["@firebase/app-check"]="fire-app-check",Te["@firebase/auth"]="fire-auth",Te["@firebase/database"]="fire-rtdb",Te["@firebase/functions"]="fire-fn",Te["@firebase/installations"]="fire-iid",Te["@firebase/messaging"]="fire-fcm",Te["@firebase/performance"]="fire-perf",Te["@firebase/remote-config"]="fire-rc",Te["@firebase/storage"]="fire-gcs",Te["@firebase/firestore"]="fire-fst",Te["fire-js"]="fire-js",Te["firebase-wrapper"]="fire-js-all",Te),bt=new W.Yd("@firebase/app"),Nt=function(){function Me(Ne,rt,Ut){var Dt=this;this.firebase_=Ut,this.isDeleted_=!1,this.name_=rt.name,this.automaticDataCollectionEnabled_=rt.automaticDataCollectionEnabled||!1,this.options_=(0,oe.p$)(Ne),this.container=new S.H0(rt.name),this._addComponent(new S.wA("app",function(){return Dt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(ar){return Dt._addComponent(ar)})}return Object.defineProperty(Me.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ne){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Me.prototype.delete=function(){var Ne=this;return new Promise(function(rt){Ne.checkDestroyed_(),rt()}).then(function(){return Ne.firebase_.INTERNAL.removeApp(Ne.name_),Promise.all(Ne.container.getProviders().map(function(rt){return rt.delete()}))}).then(function(){Ne.isDeleted_=!0})},Me.prototype._getService=function(Ne,rt){var Ut;void 0===rt&&(rt=Rt),this.checkDestroyed_();var Dt=this.container.getProvider(Ne);return!Dt.isInitialized()&&"EXPLICIT"===(null===(Ut=Dt.getComponent())||void 0===Ut?void 0:Ut.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:rt})},Me.prototype._removeServiceInstance=function(Ne,rt){void 0===rt&&(rt=Rt),this.container.getProvider(Ne).clearInstance(rt)},Me.prototype._addComponent=function(Ne){try{this.container.addComponent(Ne)}catch(rt){bt.debug("Component "+Ne.name+" failed to register with FirebaseApp "+this.name,rt)}},Me.prototype._addOrOverwriteComponent=function(Ne){this.container.addOrOverwriteComponent(Ne)},Me.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Me.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ge.create("app-deleted",{appName:this.name_})},Me}();Nt.prototype.name&&Nt.prototype.options||Nt.prototype.delete||console.log("dc");var ee=function ie(){var Me=function(Me){var Ne={},rt=new Map,Ut={__esModule:!0,initializeApp:function(vt,ut){void 0===ut&&(ut={}),("object"!=typeof ut||null===ut)&&(ut={name:ut});var En=ut;void 0===En.name&&(En.name=Rt);var Pe=En.name;if("string"!=typeof Pe||!Pe)throw ge.create("bad-app-name",{appName:String(Pe)});if((0,oe.r3)(Ne,Pe))throw ge.create("duplicate-app",{appName:Pe});var zt=new Me(vt,En,Ut);return Ne[Pe]=zt,zt},app:ar,registerVersion:function(vt,ut,Cn){var En,Pe=null!==(En=Ht[vt])&&void 0!==En?En:vt;Cn&&(Pe+="-"+Cn);var zt=Pe.match(/\s|\//),vn=ut.match(/\s|\//);if(zt||vn){var qt=['Unable to register library "'+Pe+'" with version "'+ut+'":'];return zt&&qt.push('library name "'+Pe+'" contains illegal characters (whitespace or "/")'),zt&&vn&&qt.push("and"),vn&&qt.push('version name "'+ut+'" contains illegal characters (whitespace or "/")'),void bt.warn(qt.join(" "))}Er(new S.wA(Pe+"-version",function(){return{library:Pe,version:ut}},"VERSION"))},setLogLevel:W.Ub,onLog:function(vt,ut){if(null!==vt&&"function"!=typeof vt)throw ge.create("invalid-log-argument");(0,W.Am)(vt,ut)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Er,removeApp:function(vt){delete Ne[vt]},components:rt,useAsService:function(vt,ut){return"serverAuth"===ut?null:ut}}};function ar(vt){if(!(0,oe.r3)(Ne,vt=vt||Rt))throw ge.create("no-app",{appName:vt});return Ne[vt]}function Er(vt){var ut=vt.name;if(rt.has(ut))return bt.debug("There were multiple attempts to register component "+ut+"."),"PUBLIC"===vt.type?Ut[ut]:null;if(rt.set(ut,vt),"PUBLIC"===vt.type){var Cn=function(vn){if(void 0===vn&&(vn=ar()),"function"!=typeof vn[ut])throw ge.create("invalid-app-argument",{appName:ut});return vn[ut]()};void 0!==vt.serviceProps&&(0,oe.ZB)(Cn,vt.serviceProps),Ut[ut]=Cn,Me.prototype[ut]=function(){for(var vn=[],qt=0;qt<arguments.length;qt++)vn[qt]=arguments[qt];return this._getService.bind(this,ut).apply(this,vt.multipleInstances?vn:[])}}for(var En=0,Pe=Object.keys(Ne);En<Pe.length;En++)Ne[Pe[En]]._addComponent(vt);return"PUBLIC"===vt.type?Ut[ut]:null}return Ut.default=Ut,Object.defineProperty(Ut,"apps",{get:function(){return Object.keys(Ne).map(function(vt){return Ne[vt]})}}),ar.App=Me,Ut}(Nt);return Me.INTERNAL=(0,E.pi)((0,E.pi)({},Me.INTERNAL),{createFirebaseNamespace:ie,extendNamespace:function(rt){(0,oe.ZB)(Me,rt)},createSubscribe:oe.ne,ErrorFactory:oe.LL,deepExtend:oe.ZB}),Me}(),me=function(){function Me(Ne){this.container=Ne}return Me.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(rt){if(function(Me){var Ne=Me.getComponent();return"VERSION"===(null==Ne?void 0:Ne.type)}(rt)){var Ut=rt.getImmediate();return Ut.library+"/"+Ut.version}return null}).filter(function(rt){return rt}).join(" ")},Me}();if((0,oe.jU)()&&void 0!==self.firebase){bt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&bt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gt=ee.initializeApp;ee.initializeApp=function(){for(var Me=[],Ne=0;Ne<arguments.length;Ne++)Me[Ne]=arguments[Ne];return(0,oe.UG)()&&bt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Gt.apply(void 0,Me)};var Me,Le=ee;(Me=Le).INTERNAL.registerComponent(new S.wA("platform-logger",function(rt){return new me(rt)},"PRIVATE")),Me.registerVersion(K,"0.6.30",undefined),Me.registerVersion("fire-js","");const $e=Le},6034:(ke,_e,k)=>{"use strict";k.d(_e,{wA:()=>S,H0:()=>K,zt:()=>le});var E=k(4762),oe=k(4685),S=function(){function G(N,$,F){this.name=N,this.instanceFactory=$,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return G.prototype.setInstantiationMode=function(N){return this.instantiationMode=N,this},G.prototype.setMultipleInstances=function(N){return this.multipleInstances=N,this},G.prototype.setServiceProps=function(N){return this.serviceProps=N,this},G.prototype.setInstanceCreatedCallback=function(N){return this.onInstanceCreated=N,this},G}(),W="[DEFAULT]",le=function(){function G(N,$){this.name=N,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return G.prototype.get=function(N){var $=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has($)){var F=new oe.BH;if(this.instancesDeferred.set($,F),this.isInitialized($)||this.shouldAutoInitialize())try{var B=this.getOrInitializeService({instanceIdentifier:$});B&&F.resolve(B)}catch(Y){}}return this.instancesDeferred.get($).promise},G.prototype.getImmediate=function(N){var $,F=this.normalizeInstanceIdentifier(null==N?void 0:N.identifier),B=null!==($=null==N?void 0:N.optional)&&void 0!==$&&$;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(B)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(Y){if(B)return null;throw Y}},G.prototype.getComponent=function(){return this.component},G.prototype.setComponent=function(N){var $,F;if(N.name!==this.name)throw Error("Mismatching Component "+N.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=N,this.shouldAutoInitialize()){if(function(G){return"EAGER"===G.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:W})}catch(Ae){}try{for(var B=(0,E.XA)(this.instancesDeferred.entries()),Y=B.next();!Y.done;Y=B.next()){var ue=(0,E.CR)(Y.value,2),Re=ue[1],Ce=this.normalizeInstanceIdentifier(ue[0]);try{var Ee=this.getOrInitializeService({instanceIdentifier:Ce});Re.resolve(Ee)}catch(Ae){}}}catch(Ae){$={error:Ae}}finally{try{Y&&!Y.done&&(F=B.return)&&F.call(B)}finally{if($)throw $.error}}}},G.prototype.clearInstance=function(N){void 0===N&&(N=W),this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)},G.prototype.delete=function(){return(0,E.mG)(this,void 0,void 0,function(){var N;return(0,E.Jh)(this,function($){switch($.label){case 0:return N=Array.from(this.instances.values()),[4,Promise.all((0,E.ev)((0,E.ev)([],(0,E.CR)(N.filter(function(F){return"INTERNAL"in F}).map(function(F){return F.INTERNAL.delete()}))),(0,E.CR)(N.filter(function(F){return"_delete"in F}).map(function(F){return F._delete()}))))];case 1:return $.sent(),[2]}})})},G.prototype.isComponentSet=function(){return null!=this.component},G.prototype.isInitialized=function(N){return void 0===N&&(N=W),this.instances.has(N)},G.prototype.getOptions=function(N){return void 0===N&&(N=W),this.instancesOptions.get(N)||{}},G.prototype.initialize=function(N){var $,F;void 0===N&&(N={});var B=N.options,Y=void 0===B?{}:B,ue=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(ue))throw Error(this.name+"("+ue+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ce=this.getOrInitializeService({instanceIdentifier:ue,options:Y});try{for(var Re=(0,E.XA)(this.instancesDeferred.entries()),Ce=Re.next();!Ce.done;Ce=Re.next()){var Ee=(0,E.CR)(Ce.value,2),ze=Ee[1];ue===this.normalizeInstanceIdentifier(Ee[0])&&ze.resolve(ce)}}catch(Rt){$={error:Rt}}finally{try{Ce&&!Ce.done&&(F=Re.return)&&F.call(Re)}finally{if($)throw $.error}}return ce},G.prototype.onInit=function(N,$){var F,B=this.normalizeInstanceIdentifier($),Y=null!==(F=this.onInitCallbacks.get(B))&&void 0!==F?F:new Set;Y.add(N),this.onInitCallbacks.set(B,Y);var ue=this.instances.get(B);return ue&&N(ue,B),function(){Y.delete(N)}},G.prototype.invokeOnInitCallbacks=function(N,$){var F,B,Y=this.onInitCallbacks.get($);if(Y)try{for(var ue=(0,E.XA)(Y),ce=ue.next();!ce.done;ce=ue.next()){var Re=ce.value;try{Re(N,$)}catch(Ce){}}}catch(Ce){F={error:Ce}}finally{try{ce&&!ce.done&&(B=ue.return)&&B.call(ue)}finally{if(F)throw F.error}}},G.prototype.getOrInitializeService=function(N){var $=N.instanceIdentifier,F=N.options,B=void 0===F?{}:F,Y=this.instances.get($);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:z($),options:B}),this.instances.set($,Y),this.instancesOptions.set($,B),this.invokeOnInitCallbacks(Y,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Y)}catch(ue){}return Y||null},G.prototype.normalizeInstanceIdentifier=function(N){return void 0===N&&(N=W),this.component?this.component.multipleInstances?N:W:N},G.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},G}();function z(G){return G===W?void 0:G}var K=function(){function G(N){this.name=N,this.providers=new Map}return G.prototype.addComponent=function(N){var $=this.getProvider(N.name);if($.isComponentSet())throw new Error("Component "+N.name+" has already been registered with "+this.name);$.setComponent(N)},G.prototype.addOrOverwriteComponent=function(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.addComponent(N)},G.prototype.getProvider=function(N){if(this.providers.has(N))return this.providers.get(N);var $=new le(N,this);return this.providers.set(N,$),$},G.prototype.getProviders=function(){return Array.from(this.providers.values())},G}()},9192:(ke,_e,k)=>{"use strict";var E=k(9759),oe=k(6034),S=k(4685),W=k(4762),le=k(300);ke=k.hmd(ke);var K="";function G(u){K=u}var u,N=function(){function u(a){this.domStorage_=a,this.prefix_="firebase:"}return u.prototype.set=function(a,c){null==c?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,S.Pz)(c))},u.prototype.get=function(a){var c=this.domStorage_.getItem(this.prefixedName_(a));return null==c?null:(0,S.cI)(c)},u.prototype.remove=function(a){this.domStorage_.removeItem(this.prefixedName_(a))},u.prototype.prefixedName_=function(a){return this.prefix_+a},u.prototype.toString=function(){return this.domStorage_.toString()},u}(),$=function(){function u(){this.cache_={},this.isInMemoryStorage=!0}return u.prototype.set=function(a,c){null==c?delete this.cache_[a]:this.cache_[a]=c},u.prototype.get=function(a){return(0,S.r3)(this.cache_,a)?this.cache_[a]:null},u.prototype.remove=function(a){delete this.cache_[a]},u}(),F=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){var a=window[u];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new N(a)}}catch(c){}return new $},B=F("localStorage"),Y=F("sessionStorage"),ue=new le.Yd("@firebase/database"),ce=(u=1,function(){return u++}),Re=function(u){var a=(0,S.dS)(u),c=new S.gQ;c.update(a);var h=c.digest();return S.US.encodeByteArray(h)},Ce=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];for(var c="",h=0;h<u.length;h++){var v=u[h];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?c+=Ce.apply(null,v):c+="object"==typeof v?(0,S.Pz)(v):v,c+=" "}return c},Ee=null,Ae=!0,ze=function(u,a){(0,S.hu)(!a||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(ue.logLevel=le.in.VERBOSE,Ee=ue.log.bind(ue),a&&Y.set("logging_enabled",!0)):"function"==typeof u?Ee=u:(Ee=null,Y.remove("logging_enabled"))},Te=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(!0===Ae&&(Ae=!1,null===Ee&&!0===Y.get("logging_enabled")&&ze(!0)),Ee){var c=Ce.apply(null,u);Ee(c)}},Rt=function(u){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];Te.apply(void 0,(0,W.ev)([u],(0,W.CR)(a)))}},Ht=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE INTERNAL ERROR: "+Ce.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));ue.error(c)},bt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE FATAL ERROR: "+Ce.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));throw ue.error(c),new Error(c)},Nt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE WARNING: "+Ce.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));ue.warn(c)},re=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},ee="[MIN_NAME]",me="[MAX_NAME]",ne=function(u,a){if(u===a)return 0;if(u===ee||a===me)return-1;if(a===ee||u===me)return 1;var c=mn(u),h=mn(a);return null!==c?null!==h?c-h==0?u.length-a.length:c-h:-1:null!==h?1:u<a?-1:1},He=function(u,a){return u===a?0:u<a?-1:1},We=function(u,a){if(a&&u in a)return a[u];throw new Error("Missing required key ("+u+") in object: "+(0,S.Pz)(a))},Gt=function(u){if("object"!=typeof u||null===u)return(0,S.Pz)(u);var a=[];for(var c in u)a.push(c);a.sort();for(var h="{",v=0;v<a.length;v++)0!==v&&(h+=","),h+=(0,S.Pz)(a[v]),h+=":",h+=Gt(u[a[v]]);return h+"}"},Le=function(u,a){var c=u.length;if(c<=a)return[u];for(var h=[],v=0;v<c;v+=a)h.push(u.substring(v,v+a>c?c:v+a));return h};function $e(u,a){for(var c in u)u.hasOwnProperty(c)&&a(c,u[c])}var Me=function(u){(0,S.hu)(!re(u),"Invalid JSON number");var v,C,w,R,M,h=1023;0===u?(C=0,w=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(C=(R=Math.min(Math.floor(Math.log(u)/Math.LN2),h))+h,w=Math.round(u*Math.pow(2,52-R)-Math.pow(2,52))):(C=0,w=Math.round(u/Math.pow(2,-1074))));var O=[];for(M=52;M;M-=1)O.push(w%2?1:0),w=Math.floor(w/2);for(M=11;M;M-=1)O.push(C%2?1:0),C=Math.floor(C/2);O.push(v?1:0),O.reverse();var L=O.join(""),X="";for(M=0;M<64;M+=8){var de=parseInt(L.substr(M,8),2).toString(16);1===de.length&&(de="0"+de),X+=de}return X.toLowerCase()},Dt=new RegExp("^-?(0*)\\d{1,10}$"),ar=-2147483648,en=2147483647,mn=function(u){if(Dt.test(u)){var a=Number(u);if(a>=ar&&a<=en)return a}return null},Er=function(u){try{u()}catch(a){setTimeout(function(){throw Nt("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},Jr=function(u,a){var c=setTimeout(u,a);return"object"==typeof c&&c.unref&&c.unref(),c},Ho=function(){function u(a,c){var h=this;this.appName_=a,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(function(v){return h.appCheck=v})}return u.prototype.getToken=function(a){var c=this;return this.appCheck?this.appCheck.getToken(a):new Promise(function(h,v){setTimeout(function(){c.appCheck?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(function(h){return h.addTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){Nt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},u}(),vt=function(){function u(a,c,h){var v=this;this.appName_=a,this.firebaseOptions_=c,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(function(C){return v.auth_=C})}return u.prototype.getToken=function(a){var c=this;return this.auth_?this.auth_.getToken(a).catch(function(h){return h&&"auth/token-not-initialized"===h.code?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)}):new Promise(function(h,v){setTimeout(function(){c.auth_?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(function(c){return c.addAuthTokenListener(a)})},u.prototype.removeTokenChangeListener=function(a){this.authProvider_.get().then(function(c){return c.removeAuthTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){var a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Nt(a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},u}(),ut=function(){function u(a){this.accessToken=a}return u.prototype.getToken=function(a){return Promise.resolve({accessToken:this.accessToken})},u.prototype.addTokenChangeListener=function(a){a(this.accessToken)},u.prototype.removeTokenChangeListener=function(a){},u.prototype.notifyForInvalidToken=function(){},u.OWNER="owner",u}(),qt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dn="websocket",_u="long_polling",tn=function(){function u(a,c,h,v,C,w,R){void 0===C&&(C=!1),void 0===w&&(w=""),void 0===R&&(R=!1),this.secure=c,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=C,this.persistenceKey=w,this.includeNamespaceInQueryParams=R,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=B.get("host:"+a)||this._host}return u.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},u.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(u.prototype,"host",{get:function(){return this._host},set:function(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&B.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),u.prototype.toString=function(){var a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a},u.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},u}();function Je(u,a,c){var h;if((0,S.hu)("string"==typeof a,"typeof type must == string"),(0,S.hu)("object"==typeof c,"typeof params must == object"),a===dn)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(a!==_u)throw new Error("Unknown connection type: "+a);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(c.ns=u.namespace);var v=[];return $e(c,function(C,w){v.push(C+"="+w)}),h+v.join("&")}var yu=function(){function u(){this.counters_={}}return u.prototype.incrementCounter=function(a,c){void 0===c&&(c=1),(0,S.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=c},u.prototype.get=function(){return(0,S.p$)(this.counters_)},u}(),vi={},ur={};function Ft(u){var a=u.toString();return vi[a]||(vi[a]=new yu),vi[a]}var Hl=function(){function u(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return u.prototype.closeAfter=function(a,c){this.closeAfterResponse=a,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},u.prototype.handleResponse=function(a,c){var h=this;this.pendingResponses[a]=c;for(var v=function(){var R=C.pendingResponses[C.currentResponseNum];delete C.pendingResponses[C.currentResponseNum];for(var M=function(L){R[L]&&Er(function(){h.onMessage_(R[L])})},O=0;O<R.length;++O)M(O);if(C.currentResponseNum===C.closeAfterResponse)return C.onClose&&(C.onClose(),C.onClose=null),"break";C.currentResponseNum++},C=this;this.pendingResponses[this.currentResponseNum]&&"break"!==v(););},u}(),j="close",ma=function(){function u(a,c,h,v,C,w,R){var M=this;this.connId=a,this.repoInfo=c,this.applicationId=h,this.appCheckToken=v,this.authToken=C,this.transportSessionId=w,this.lastSessionId=R,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rt(a),this.stats_=Ft(c),this.urlFn=function(O){return M.appCheckToken&&(O.ac=M.appCheckToken),Je(c,_u,O)}}return u.prototype.open=function(a,c){var h=this;this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new Hl(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){h.log_("Timed out trying to connect."),h.onClosed_(),h.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,S.Yr)()||"complete"===document.readyState)u();else{var a=!1,c=function(){document.body?a||(a=!0,u()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(function(){if(!h.isClosed_){h.scriptTagHolder=new Cu(function(){for(var w=[],R=0;R<arguments.length;R++)w[R]=arguments[R];var M=(0,W.CR)(w,5),O=M[0],L=M[1],X=M[2];if(h.incrementIncomingBytes_(w),h.scriptTagHolder)if(h.connectTimeoutTimer_&&(clearTimeout(h.connectTimeoutTimer_),h.connectTimeoutTimer_=null),h.everConnected_=!0,"start"===O)h.id=L,h.password=X;else{if(O!==j)throw new Error("Unrecognized command received: "+O);L?(h.scriptTagHolder.sendNewPolls=!1,h.myPacketOrderer.closeAfter(L,function(){h.onClosed_()})):h.onClosed_()}},function(){for(var w=[],R=0;R<arguments.length;R++)w[R]=arguments[R];var M=(0,W.CR)(w,2),O=M[0],L=M[1];h.incrementIncomingBytes_(w),h.myPacketOrderer.handleResponse(O,L)},function(){h.onClosed_()},h.urlFn);var v={start:"t"};v.ser=Math.floor(1e8*Math.random()),h.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=h.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",h.transportSessionId&&(v.s=h.transportSessionId),h.lastSessionId&&(v.ls=h.lastSessionId),h.applicationId&&(v.p=h.applicationId),h.appCheckToken&&(v.ac=h.appCheckToken),"undefined"!=typeof location&&location.hostname&&qt.test(location.hostname)&&(v.r="f");var C=h.urlFn(v);h.log_("Connecting via long-poll to "+C),h.scriptTagHolder.addTag(C,function(){})}})},u.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},u.forceAllow=function(){u.forceAllow_=!0},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){return!((0,S.Yr)()||!u.forceAllow_&&(u.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},u.prototype.markConnectionHealthy=function(){},u.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},u.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},u.prototype.send=function(a){var c=(0,S.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);for(var h=(0,S.h$)(c),v=Le(h,1840),C=0;C<v.length;C++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[C]),this.curSegmentNum++},u.prototype.addDisconnectPingFrame=function(a,c){if(!(0,S.Yr)()){this.myDisconnFrame=document.createElement("iframe");var h={dframe:"t"};h.id=a,h.pw=c,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},u.prototype.incrementIncomingBytes_=function(a){var c=(0,S.Pz)(a).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)},u}(),Cu=function(){function u(a,c,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,S.Yr)())this.commandCB=a,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=ce(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=u.createIFrame_();var C="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(C='<script>document.domain="'+document.domain+'";<\/script>');var R="<html><body>"+C+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(R),this.myIFrame.doc.close()}catch(M){Te("frame writing exception"),M.stack&&Te(M.stack),Te(M)}}}return u.createIFrame_=function(){var a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||Te("No IE domain setting required")}catch(v){var h=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a},u.prototype.close=function(){var a=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==a.myIFrame&&(document.body.removeChild(a.myIFrame),a.myIFrame=null)},Math.floor(0)));var c=this.onDisconnect;c&&(this.onDisconnect=null,c())},u.prototype.startLongPoll=function(a,c){for(this.myID=a,this.myPW=c,this.alive=!0;this.newRequest_(););},u.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;for(var c=this.urlFn(a),h="",v=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){var w=this.pendingSegs.shift();h=h+"&seg"+v+"="+w.seg+"&ts"+v+"="+w.ts+"&d"+v+"="+w.d,v++}return this.addLongPollTag_(c+=h,this.currentSerial),!0}return!1},u.prototype.enqueueSegment=function(a,c,h){this.pendingSegs.push({seg:a,ts:c,d:h}),this.alive&&this.newRequest_()},u.prototype.addLongPollTag_=function(a,c){var h=this;this.outstandingRequests.add(c);var v=function(){h.outstandingRequests.delete(c),h.newRequest_()},C=setTimeout(v,Math.floor(25e3));this.addTag(a,function(){clearTimeout(C),v()})},u.prototype.addTag=function(a,c){var h=this;(0,S.Yr)()?this.doNodeLongPoll(a,c):setTimeout(function(){try{if(!h.sendNewPolls)return;var v=h.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=a,v.onload=v.onreadystatechange=function(){var C=v.readyState;(!C||"loaded"===C||"complete"===C)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=function(){Te("Long-poll script failed to load: "+a),h.sendNewPolls=!1,h.close()},h.myIFrame.doc.body.appendChild(v)}catch(C){}},Math.floor(1))},u}(),xn=null;"undefined"!=typeof MozWebSocket?xn=MozWebSocket:"undefined"!=typeof WebSocket&&(xn=WebSocket);var bn=function(){function u(a,c,h,v,C,w,R){this.connId=a,this.applicationId=h,this.appCheckToken=v,this.authToken=C,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rt(this.connId),this.stats_=Ft(c),this.connURL=u.connectionURL_(c,w,R,v),this.nodeAdmin=c.nodeAdmin}return u.connectionURL_=function(a,c,h,v){var C={v:"5"};return!(0,S.Yr)()&&"undefined"!=typeof location&&location.hostname&&qt.test(location.hostname)&&(C.r="f"),c&&(C.s=c),h&&(C.ls=h),v&&(C.ac=v),Je(a,dn,C)},u.prototype.open=function(a,c){var h=this;this.onDisconnect=c,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,B.set("previous_websocket_failure",!0);try{if((0,S.Yr)()){var C={headers:{"User-Agent":"Firebase/5/"+K+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(C.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(C.headers["X-Firebase-AppCheck"]=this.appCheckToken);var w=process.env,R=0===this.connURL.indexOf("wss://")?w.HTTPS_PROXY||w.https_proxy:w.HTTP_PROXY||w.http_proxy;R&&(C.proxy={origin:R}),this.mySock=new xn(this.connURL,[],C)}else this.mySock=new xn(this.connURL,[],C={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(O){this.log_("Error instantiating WebSocket.");var M=O.message||O.data;return M&&this.log_(M),void this.onClosed_()}this.mySock.onopen=function(){h.log_("Websocket connected."),h.everConnected_=!0},this.mySock.onclose=function(){h.log_("Websocket connection was disconnected."),h.mySock=null,h.onClosed_()},this.mySock.onmessage=function(O){h.handleIncomingFrame(O)},this.mySock.onerror=function(O){h.log_("WebSocket error.  Closing connection.");var L=O.message||O.data;L&&h.log_(L),h.onClosed_()}},u.prototype.start=function(){},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(a=!0)}return!a&&null!==xn&&!u.forceDisallow_},u.previouslyFailed=function(){return B.isInMemoryStorage||!0===B.get("previous_websocket_failure")},u.prototype.markConnectionHealthy=function(){B.remove("previous_websocket_failure")},u.prototype.appendFrame_=function(a){if(this.frames.push(a),this.frames.length===this.totalFrames){var c=this.frames.join("");this.frames=null;var h=(0,S.cI)(c);this.onMessage(h)}},u.prototype.handleNewFrameCount_=function(a){this.totalFrames=a,this.frames=[]},u.prototype.extractFrameCount_=function(a){if((0,S.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){var c=Number(a);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),a},u.prototype.handleIncomingFrame=function(a){if(null!==this.mySock){var c=a.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{var h=this.extractFrameCount_(c);null!==h&&this.appendFrame_(h)}}},u.prototype.send=function(a){this.resetKeepAlive();var c=(0,S.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);var h=Le(c,16384);h.length>1&&this.sendString_(String(h.length));for(var v=0;v<h.length;v++)this.sendString_(h[v])},u.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},u.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},u.prototype.resetKeepAlive=function(){var a=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){a.mySock&&a.sendString_("0"),a.resetKeepAlive()},Math.floor(45e3))},u.prototype.sendString_=function(a){try{this.mySock.send(a)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u}(),lr=function(){function u(a){this.initTransports_(a)}return Object.defineProperty(u,"ALL_TRANSPORTS",{get:function(){return[ma,bn]},enumerable:!1,configurable:!0}),u.prototype.initTransports_=function(a){var c,h,v=bn&&bn.isAvailable(),C=v&&!bn.previouslyFailed();if(a.webSocketOnly&&(v||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),C=!0),C)this.transports_=[bn];else{var w=this.transports_=[];try{for(var R=(0,W.XA)(u.ALL_TRANSPORTS),M=R.next();!M.done;M=R.next()){var O=M.value;O&&O.isAvailable()&&w.push(O)}}catch(L){c={error:L}}finally{try{M&&!M.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}}},u.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},u.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},u}(),_i=function(){function u(a,c,h,v,C,w,R,M,O,L){this.id=a,this.repoInfo_=c,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=C,this.onMessage_=w,this.onReady_=R,this.onDisconnect_=M,this.onKill_=O,this.lastSessionId=L,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rt("c:"+this.id+":"),this.transportManager_=new lr(c),this.log_("Connection created"),this.start_()}return u.prototype.start_=function(){var a=this,c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){a.conn_&&a.conn_.open(h,v)},Math.floor(0));var C=c.healthyTimeout||0;C>0&&(this.healthyTimeout_=Jr(function(){a.healthyTimeout_=null,a.isHealthy_||(a.conn_&&a.conn_.bytesReceived>102400?(a.log_("Connection exceeded healthy timeout but has received "+a.conn_.bytesReceived+" bytes.  Marking connection healthy."),a.isHealthy_=!0,a.conn_.markConnectionHealthy()):a.conn_&&a.conn_.bytesSent>10240?a.log_("Connection exceeded healthy timeout but has sent "+a.conn_.bytesSent+" bytes.  Leaving connection alive."):(a.log_("Closing unhealthy connection after timeout."),a.close()))},Math.floor(C)))},u.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},u.prototype.disconnReceiver_=function(a){var c=this;return function(h){a===c.conn_?c.onConnectionLost_(h):a===c.secondaryConn_?(c.log_("Secondary connection lost."),c.onSecondaryConnectionLost_()):c.log_("closing an old connection")}},u.prototype.connReceiver_=function(a){var c=this;return function(h){2!==c.state_&&(a===c.rx_?c.onPrimaryMessageReceived_(h):a===c.secondaryConn_?c.onSecondaryMessageReceived_(h):c.log_("message on old connection"))}},u.prototype.sendRequest=function(a){this.sendData_({t:"d",d:a})},u.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},u.prototype.onSecondaryControl_=function(a){if("t"in a){var c=a.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},u.prototype.onSecondaryMessageReceived_=function(a){var c=We("t",a),h=We("d",a);if("c"===c)this.onSecondaryControl_(h);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(h)}},u.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},u.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},u.prototype.onPrimaryMessageReceived_=function(a){var c=We("t",a),h=We("d",a);"c"===c?this.onControl_(h):"d"===c&&this.onDataMessage_(h)},u.prototype.onDataMessage_=function(a){this.onPrimaryResponse_(),this.onMessage_(a)},u.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},u.prototype.onControl_=function(a){var c=We("t",a);if("d"in a){var h=a.d;if("h"===c)this.onHandshake_(h);else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(h):"r"===c?this.onReset_(h):"e"===c?Ht("Server Error: "+h):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ht("Unknown control packet command: "+c)}},u.prototype.onHandshake_=function(a){var c=a.ts,h=a.v,v=a.h;this.sessionId=a.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==h&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())},u.prototype.tryStartUpgrade_=function(){var a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)},u.prototype.startUpgrade_=function(a){var c=this;this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,v),Jr(function(){c.secondaryConn_&&(c.log_("Timed out trying to upgrade."),c.secondaryConn_.close())},Math.floor(6e4))},u.prototype.onReset_=function(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())},u.prototype.onConnectionEstablished_=function(a,c){var h=this;this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jr(function(){h.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},u.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},u.prototype.onSecondaryConnectionLost_=function(){var a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()},u.prototype.onConnectionLost_=function(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(B.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},u.prototype.onConnectionShutdown_=function(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()},u.prototype.sendData_=function(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)},u.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},u.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},u}(),va=function(){function u(){}return u.prototype.put=function(a,c,h,v){},u.prototype.merge=function(a,c,h,v){},u.prototype.refreshAuthToken=function(a){},u.prototype.refreshAppCheckToken=function(a){},u.prototype.onDisconnectPut=function(a,c,h){},u.prototype.onDisconnectMerge=function(a,c,h){},u.prototype.onDisconnectCancel=function(a,c){},u.prototype.reportStats=function(a){},u}(),Wo=function(){function u(a){this.allowedEvents_=a,this.listeners_={},(0,S.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}return u.prototype.trigger=function(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(Array.isArray(this.listeners_[a]))for(var v=(0,W.ev)([],(0,W.CR)(this.listeners_[a])),C=0;C<v.length;C++)v[C].callback.apply(v[C].context,c)},u.prototype.on=function(a,c,h){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:c,context:h});var v=this.getInitialEvent(a);v&&c.apply(h,v)},u.prototype.off=function(a,c,h){this.validateEventType_(a);for(var v=this.listeners_[a]||[],C=0;C<v.length;C++)if(v[C].callback===c&&(!h||h===v[C].context))return void v.splice(C,1)},u.prototype.validateEventType_=function(a){(0,S.hu)(this.allowedEvents_.find(function(c){return c===a}),"Unknown event: "+a)},u}(),Pn=function(u){function a(){var c=u.call(this,["online"])||this;return c.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,S.uI)()&&(window.addEventListener("online",function(){c.online_||(c.online_=!0,c.trigger("online",!0))},!1),window.addEventListener("offline",function(){c.online_&&(c.online_=!1,c.trigger("online",!1))},!1)),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,S.hu)("online"===c,"Unknown event type: "+c),[this.online_]},a.prototype.currentlyOnline=function(){return this.online_},a}(Wo),ot=function(){function u(a,c){if(void 0===c){this.pieces_=a.split("/");for(var h=0,v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=c}return u.prototype.toString=function(){for(var a="",c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(a+="/"+this.pieces_[c]);return a||"/"},u}();function Ve(){return new ot("")}function st(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function yi(u){return u.pieces_.length-u.pieceNum_}function Mt(u){var a=u.pieceNum_;return a<u.pieces_.length&&a++,new ot(u.pieces_,a)}function As(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Lr(u,a){return void 0===a&&(a=0),u.pieces_.slice(u.pieceNum_+a)}function Vr(u){if(u.pieceNum_>=u.pieces_.length)return null;for(var a=[],c=u.pieceNum_;c<u.pieces_.length-1;c++)a.push(u.pieces_[c]);return new ot(a,0)}function lt(u,a){for(var c=[],h=u.pieceNum_;h<u.pieces_.length;h++)c.push(u.pieces_[h]);if(a instanceof ot)for(h=a.pieceNum_;h<a.pieces_.length;h++)c.push(a.pieces_[h]);else{var v=a.split("/");for(h=0;h<v.length;h++)v[h].length>0&&c.push(v[h])}return new ot(c,0)}function ct(u){return u.pieceNum_>=u.pieces_.length}function Zt(u,a){var c=st(u),h=st(a);if(null===c)return a;if(c===h)return Zt(Mt(u),Mt(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+u+")")}function cr(u,a){for(var c=Lr(u,0),h=Lr(a,0),v=0;v<c.length&&v<h.length;v++){var C=ne(c[v],h[v]);if(0!==C)return C}return c.length===h.length?0:c.length<h.length?-1:1}function Ms(u,a){if(yi(u)!==yi(a))return!1;for(var c=u.pieceNum_,h=a.pieceNum_;c<=u.pieces_.length;c++,h++)if(u.pieces_[c]!==a.pieces_[h])return!1;return!0}function On(u,a){var c=u.pieceNum_,h=a.pieceNum_;if(yi(u)>yi(a))return!1;for(;c<u.pieces_.length;){if(u.pieces_[c]!==a.pieces_[h])return!1;++c,++h}return!0}var _a=function(a,c){this.errorPrefix_=c,this.parts_=Lr(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(var h=0;h<this.parts_.length;h++)this.byteLength_+=(0,S.ug)(this.parts_[h]);Nd(this)};function Nd(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+so(u))}function so(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}var bu,Du,Fd=function(u){function a(){var h,v,c=u.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(v="visibilitychange",h="hidden"):void 0!==document.mozHidden?(v="mozvisibilitychange",h="mozHidden"):void 0!==document.msHidden?(v="msvisibilitychange",h="msHidden"):void 0!==document.webkitHidden&&(v="webkitvisibilitychange",h="webkitHidden")),c.visible_=!0,v&&document.addEventListener(v,function(){var C=!document[h];C!==c.visible_&&(c.visible_=C,c.trigger("visible",C))},!1),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,S.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]},a}(Wo),ya=1e3,Yo=function(u){function a(c,h,v,C,w,R,M,O){var L=u.call(this)||this;if(L.repoInfo_=c,L.applicationId_=h,L.onDataUpdate_=v,L.onConnectStatus_=C,L.onServerInfoUpdate_=w,L.authTokenProvider_=R,L.appCheckTokenProvider_=M,L.authOverride_=O,L.id=a.nextPersistentConnectionId_++,L.log_=Rt("p:"+L.id+":"),L.interruptReasons_={},L.listens=new Map,L.outstandingPuts_=[],L.outstandingGets_=[],L.outstandingPutCount_=0,L.outstandingGetCount_=0,L.onDisconnectRequestQueue_=[],L.connected_=!1,L.reconnectDelay_=ya,L.maxReconnectDelay_=3e5,L.securityDebugCallback_=null,L.lastSessionId=null,L.establishConnectionTimer_=null,L.visible_=!1,L.requestCBHash_={},L.requestNumber_=0,L.realtime_=null,L.authToken_=null,L.appCheckToken_=null,L.forceTokenRefresh_=!1,L.invalidAuthTokenCount_=0,L.invalidAppCheckTokenCount_=0,L.firstConnection_=!0,L.lastConnectionAttemptTime_=null,L.lastConnectionEstablishedTime_=null,O&&!(0,S.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Fd.getInstance().on("visible",L.onVisible_,L),-1===c.host.indexOf("fblocal")&&Pn.getInstance().on("online",L.onOnline_,L),L}return(0,W.ZT)(a,u),a.prototype.sendRequest=function(c,h,v){var C=++this.requestNumber_,w={r:C,a:c,b:h};this.log_((0,S.Pz)(w)),(0,S.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(w),v&&(this.requestCBHash_[C]=v)},a.prototype.get=function(c){var h=this;this.initConnection_();var v=new S.BH,C={p:c._path.toString(),q:c._queryObject},w={action:"g",request:C,onComplete:function(M){var O=M.d;"ok"===M.s?(h.onDataUpdate_(C.p,O,!1,null),v.resolve(O)):v.reject(O)}};this.outstandingGets_.push(w),this.outstandingGetCount_++;var R=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var M=h.outstandingGets_[R];void 0===M||w!==M||(delete h.outstandingGets_[R],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),h.log_("get "+R+" timed out on connection"),v.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(R),v.promise},a.prototype.listen=function(c,h,v,C){this.initConnection_();var w=c._queryIdentifier,R=c._path.toString();this.log_("Listen called for "+R+" "+w),this.listens.has(R)||this.listens.set(R,new Map),(0,S.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,S.hu)(!this.listens.get(R).has(w),"listen() called twice for same path/queryId.");var M={onComplete:C,hashFn:h,query:c,tag:v};this.listens.get(R).set(w,M),this.connected_&&this.sendListen_(M)},a.prototype.sendGet_=function(c){var h=this,v=this.outstandingGets_[c];this.sendRequest("g",v.request,function(C){delete h.outstandingGets_[c],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),v.onComplete&&v.onComplete(C)})},a.prototype.sendListen_=function(c){var h=this,v=c.query,C=v._path.toString(),w=v._queryIdentifier;this.log_("Listen on "+C+" for "+w);var R={p:C};c.tag&&(R.q=v._queryObject,R.t=c.tag),R.h=c.hashFn(),this.sendRequest("q",R,function(O){var L=O.d,X=O.s;a.warnOnListenWarnings_(L,v),(h.listens.get(C)&&h.listens.get(C).get(w))===c&&(h.log_("listen response",O),"ok"!==X&&h.removeListen_(C,w),c.onComplete&&c.onComplete(X,L))})},a.warnOnListenWarnings_=function(c,h){if(c&&"object"==typeof c&&(0,S.r3)(c,"w")){var v=(0,S.DV)(c,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){var C='".indexOn": "'+h._queryParams.getIndex().toString()+'"',w=h._path.toString();Nt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+C+" at "+w+" to your security rules for better performance.")}}},a.prototype.refreshAuthToken=function(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(c)},a.prototype.reduceReconnectDelayIfAdminCredential_=function(c){(c&&40===c.length||(0,S.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},a.prototype.refreshAppCheckToken=function(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},a.prototype.tryAuth=function(){var c=this;if(this.connected_&&this.authToken_){var h=this.authToken_,v=(0,S.w9)(h)?"auth":"gauth",C={cred:h};null===this.authOverride_?C.noauth=!0:"object"==typeof this.authOverride_&&(C.authvar=this.authOverride_),this.sendRequest(v,C,function(w){var R=w.s,M=w.d||"error";c.authToken_===h&&("ok"===R?c.invalidAuthTokenCount_=0:c.onAuthRevoked_(R,M))})}},a.prototype.tryAppCheck=function(){var c=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(h){var v=h.s,C=h.d||"error";"ok"===v?c.invalidAppCheckTokenCount_=0:c.onAppCheckRevoked_(v,C)})},a.prototype.unlisten=function(c,h){var v=c._path.toString(),C=c._queryIdentifier;this.log_("Unlisten called for "+v+" "+C),(0,S.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,C)&&this.connected_&&this.sendUnlisten_(v,C,c._queryObject,h)},a.prototype.sendUnlisten_=function(c,h,v,C){this.log_("Unlisten on "+c+" for "+h);var w={p:c};C&&(w.q=v,w.t=C),this.sendRequest("n",w)},a.prototype.onDisconnectPut=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:h,onComplete:v})},a.prototype.onDisconnectMerge=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:h,onComplete:v})},a.prototype.onDisconnectCancel=function(c,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,h):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:h})},a.prototype.sendOnDisconnect_=function(c,h,v,C){var w={p:h,d:v};this.log_("onDisconnect "+c,w),this.sendRequest(c,w,function(R){C&&setTimeout(function(){C(R.s,R.d)},Math.floor(0))})},a.prototype.put=function(c,h,v,C){this.putInternal("p",c,h,v,C)},a.prototype.merge=function(c,h,v,C){this.putInternal("m",c,h,v,C)},a.prototype.putInternal=function(c,h,v,C,w){this.initConnection_();var R={p:h,d:v};void 0!==w&&(R.h=w),this.outstandingPuts_.push({action:c,request:R,onComplete:C}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)},a.prototype.sendPut_=function(c){var h=this,v=this.outstandingPuts_[c].action,C=this.outstandingPuts_[c].request,w=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,C,function(R){h.log_(v+" response",R),delete h.outstandingPuts_[c],h.outstandingPutCount_--,0===h.outstandingPutCount_&&(h.outstandingPuts_=[]),w&&w(R.s,R.d)})},a.prototype.reportStats=function(c){var h=this;if(this.connected_){var v={c};this.log_("reportStats",v),this.sendRequest("s",v,function(C){"ok"!==C.s&&h.log_("reportStats","Error sending stats: "+C.d)})}},a.prototype.onDataMessage_=function(c){if("r"in c){this.log_("from server: "+(0,S.Pz)(c));var h=c.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}},a.prototype.onDataPush_=function(c,h){this.log_("handleServerMessage",c,h),"d"===c?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===c?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===c?this.onListenRevoked_(h.p,h.q):"ac"===c?this.onAuthRevoked_(h.s,h.d):"apc"===c?this.onAppCheckRevoked_(h.s,h.d):"sd"===c?this.onSecurityDebugPacket_(h):Ht("Unrecognized action received from server: "+(0,S.Pz)(c)+"\nAre you using the latest client?")},a.prototype.onReady_=function(c,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},a.prototype.scheduleConnect_=function(c){var h=this;(0,S.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){h.establishConnectionTimer_=null,h.establishConnection_()},Math.floor(c))},a.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},a.prototype.onVisible_=function(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ya,this.realtime_||this.scheduleConnect_(0)),this.visible_=c},a.prototype.onOnline_=function(c){c?(this.log_("Browser went online."),this.reconnectDelay_=ya,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},a.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ya),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var h=(new Date).getTime()-this.lastConnectionAttemptTime_,v=Math.max(0,this.reconnectDelay_-h);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},a.prototype.establishConnection_=function(){return(0,W.mG)(this,void 0,void 0,function(){var c,h,v,C,w,R,M,O,X,de,ye,Se,Qe,Fe=this;return(0,W.Jh)(this,function(et){switch(et.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,c=this.onDataMessage_.bind(this),h=this.onReady_.bind(this),v=this.onRealtimeDisconnect_.bind(this),C=this.id+":"+a.nextConnectionId_++,w=this.lastSessionId,R=!1,M=null,this.realtime_={close:O=function(){M?M.close():(R=!0,v())},sendRequest:function(sn){(0,S.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(sn)}},X=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,et.label=1;case 1:return et.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(X),this.appCheckTokenProvider_.getToken(X)])];case 2:return de=W.CR.apply(void 0,[et.sent(),2]),ye=de[0],Se=de[1],R?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),this.authToken_=ye&&ye.accessToken,this.appCheckToken_=Se&&Se.token,M=new _i(C,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,c,h,v,function(sn){Nt(sn+" ("+Fe.repoInfo_.toString()+")"),Fe.interrupt("server_kill")},w)),[3,4];case 3:return Qe=et.sent(),this.log_("Failed to get token: "+Qe),R||(this.repoInfo_.nodeAdmin&&Nt(Qe),O()),[3,4];case 4:return[2]}})})},a.prototype.interrupt=function(c){Te("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},a.prototype.resume=function(c){Te("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,S.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ya,this.realtime_||this.scheduleConnect_(0))},a.prototype.handleTimestamp_=function(c){var h=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})},a.prototype.cancelSentTransactions_=function(){for(var c=0;c<this.outstandingPuts_.length;c++){var h=this.outstandingPuts_[c];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},a.prototype.onListenRevoked_=function(c,h){var v;v=h?h.map(function(w){return Gt(w)}).join("$"):"default";var C=this.removeListen_(c,v);C&&C.onComplete&&C.onComplete("permission_denied")},a.prototype.removeListen_=function(c,h){var C,v=new ot(c).toString();if(this.listens.has(v)){var w=this.listens.get(v);C=w.get(h),w.delete(h),0===w.size&&this.listens.delete(v)}else C=void 0;return C},a.prototype.onAuthRevoked_=function(c,h){Te("Auth token revoked: "+c+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},a.prototype.onAppCheckRevoked_=function(c,h){Te("App check token revoked: "+c+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},a.prototype.onSecurityDebugPacket_=function(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))},a.prototype.restoreState_=function(){var c,h,v,C;this.tryAuth(),this.tryAppCheck();try{for(var w=(0,W.XA)(this.listens.values()),R=w.next();!R.done;R=w.next()){var M=R.value;try{for(var O=(v=void 0,(0,W.XA)(M.values())),L=O.next();!L.done;L=O.next())this.sendListen_(L.value)}catch(Se){v={error:Se}}finally{try{L&&!L.done&&(C=O.return)&&C.call(O)}finally{if(v)throw v.error}}}}catch(Se){c={error:Se}}finally{try{R&&!R.done&&(h=w.return)&&h.call(w)}finally{if(c)throw c.error}}for(var de=0;de<this.outstandingPuts_.length;de++)this.outstandingPuts_[de]&&this.sendPut_(de);for(;this.onDisconnectRequestQueue_.length;){var ye=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ye.action,ye.pathString,ye.data,ye.onComplete)}for(de=0;de<this.outstandingGets_.length;de++)this.outstandingGets_[de]&&this.sendGet_(de)},a.prototype.sendConnectStats_=function(){var c={},h="js";(0,S.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+h+"."+K.replace(/\./g,"-")]=1,(0,S.uI)()?c["framework.cordova"]=1:(0,S.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)},a.prototype.shouldReconnect_=function(){var c=Pn.getInstance().currentlyOnline();return(0,S.xb)(this.interruptReasons_)&&c},a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a}(va),_t=function(){function u(a,c){this.name=a,this.node=c}return u.Wrap=function(a,c){return new u(a,c)},u}(),Eu=function(){function u(){}return u.prototype.getCompare=function(){return this.compare.bind(this)},u.prototype.indexedValueChanged=function(a,c){var h=new _t(ee,a),v=new _t(ee,c);return 0!==this.compare(h,v)},u.prototype.minPost=function(){return _t.MIN},u}(),Ud=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),Object.defineProperty(a,"__EMPTY_NODE",{get:function(){return bu},set:function(c){bu=c},enumerable:!1,configurable:!0}),a.prototype.compare=function(c,h){return ne(c.name,h.name)},a.prototype.isDefinedOn=function(c){throw(0,S.g5)("KeyIndex.isDefinedOn not expected to be called.")},a.prototype.indexedValueChanged=function(c,h){return!1},a.prototype.minPost=function(){return _t.MIN},a.prototype.maxPost=function(){return new _t(me,bu)},a.prototype.makePost=function(c,h){return(0,S.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new _t(c,bu)},a.prototype.toString=function(){return".key"},a}(Eu),jr=new Ud,xs=function(){function u(a,c,h,v,C){void 0===C&&(C=null),this.isReverse_=v,this.resultGenerator_=C,this.nodeStack_=[];for(var w=1;!a.isEmpty();)if(a=a,w=c?h(a.key,c):1,v&&(w*=-1),w<0)a=this.isReverse_?a.left:a.right;else{if(0===w){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}return u.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var c,a=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return c},u.prototype.hasNext=function(){return this.nodeStack_.length>0},u.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}},u}(),er=function(){function u(a,c,h,v,C){this.key=a,this.value=c,this.color=null!=h?h:u.RED,this.left=null!=v?v:Br.EMPTY_NODE,this.right=null!=C?C:Br.EMPTY_NODE}return u.prototype.copy=function(a,c,h,v,C){return new u(null!=a?a:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=v?v:this.left,null!=C?C:this.right)},u.prototype.count=function(){return this.left.count()+1+this.right.count()},u.prototype.isEmpty=function(){return!1},u.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},u.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},u.prototype.minKey=function(){return this.min_().key},u.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},u.prototype.insert=function(a,c,h){var v=this,C=h(a,v.key);return(v=C<0?v.copy(null,null,null,v.left.insert(a,c,h),null):0===C?v.copy(null,c,null,null,null):v.copy(null,null,null,null,v.right.insert(a,c,h))).fixUp_()},u.prototype.removeMin_=function(){if(this.left.isEmpty())return Br.EMPTY_NODE;var a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),(a=a.copy(null,null,null,a.left.removeMin_(),null)).fixUp_()},u.prototype.remove=function(a,c){var h,v;if(c(a,(h=this).key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(a,c),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===c(a,h.key)){if(h.right.isEmpty())return Br.EMPTY_NODE;v=h.right.min_(),h=h.copy(v.key,v.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(a,c))}return h.fixUp_()},u.prototype.isRed_=function(){return this.color},u.prototype.fixUp_=function(){var a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a},u.prototype.moveRedLeft_=function(){var a=this.colorFlip_();return a.right.left.isRed_()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight_())).rotateLeft_()).colorFlip_()),a},u.prototype.moveRedRight_=function(){var a=this.colorFlip_();return a.left.left.isRed_()&&(a=(a=a.rotateRight_()).colorFlip_()),a},u.prototype.rotateLeft_=function(){var a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},u.prototype.rotateRight_=function(){var a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},u.prototype.colorFlip_=function(){var a=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,c)},u.prototype.checkMaxDepth_=function(){var a=this.check_();return Math.pow(2,a)<=this.count()+1},u.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)},u.RED=!0,u.BLACK=!1,u}(),Yh=function(){function u(){}return u.prototype.copy=function(a,c,h,v,C){return this},u.prototype.insert=function(a,c,h){return new er(a,c,null)},u.prototype.remove=function(a,c){return this},u.prototype.count=function(){return 0},u.prototype.isEmpty=function(){return!0},u.prototype.inorderTraversal=function(a){return!1},u.prototype.reverseTraversal=function(a){return!1},u.prototype.minKey=function(){return null},u.prototype.maxKey=function(){return null},u.prototype.check_=function(){return 0},u.prototype.isRed_=function(){return!1},u}(),Br=function(){function u(a,c){void 0===c&&(c=u.EMPTY_NODE),this.comparator_=a,this.root_=c}return u.prototype.insert=function(a,c){return new u(this.comparator_,this.root_.insert(a,c,this.comparator_).copy(null,null,er.BLACK,null,null))},u.prototype.remove=function(a){return new u(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,er.BLACK,null,null))},u.prototype.get=function(a){for(var c,h=this.root_;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key)))return h.value;c<0?h=h.left:c>0&&(h=h.right)}return null},u.prototype.getPredecessorKey=function(a){for(var c,h=this.root_,v=null;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key))){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}c<0?h=h.left:c>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},u.prototype.isEmpty=function(){return this.root_.isEmpty()},u.prototype.count=function(){return this.root_.count()},u.prototype.minKey=function(){return this.root_.minKey()},u.prototype.maxKey=function(){return this.root_.maxKey()},u.prototype.inorderTraversal=function(a){return this.root_.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.root_.reverseTraversal(a)},u.prototype.getIterator=function(a){return new xs(this.root_,null,this.comparator_,!1,a)},u.prototype.getIteratorFrom=function(a,c){return new xs(this.root_,a,this.comparator_,!1,c)},u.prototype.getReverseIteratorFrom=function(a,c){return new xs(this.root_,a,this.comparator_,!0,c)},u.prototype.getReverseIterator=function(a){return new xs(this.root_,null,this.comparator_,!0,a)},u.EMPTY_NODE=new Yh,u}();function Gl(u,a){return ne(u.name,a.name)}function ei(u,a){return ne(u,a)}var Yl,Ql,Kl,Da,Qo,Ca=function(u){return"number"==typeof u?"number:"+Me(u):"string:"+u},zl=function(u){if(u.isLeafNode()){var a=u.val();(0,S.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,S.r3)(a,".sv"),"Priority must be a string or number.")}else(0,S.hu)(u===Du||u.isEmpty(),"priority of unexpected type.");(0,S.hu)(u===Du||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ao=function(){function u(a,c){void 0===c&&(c=u.__childrenNodeConstructor.EMPTY_NODE),this.value_=a,this.priorityNode_=c,this.lazyHash_=null,(0,S.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zl(this.priorityNode_)}return Object.defineProperty(u,"__childrenNodeConstructor",{get:function(){return Yl},set:function(a){Yl=a},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!0},u.prototype.getPriority=function(){return this.priorityNode_},u.prototype.updatePriority=function(a){return new u(this.value_,a)},u.prototype.getImmediateChild=function(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.getChild=function(a){return ct(a)?this:".priority"===st(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.hasChild=function(){return!1},u.prototype.getPredecessorChildName=function(a,c){return null},u.prototype.updateImmediateChild=function(a,c){return".priority"===a?this.updatePriority(c):c.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,c).updatePriority(this.priorityNode_)},u.prototype.updateChild=function(a,c){var h=st(a);return null===h?c:c.isEmpty()&&".priority"!==h?this:((0,S.hu)(".priority"!==h||1===yi(a),".priority must be the last token in a path"),this.updateImmediateChild(h,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mt(a),c)))},u.prototype.isEmpty=function(){return!1},u.prototype.numChildren=function(){return 0},u.prototype.forEachChild=function(a,c){return!1},u.prototype.val=function(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.priorityNode_.isEmpty()||(a+="priority:"+Ca(this.priorityNode_.val())+":");var c=typeof this.value_;a+=c+":",a+="number"===c?Me(this.value_):this.value_,this.lazyHash_=Re(a)}return this.lazyHash_},u.prototype.getValue=function(){return this.value_},u.prototype.compareTo=function(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,S.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))},u.prototype.compareToLeafNode_=function(a){var c=typeof a.value_,h=typeof this.value_,v=u.VALUE_TYPE_ORDER.indexOf(c),C=u.VALUE_TYPE_ORDER.indexOf(h);return(0,S.hu)(v>=0,"Unknown leaf type: "+c),(0,S.hu)(C>=0,"Unknown leaf type: "+h),v===C?"object"===h?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:C-v},u.prototype.withIndex=function(){return this},u.prototype.isIndexed=function(){return!0},u.prototype.equals=function(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))},u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u}(),Vt=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.getPriority(),C=h.node.getPriority(),w=v.compareTo(C);return 0===w?ne(c.name,h.name):w},a.prototype.isDefinedOn=function(c){return!c.getPriority().isEmpty()},a.prototype.indexedValueChanged=function(c,h){return!c.getPriority().equals(h.getPriority())},a.prototype.minPost=function(){return _t.MIN},a.prototype.maxPost=function(){return new _t(me,new ao("[PRIORITY-POST]",Kl))},a.prototype.makePost=function(c,h){var v=Ql(c);return new _t(h,new ao("[PRIORITY-POST]",v))},a.prototype.toString=function(){return".priority"},a}(Eu)),Zl=Math.log(2),Ea=function(){function u(a){this.count=parseInt(Math.log(a+1)/Zl,10),this.current_=this.count-1;var v=parseInt(Array(this.count+1).join("1"),2);this.bits_=a+1&v}return u.prototype.nextBitIsOne=function(){var a=!(this.bits_&1<<this.current_);return this.current_--,a},u}(),ba=function(u,a,c,h){u.sort(a);var v=function(M,O){var X,de,L=O-M;if(0===L)return null;if(1===L)return X=u[M],de=c?c(X):X,new er(de,X.node,er.BLACK,null,null);var ye=parseInt(L/2,10)+M,Se=v(M,ye),Qe=v(ye+1,O);return X=u[ye],de=c?c(X):X,new er(de,X.node,er.BLACK,Se,Qe)},R=function(M){for(var O=null,L=null,X=u.length,de=function(et,sn){var Kt=X-et,Qr=X;X-=et;var vs=v(Kt+1,Qr),aa=u[Kt],ua=c?c(aa):aa;ye(new er(ua,aa.node,sn,null,vs))},ye=function(et){O?(O.left=et,O=et):(L=et,O=et)},Se=0;Se<M.count;++Se){var Qe=M.nextBitIsOne(),Fe=Math.pow(2,M.count-(Se+1));Qe?de(Fe,er.BLACK):(de(Fe,er.BLACK),de(Fe,er.RED))}return L}(new Ea(u.length));return new Br(h||a,R)},Ps={},Yt=function(){function u(a,c){this.indexes_=a,this.indexSet_=c}return Object.defineProperty(u,"Default",{get:function(){return(0,S.hu)(Ps&&Vt,"ChildrenNode.ts has not been loaded"),Da=Da||new u({".priority":Ps},{".priority":Vt})},enumerable:!1,configurable:!0}),u.prototype.get=function(a){var c=(0,S.DV)(this.indexes_,a);if(!c)throw new Error("No index defined for "+a);return c instanceof Br?c:null},u.prototype.hasIndex=function(a){return(0,S.r3)(this.indexSet_,a.toString())},u.prototype.addIndex=function(a,c){(0,S.hu)(a!==jr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var h=[],v=!1,C=c.getIterator(_t.Wrap),w=C.getNext();w;)v=v||a.isDefinedOn(w.node),h.push(w),w=C.getNext();var R;R=v?ba(h,a.getCompare()):Ps;var M=a.toString(),O=(0,W.pi)({},this.indexSet_);O[M]=a;var L=(0,W.pi)({},this.indexes_);return L[M]=R,new u(L,O)},u.prototype.addToIndexes=function(a,c){var h=this;return new u((0,S.UI)(this.indexes_,function(C,w){var R=(0,S.DV)(h.indexSet_,w);if((0,S.hu)(R,"Missing index implementation for "+w),C===Ps){if(R.isDefinedOn(a.node)){for(var M=[],O=c.getIterator(_t.Wrap),L=O.getNext();L;)L.name!==a.name&&M.push(L),L=O.getNext();return M.push(a),ba(M,R.getCompare())}return Ps}var X=c.get(a.name),de=C;return X&&(de=de.remove(new _t(a.name,X))),de.insert(a,a.node)}),this.indexSet_)},u.prototype.removeFromIndexes=function(a,c){return new u((0,S.UI)(this.indexes_,function(v){if(v===Ps)return v;var C=c.get(a.name);return C?v.remove(new _t(a.name,C)):v}),this.indexSet_)},u}(),Ke=function(){function u(a,c,h){this.children_=a,this.priorityNode_=c,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&zl(this.priorityNode_),this.children_.isEmpty()&&(0,S.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(u,"EMPTY_NODE",{get:function(){return Qo||(Qo=new u(new Br(ei),null,Yt.Default))},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!1},u.prototype.getPriority=function(){return this.priorityNode_||Qo},u.prototype.updatePriority=function(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)},u.prototype.getImmediateChild=function(a){if(".priority"===a)return this.getPriority();var c=this.children_.get(a);return null===c?Qo:c},u.prototype.getChild=function(a){var c=st(a);return null===c?this:this.getImmediateChild(c).getChild(Mt(a))},u.prototype.hasChild=function(a){return null!==this.children_.get(a)},u.prototype.updateImmediateChild=function(a,c){if((0,S.hu)(c,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(c);var h=new _t(a,c),v=void 0,C=void 0;c.isEmpty()?(v=this.children_.remove(a),C=this.indexMap_.removeFromIndexes(h,this.children_)):(v=this.children_.insert(a,c),C=this.indexMap_.addToIndexes(h,this.children_));var w=v.isEmpty()?Qo:this.priorityNode_;return new u(v,w,C)},u.prototype.updateChild=function(a,c){var h=st(a);if(null===h)return c;(0,S.hu)(".priority"!==st(a)||1===yi(a),".priority must be the last token in a path");var v=this.getImmediateChild(h).updateChild(Mt(a),c);return this.updateImmediateChild(h,v)},u.prototype.isEmpty=function(){return this.children_.isEmpty()},u.prototype.numChildren=function(){return this.children_.count()},u.prototype.val=function(a){if(this.isEmpty())return null;var c={},h=0,v=0,C=!0;if(this.forEachChild(Vt,function(M,O){c[M]=O.val(a),h++,C&&u.INTEGER_REGEXP_.test(M)?v=Math.max(v,Number(M)):C=!1}),!a&&C&&v<2*h){var w=[];for(var R in c)w[R]=c[R];return w}return a&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.getPriority().isEmpty()||(a+="priority:"+Ca(this.getPriority().val())+":"),this.forEachChild(Vt,function(c,h){var v=h.hash();""!==v&&(a+=":"+c+":"+v)}),this.lazyHash_=""===a?"":Re(a)}return this.lazyHash_},u.prototype.getPredecessorChildName=function(a,c,h){var v=this.resolveIndex_(h);if(v){var C=v.getPredecessorKey(new _t(a,c));return C?C.name:null}return this.children_.getPredecessorKey(a)},u.prototype.getFirstChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.minKey();return h&&h.name}return this.children_.minKey()},u.prototype.getFirstChild=function(a){var c=this.getFirstChildName(a);return c?new _t(c,this.children_.get(c)):null},u.prototype.getLastChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.maxKey();return h&&h.name}return this.children_.maxKey()},u.prototype.getLastChild=function(a){var c=this.getLastChildName(a);return c?new _t(c,this.children_.get(c)):null},u.prototype.forEachChild=function(a,c){var h=this.resolveIndex_(a);return h?h.inorderTraversal(function(v){return c(v.name,v.node)}):this.children_.inorderTraversal(c)},u.prototype.getIterator=function(a){return this.getIteratorFrom(a.minPost(),a)},u.prototype.getIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getIteratorFrom(a,function(w){return w});for(var v=this.children_.getIteratorFrom(a.name,_t.Wrap),C=v.peek();null!=C&&c.compare(C,a)<0;)v.getNext(),C=v.peek();return v},u.prototype.getReverseIterator=function(a){return this.getReverseIteratorFrom(a.maxPost(),a)},u.prototype.getReverseIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getReverseIteratorFrom(a,function(w){return w});for(var v=this.children_.getReverseIteratorFrom(a.name,_t.Wrap),C=v.peek();null!=C&&c.compare(C,a)>0;)v.getNext(),C=v.peek();return v},u.prototype.compareTo=function(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===jt?-1:0},u.prototype.withIndex=function(a){if(a===jr||this.indexMap_.hasIndex(a))return this;var c=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,c)},u.prototype.isIndexed=function(a){return a===jr||this.indexMap_.hasIndex(a)},u.prototype.equals=function(a){if(a===this)return!0;if(a.isLeafNode())return!1;var c=a;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){for(var h=this.getIterator(Vt),v=c.getIterator(Vt),C=h.getNext(),w=v.getNext();C&&w;){if(C.name!==w.name||!C.node.equals(w.node))return!1;C=h.getNext(),w=v.getNext()}return null===C&&null===w}return!1}return!1},u.prototype.resolveIndex_=function(a){return a===jr?null:this.indexMap_.get(a.toString())},u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u}(),jt=new(function(u){function a(){return u.call(this,new Br(ei),Ke.EMPTY_NODE,Yt.Default)||this}return(0,W.ZT)(a,u),a.prototype.compareTo=function(c){return c===this?0:1},a.prototype.equals=function(c){return c===this},a.prototype.getPriority=function(){return this},a.prototype.getImmediateChild=function(c){return Ke.EMPTY_NODE},a.prototype.isEmpty=function(){return!1},a}(Ke));function Jt(u,a){if(void 0===a&&(a=null),null===u)return Ke.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(a=u[".priority"]),(0,S.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new ao(u,Jt(a));if(u instanceof Array){var M=Ke.EMPTY_NODE;return $e(u,function(O,L){if((0,S.r3)(u,O)&&"."!==O.substring(0,1)){var X=Jt(L);(X.isLeafNode()||!X.isEmpty())&&(M=M.updateImmediateChild(O,X))}}),M.updatePriority(Jt(a))}var h=[],v=!1;if($e(u,function(O,L){if("."!==O.substring(0,1)){var X=Jt(L);X.isEmpty()||(v=v||!X.getPriority().isEmpty(),h.push(new _t(O,X)))}}),0===h.length)return Ke.EMPTY_NODE;var w=ba(h,Gl,function(O){return O.name},ei);if(v){var R=ba(h,Vt.getCompare());return new Ke(w,Jt(a),new Yt({".priority":R},{".priority":Vt}))}return new Ke(w,Jt(a),Yt.Default)}Object.defineProperties(_t,{MIN:{value:new _t(ee,Ke.EMPTY_NODE)},MAX:{value:new _t(me,jt)}}),Ud.__EMPTY_NODE=Ke.EMPTY_NODE,ao.__childrenNodeConstructor=Ke,function(u){Du=u}(jt),function(u){Kl=u}(jt),function(u){Ql=u}(Jt);var Ko=function(u){function a(c){var h=u.call(this)||this;return h.indexPath_=c,(0,S.hu)(!ct(c)&&".priority"!==st(c),"Can't create PathIndex with empty path or .priority key"),h}return(0,W.ZT)(a,u),a.prototype.extractChild=function(c){return c.getChild(this.indexPath_)},a.prototype.isDefinedOn=function(c){return!c.getChild(this.indexPath_).isEmpty()},a.prototype.compare=function(c,h){var v=this.extractChild(c.node),C=this.extractChild(h.node),w=v.compareTo(C);return 0===w?ne(c.name,h.name):w},a.prototype.makePost=function(c,h){var v=Jt(c),C=Ke.EMPTY_NODE.updateChild(this.indexPath_,v);return new _t(h,C)},a.prototype.maxPost=function(){var c=Ke.EMPTY_NODE.updateChild(this.indexPath_,jt);return new _t(me,c)},a.prototype.toString=function(){return Lr(this.indexPath_,0).join("/")},a}(Eu),Os=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.compareTo(h.node);return 0===v?ne(c.name,h.name):v},a.prototype.isDefinedOn=function(c){return!0},a.prototype.indexedValueChanged=function(c,h){return!c.equals(h)},a.prototype.minPost=function(){return _t.MIN},a.prototype.maxPost=function(){return _t.MAX},a.prototype.makePost=function(c,h){var v=Jt(c);return new _t(h,v)},a.prototype.toString=function(){return".value"},a}(Eu)),Ci="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Xl=function(){var u=0,a=[];return function(c){var h=c===u;u=c;var v,C=new Array(8);for(v=7;v>=0;v--)C[v]=Ci.charAt(c%64),c=Math.floor(c/64);(0,S.hu)(0===c,"Cannot push at time == 0");var w=C.join("");if(h){for(v=11;v>=0&&63===a[v];v--)a[v]=0;a[v]++}else for(v=0;v<12;v++)a[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)w+=Ci.charAt(a[v]);return(0,S.hu)(20===w.length,"nextPushId: Length should be 20."),w}}(),Ns=function(u){if(u===""+en)return"-";var a=mn(u);if(null!=a)return""+(a+1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);if(c.length<786)return c.push("-"),c.join("");for(var v=c.length-1;v>=0&&"z"===c[v];)v--;if(-1===v)return me;var w=Ci.charAt(Ci.indexOf(c[v])+1);return c[v]=w,c.slice(0,v+1).join("")},bi=function(u){if(u===""+ar)return ee;var a=mn(u);if(null!=a)return""+(a-1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);return"-"===c[c.length-1]?1===c.length?""+en:(delete c[c.length-1],c.join("")):(c[c.length-1]=Ci.charAt(Ci.indexOf(c[c.length-1])-1),c.join("")+"z".repeat(786-c.length))};function Iu(u){return{type:"value",snapshotNode:u}}function Di(u,a){return{type:"child_added",snapshotNode:a,childName:u}}function Ye(u,a){return{type:"child_removed",snapshotNode:a,childName:u}}function Fs(u,a,c){return{type:"child_changed",snapshotNode:a,childName:u,oldSnap:c}}var Tu=function(){function u(a){this.index_=a}return u.prototype.updateChild=function(a,c,h,v,C,w){(0,S.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");var R=a.getImmediateChild(c);return R.getChild(v).equals(h.getChild(v))&&R.isEmpty()===h.isEmpty()||(null!=w&&(h.isEmpty()?a.hasChild(c)?w.trackChildChange(Ye(c,R)):(0,S.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):R.isEmpty()?w.trackChildChange(Di(c,h)):w.trackChildChange(Fs(c,h,R))),a.isLeafNode()&&h.isEmpty())?a:a.updateImmediateChild(c,h).withIndex(this.index_)},u.prototype.updateFullNode=function(a,c,h){return null!=h&&(a.isLeafNode()||a.forEachChild(Vt,function(v,C){c.hasChild(v)||h.trackChildChange(Ye(v,C))}),c.isLeafNode()||c.forEachChild(Vt,function(v,C){if(a.hasChild(v)){var w=a.getImmediateChild(v);w.equals(C)||h.trackChildChange(Fs(v,C,w))}else h.trackChildChange(Di(v,C))})),c.withIndex(this.index_)},u.prototype.updatePriority=function(a,c){return a.isEmpty()?Ke.EMPTY_NODE:a.updatePriority(c)},u.prototype.filtersNodes=function(){return!1},u.prototype.getIndexedFilter=function(){return this},u.prototype.getIndex=function(){return this.index_},u}(),ec=function(){function u(a){this.indexedFilter_=new Tu(a.getIndex()),this.index_=a.getIndex(),this.startPost_=u.getStartPost_(a),this.endPost_=u.getEndPost_(a)}return u.prototype.getStartPost=function(){return this.startPost_},u.prototype.getEndPost=function(){return this.endPost_},u.prototype.matches=function(a){return this.index_.compare(this.getStartPost(),a)<=0&&this.index_.compare(a,this.getEndPost())<=0},u.prototype.updateChild=function(a,c,h,v,C,w){return this.matches(new _t(c,h))||(h=Ke.EMPTY_NODE),this.indexedFilter_.updateChild(a,c,h,v,C,w)},u.prototype.updateFullNode=function(a,c,h){c.isLeafNode()&&(c=Ke.EMPTY_NODE);var v=c.withIndex(this.index_);v=v.updatePriority(Ke.EMPTY_NODE);var C=this;return c.forEachChild(Vt,function(w,R){C.matches(new _t(w,R))||(v=v.updateImmediateChild(w,Ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.indexedFilter_},u.prototype.getIndex=function(){return this.index_},u.getStartPost_=function(a){if(a.hasStart()){var c=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),c)}return a.getIndex().minPost()},u.getEndPost_=function(a){if(a.hasEnd()){var c=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),c)}return a.getIndex().maxPost()},u}(),$d=function(){function u(a){this.rangedFilter_=new ec(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft()}return u.prototype.updateChild=function(a,c,h,v,C,w){return this.rangedFilter_.matches(new _t(c,h))||(h=Ke.EMPTY_NODE),a.getImmediateChild(c).equals(h)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,c,h,v,C,w):this.fullLimitUpdateChild_(a,c,h,C,w)},u.prototype.updateFullNode=function(a,c,h){var v;if(c.isLeafNode()||c.isEmpty())v=Ke.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){v=Ke.EMPTY_NODE.withIndex(this.index_);var C=void 0;C=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var w=0;C.hasNext()&&w<this.limit_;){var R=C.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),R)<=0:this.index_.compare(R,this.rangedFilter_.getEndPost())<=0))break;v=v.updateImmediateChild(R.name,R.node),w++}}else{v=(v=c.withIndex(this.index_)).updatePriority(Ke.EMPTY_NODE);var O=void 0,L=void 0,X=void 0;if(C=void 0,this.reverse_){C=v.getReverseIterator(this.index_),O=this.rangedFilter_.getEndPost(),L=this.rangedFilter_.getStartPost();var de=this.index_.getCompare();X=function(Fe,et){return de(et,Fe)}}else C=v.getIterator(this.index_),O=this.rangedFilter_.getStartPost(),L=this.rangedFilter_.getEndPost(),X=this.index_.getCompare();w=0;for(var ye=!1;C.hasNext();)R=C.getNext(),!ye&&X(O,R)<=0&&(ye=!0),ye&&w<this.limit_&&X(R,L)<=0?w++:v=v.updateImmediateChild(R.name,Ke.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},u.prototype.getIndex=function(){return this.index_},u.prototype.fullLimitUpdateChild_=function(a,c,h,v,C){var w;if(this.reverse_){var R=this.index_.getCompare();w=function(sn,Kt){return R(Kt,sn)}}else w=this.index_.getCompare();var M=a;(0,S.hu)(M.numChildren()===this.limit_,"");var O=new _t(c,h),L=this.reverse_?M.getFirstChild(this.index_):M.getLastChild(this.index_),X=this.rangedFilter_.matches(O);if(M.hasChild(c)){for(var de=M.getImmediateChild(c),ye=v.getChildAfterChild(this.index_,L,this.reverse_);null!=ye&&(ye.name===c||M.hasChild(ye.name));)ye=v.getChildAfterChild(this.index_,ye,this.reverse_);var Se=null==ye?1:w(ye,O);if(X&&!h.isEmpty()&&Se>=0)return null!=C&&C.trackChildChange(Fs(c,h,de)),M.updateImmediateChild(c,h);null!=C&&C.trackChildChange(Ye(c,de));var Fe=M.updateImmediateChild(c,Ke.EMPTY_NODE);return null!=ye&&this.rangedFilter_.matches(ye)?(null!=C&&C.trackChildChange(Di(ye.name,ye.node)),Fe.updateImmediateChild(ye.name,ye.node)):Fe}return h.isEmpty()?a:X&&w(L,O)>=0?(null!=C&&(C.trackChildChange(Ye(L.name,L.node)),C.trackChildChange(Di(c,h))),M.updateImmediateChild(c,h).updateImmediateChild(L.name,Ke.EMPTY_NODE)):a},u}(),tc=function(){function u(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vt}return u.prototype.hasStart=function(){return this.startSet_},u.prototype.hasStartAfter=function(){return this.startAfterSet_},u.prototype.hasEndBefore=function(){return this.endBeforeSet_},u.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},u.prototype.getIndexStartValue=function(){return(0,S.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},u.prototype.getIndexStartName=function(){return(0,S.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ee},u.prototype.hasEnd=function(){return this.endSet_},u.prototype.getIndexEndValue=function(){return(0,S.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},u.prototype.getIndexEndName=function(){return(0,S.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:me},u.prototype.hasLimit=function(){return this.limitSet_},u.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},u.prototype.getLimit=function(){return(0,S.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},u.prototype.getIndex=function(){return this.index_},u.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},u.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Vt},u.prototype.copy=function(){var a=new u;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a},u}();function wa(u,a,c){var h=u.copy();return h.startSet_=!0,void 0===a&&(a=null),h.indexStartValue_=a,null!=c?(h.startNameSet_=!0,h.indexStartName_=c):(h.startNameSet_=!1,h.indexStartName_=""),h}function Ls(u,a,c){var h=u.copy();return h.endSet_=!0,void 0===a&&(a=null),h.indexEndValue_=a,void 0!==c?(h.endNameSet_=!0,h.indexEndName_=c):(h.endNameSet_=!1,h.indexEndName_=""),h}function Nn(u,a){var c=u.copy();return c.index_=a,c}function Vs(u){var c,a={};return u.isDefault()||(u.index_===Vt?c="$priority":u.index_===Os?c="$value":u.index_===jr?c="$key":((0,S.hu)(u.index_ instanceof Ko,"Unrecognized index type!"),c=u.index_.toString()),a.orderBy=(0,S.Pz)(c),u.startSet_&&(a.startAt=(0,S.Pz)(u.indexStartValue_),u.startNameSet_&&(a.startAt+=","+(0,S.Pz)(u.indexStartName_))),u.endSet_&&(a.endAt=(0,S.Pz)(u.indexEndValue_),u.endNameSet_&&(a.endAt+=","+(0,S.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?a.limitToFirst=u.limit_:a.limitToLast=u.limit_)),a}function Us(u){var a={};if(u.startSet_&&(a.sp=u.indexStartValue_,u.startNameSet_&&(a.sn=u.indexStartName_)),u.endSet_&&(a.ep=u.indexEndValue_,u.endNameSet_&&(a.en=u.indexEndName_)),u.limitSet_){a.l=u.limit_;var c=u.viewFrom_;""===c&&(c=u.isViewFromLeft()?"l":"r"),a.vf=c}return u.index_!==Vt&&(a.i=u.index_.toString()),a}var Kh=function(u){function a(c,h,v,C){var w=u.call(this)||this;return w.repoInfo_=c,w.onDataUpdate_=h,w.authTokenProvider_=v,w.appCheckTokenProvider_=C,w.log_=Rt("p:rest:"),w.listens_={},w}return(0,W.ZT)(a,u),a.prototype.reportStats=function(c){throw new Error("Method not implemented.")},a.getListenId_=function(c,h){return void 0!==h?"tag$"+h:((0,S.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())},a.prototype.listen=function(c,h,v,C){var w=this,R=c._path.toString();this.log_("Listen called for "+R+" "+c._queryIdentifier);var M=a.getListenId_(c,v),O={};this.listens_[M]=O;var L=Vs(c._queryParams);this.restRequest_(R+".json",L,function(X,de){var ye=de;404===X&&(ye=null,X=null),null===X&&w.onDataUpdate_(R,ye,!1,v),(0,S.DV)(w.listens_,M)===O&&C(X?401===X?"permission_denied":"rest_error:"+X:"ok",null)})},a.prototype.unlisten=function(c,h){var v=a.getListenId_(c,h);delete this.listens_[v]},a.prototype.get=function(c){var h=this,v=Vs(c._queryParams),C=c._path.toString(),w=new S.BH;return this.restRequest_(C+".json",v,function(R,M){var O=M;404===R&&(O=null,R=null),null===R?(h.onDataUpdate_(C,O,!1,null),w.resolve(O)):w.reject(new Error(O))}),w.promise},a.prototype.refreshAuthToken=function(c){},a.prototype.restRequest_=function(c,h,v){var C=this;return void 0===h&&(h={}),h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(w){var R=(0,W.CR)(w,2),M=R[0],O=R[1];M&&M.accessToken&&(h.auth=M.accessToken),O&&O.token&&(h.ac=O.token);var L=(C.repoInfo_.secure?"https://":"http://")+C.repoInfo_.host+c+"?ns="+C.repoInfo_.namespace+(0,S.xO)(h);C.log_("Sending REST request for "+L);var X=new XMLHttpRequest;X.onreadystatechange=function(){if(v&&4===X.readyState){C.log_("REST Response for "+L+" received. status:",X.status,"response:",X.responseText);var de=null;if(X.status>=200&&X.status<300){try{de=(0,S.cI)(X.responseText)}catch(ye){Nt("Failed to parse JSON response for "+L+": "+X.responseText)}v(null,de)}else 401!==X.status&&404!==X.status&&Nt("Got unsuccessful REST response for "+L+" Status: "+X.status),v(X.status);v=null}},X.open("GET",L,!0),X.send()})},a}(va),Wd=function(){function u(){this.rootNode_=Ke.EMPTY_NODE}return u.prototype.getNode=function(a){return this.rootNode_.getChild(a)},u.prototype.updateSnapshot=function(a,c){this.rootNode_=this.rootNode_.updateChild(a,c)},u}();function lo(){return{value:null,children:new Map}}function ti(u,a,c){if(ct(a))u.value=c,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(a,c);else{var h=st(a);u.children.has(h)||u.children.set(h,lo()),ti(u.children.get(h),a=Mt(a),c)}}function un(u,a){if(ct(a))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;var c=u.value;return u.value=null,c.forEachChild(Vt,function(C,w){ti(u,new ot(C),w)}),un(u,a)}if(u.children.size>0){var h=st(a);return a=Mt(a),u.children.has(h)&&un(u.children.get(h),a)&&u.children.delete(h),0===u.children.size}return!0}function tr(u,a,c){null!==u.value?c(a,u.value):function(u,a){u.children.forEach(function(c,h){a(h,c)})}(u,function(h,v){tr(v,new ot(a.toString()+"/"+h),c)})}var ni=function(){function u(a){this.collection_=a,this.last_=null}return u.prototype.get=function(){var a=this.collection_.get(),c=(0,W.pi)({},a);return this.last_&&$e(this.last_,function(h,v){c[h]=c[h]-v}),this.last_=a,c},u}(),rc=function(){function u(a,c){this.server_=c,this.statsToReport_={},this.statsListener_=new ni(a);var h=1e4+2e4*Math.random();Jr(this.reportStats_.bind(this),Math.floor(h))}return u.prototype.reportStats_=function(){var a=this,c=this.statsListener_.get(),h={},v=!1;$e(c,function(C,w){w>0&&(0,S.r3)(a.statsToReport_,C)&&(h[C]=w,v=!0)}),v&&this.server_.reportStats(h),Jr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},u}(),Gn=(()=>(function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gn||(Gn={})),Gn))();function co(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}var ic=function(){function u(a,c,h){this.path=a,this.affectedTree=c,this.revert=h,this.type=Gn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return u.prototype.operationForChild=function(a){if(ct(this.path)){if(null!=this.affectedTree.value)return(0,S.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var c=this.affectedTree.subtree(new ot(a));return new u(Ve(),c,this.revert)}return(0,S.hu)(st(this.path)===a,"operationForChild called for unrelated child."),new u(Mt(this.path),this.affectedTree,this.revert)},u}(),Su=function(){function u(a,c){this.source=a,this.path=c,this.type=Gn.LISTEN_COMPLETE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,Ve()):new u(this.source,Mt(this.path))},u}(),fo=function(){function u(a,c,h){this.source=a,this.path=c,this.snap=h,this.type=Gn.OVERWRITE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,Ve(),this.snap.getImmediateChild(a)):new u(this.source,Mt(this.path),this.snap)},u}(),Ta=function(){function u(a,c,h){this.source=a,this.path=c,this.children=h,this.type=Gn.MERGE}return u.prototype.operationForChild=function(a){if(ct(this.path)){var c=this.children.subtree(new ot(a));return c.isEmpty()?null:c.value?new fo(this.source,Ve(),c.value):new u(this.source,Ve(),c)}return(0,S.hu)(st(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new u(this.source,Mt(this.path),this.children)},u.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},u}(),wi=function(){function u(a,c,h){this.node_=a,this.fullyInitialized_=c,this.filtered_=h}return u.prototype.isFullyInitialized=function(){return this.fullyInitialized_},u.prototype.isFiltered=function(){return this.filtered_},u.prototype.isCompleteForPath=function(a){if(ct(a))return this.isFullyInitialized()&&!this.filtered_;var c=st(a);return this.isCompleteForChild(c)},u.prototype.isCompleteForChild=function(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)},u.prototype.getNode=function(){return this.node_},u}(),oc=function(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()};function ri(u,a,c,h,v,C){var w=h.filter(function(R){return R.type===c});w.sort(function(R,M){return function(u,a,c){if(null==a.childName||null==c.childName)throw(0,S.g5)("Should only compare child_ events.");var h=new _t(a.childName,a.snapshotNode),v=new _t(c.childName,c.snapshotNode);return u.index_.compare(h,v)}(u,R,M)}),w.forEach(function(R){var M=function(u,a,c){return"value"===a.type||"child_removed"===a.type||(a.prevName=c.getPredecessorChildName(a.childName,a.snapshotNode,u.index_)),a}(u,R,C);v.forEach(function(O){O.respondsTo(R.type)&&a.push(O.createEvent(M,u.query_))})})}function hn(u,a){return{eventCache:u,serverCache:a}}function Tr(u,a,c,h){return hn(new wi(a,c,h),u.serverCache)}function rn(u,a,c,h){return hn(u.eventCache,new wi(a,c,h))}function Ru(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function qo(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}var Au,nr=function(){function u(a,c){void 0===c&&(Au||(Au=new Br(He)),c=Au),this.value=a,this.children=c}return u.fromObject=function(a){var c=new u(null);return $e(a,function(h,v){c=c.set(new ot(h),v)}),c},u.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},u.prototype.findRootMostMatchingPathAndValue=function(a,c){if(null!=this.value&&c(this.value))return{path:Ve(),value:this.value};if(ct(a))return null;var h=st(a),v=this.children.get(h);if(null!==v){var C=v.findRootMostMatchingPathAndValue(Mt(a),c);return null!=C?{path:lt(new ot(h),C.path),value:C.value}:null}return null},u.prototype.findRootMostValueAndPath=function(a){return this.findRootMostMatchingPathAndValue(a,function(){return!0})},u.prototype.subtree=function(a){if(ct(a))return this;var c=st(a),h=this.children.get(c);return null!==h?h.subtree(Mt(a)):new u(null)},u.prototype.set=function(a,c){if(ct(a))return new u(c,this.children);var h=st(a),C=(this.children.get(h)||new u(null)).set(Mt(a),c),w=this.children.insert(h,C);return new u(this.value,w)},u.prototype.remove=function(a){if(ct(a))return this.children.isEmpty()?new u(null):new u(null,this.children);var c=st(a),h=this.children.get(c);if(h){var v=h.remove(Mt(a)),C=void 0;return C=v.isEmpty()?this.children.remove(c):this.children.insert(c,v),null===this.value&&C.isEmpty()?new u(null):new u(this.value,C)}return this},u.prototype.get=function(a){if(ct(a))return this.value;var c=st(a),h=this.children.get(c);return h?h.get(Mt(a)):null},u.prototype.setTree=function(a,c){if(ct(a))return c;var w,h=st(a),C=(this.children.get(h)||new u(null)).setTree(Mt(a),c);return w=C.isEmpty()?this.children.remove(h):this.children.insert(h,C),new u(this.value,w)},u.prototype.fold=function(a){return this.fold_(Ve(),a)},u.prototype.fold_=function(a,c){var h={};return this.children.inorderTraversal(function(v,C){h[v]=C.fold_(lt(a,v),c)}),c(a,this.value,h)},u.prototype.findOnPath=function(a,c){return this.findOnPath_(a,Ve(),c)},u.prototype.findOnPath_=function(a,c,h){var v=!!this.value&&h(c,this.value);if(v)return v;if(ct(a))return null;var C=st(a),w=this.children.get(C);return w?w.findOnPath_(Mt(a),lt(c,C),h):null},u.prototype.foreachOnPath=function(a,c){return this.foreachOnPath_(a,Ve(),c)},u.prototype.foreachOnPath_=function(a,c,h){if(ct(a))return this;this.value&&h(c,this.value);var v=st(a),C=this.children.get(v);return C?C.foreachOnPath_(Mt(a),lt(c,v),h):new u(null)},u.prototype.foreach=function(a){this.foreach_(Ve(),a)},u.prototype.foreach_=function(a,c){this.children.inorderTraversal(function(h,v){v.foreach_(lt(a,h),c)}),this.value&&c(a,this.value)},u.prototype.foreachChild=function(a){this.children.inorderTraversal(function(c,h){h.value&&a(c,h.value)})},u}(),Sr=function(){function u(a){this.writeTree_=a}return u.empty=function(){return new u(new nr(null))},u}();function Ii(u,a,c){if(ct(a))return new Sr(new nr(c));var h=u.writeTree_.findRootMostValueAndPath(a);if(null!=h){var v=h.path,C=h.value,w=Zt(v,a);return C=C.updateChild(w,c),new Sr(u.writeTree_.set(v,C))}var R=new nr(c),M=u.writeTree_.setTree(a,R);return new Sr(M)}function Ti(u,a,c){var h=u;return $e(c,function(v,C){h=Ii(h,lt(a,v),C)}),h}function Bs(u,a){if(ct(a))return Sr.empty();var c=u.writeTree_.setTree(a,new nr(null));return new Sr(c)}function Hs(u,a){return null!=Si(u,a)}function Si(u,a){var c=u.writeTree_.findRootMostValueAndPath(a);return null!=c?u.writeTree_.get(c.path).getChild(Zt(c.path,a)):null}function sc(u){var a=[],c=u.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Vt,function(h,v){a.push(new _t(h,v))}):u.writeTree_.children.inorderTraversal(function(h,v){null!=v.value&&a.push(new _t(h,v.value))}),a}function Fn(u,a){if(ct(a))return u;var c=Si(u,a);return new Sr(null!=c?new nr(c):u.writeTree_.subtree(a))}function Zo(u){return u.writeTree_.isEmpty()}function $s(u,a){return ac(Ve(),u.writeTree_,a)}function ac(u,a,c){if(null!=a.value)return c.updateChild(u,a.value);var h=null;return a.children.inorderTraversal(function(v,C){".priority"===v?((0,S.hu)(null!==C.value,"Priority writes must always be leaf nodes"),h=C.value):c=ac(lt(u,v),C,c)}),!c.getChild(u).isEmpty()&&null!==h&&(c=c.updateChild(lt(u,".priority"),h)),c}function Ri(u,a){return Ou(a,u)}function Wg(u,a){if(u.snap)return On(u.path,a);for(var c in u.children)if(u.children.hasOwnProperty(c)&&On(lt(u.path,c),a))return!0;return!1}function uc(u){return u.visible}function Rr(u,a,c){for(var h=Sr.empty(),v=0;v<u.length;++v){var C=u[v];if(a(C)){var w=C.path,R=void 0;if(C.snap)On(c,w)?h=Ii(h,R=Zt(c,w),C.snap):On(w,c)&&(R=Zt(w,c),h=Ii(h,Ve(),C.snap.getChild(R)));else{if(!C.children)throw(0,S.g5)("WriteRecord should have .snap or .children");if(On(c,w))h=Ti(h,R=Zt(c,w),C.children);else if(On(w,c))if(ct(R=Zt(w,c)))h=Ti(h,Ve(),C.children);else{var M=(0,S.DV)(C.children,st(R));if(M){var O=M.getChild(Mt(R));h=Ii(h,Ve(),O)}}}}}return h}function Ws(u,a,c,h,v){if(h||v){var M=Fn(u.visibleWrites,a);return!v&&Zo(M)?c:v||null!=c||Hs(M,Ve())?$s(Rr(u.allWrites,function(de){return(de.visible||v)&&(!h||!~h.indexOf(de.writeId))&&(On(de.path,a)||On(a,de.path))},a),c||Ke.EMPTY_NODE):null}var C=Si(u.visibleWrites,a);if(null!=C)return C;var w=Fn(u.visibleWrites,a);return Zo(w)?c:null!=c||Hs(w,Ve())?$s(w,c||Ke.EMPTY_NODE):null}function po(u,a,c,h){return Ws(u.writeTree,u.treePath,a,c,h)}function Jd(u,a){return function(u,a,c){var h=Ke.EMPTY_NODE,v=Si(u.visibleWrites,a);if(v)return v.isLeafNode()||v.forEachChild(Vt,function(R,M){h=h.updateImmediateChild(R,M)}),h;if(c){var C=Fn(u.visibleWrites,a);return c.forEachChild(Vt,function(R,M){var O=$s(Fn(C,new ot(R)),M);h=h.updateImmediateChild(R,O)}),sc(C).forEach(function(R){h=h.updateImmediateChild(R.name,R.node)}),h}return sc(Fn(u.visibleWrites,a)).forEach(function(R){h=h.updateImmediateChild(R.name,R.node)}),h}(u.writeTree,u.treePath,a)}function Pu(u,a,c,h){return function(u,a,c,h,v){(0,S.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");var C=lt(a,c);if(Hs(u.visibleWrites,C))return null;var w=Fn(u.visibleWrites,C);return Zo(w)?v.getChild(c):$s(w,v.getChild(c))}(u.writeTree,u.treePath,a,c,h)}function Ra(u,a){return function(u,a){return Si(u.visibleWrites,a)}(u.writeTree,lt(u.treePath,a))}function dc(u,a,c){return function(u,a,c,h){var v=lt(a,c),C=Si(u.visibleWrites,v);return null!=C?C:h.isCompleteForChild(c)?$s(Fn(u.visibleWrites,v),h.getNode().getImmediateChild(c)):null}(u.writeTree,u.treePath,a,c)}function Jo(u,a){return Ou(lt(u.treePath,a),u.writeTree)}function Ou(u,a){return{treePath:u,writeTree:a}}var xt=function(){function u(){this.changeMap=new Map}return u.prototype.trackChildChange=function(a){var c=a.type,h=a.childName;(0,S.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,S.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");var v=this.changeMap.get(h);if(v){var C=v.type;if("child_added"===c&&"child_removed"===C)this.changeMap.set(h,Fs(h,a.snapshotNode,v.snapshotNode));else if("child_removed"===c&&"child_added"===C)this.changeMap.delete(h);else if("child_removed"===c&&"child_changed"===C)this.changeMap.set(h,Ye(h,v.oldSnap));else if("child_changed"===c&&"child_added"===C)this.changeMap.set(h,Di(h,a.snapshotNode));else{if("child_changed"!==c||"child_changed"!==C)throw(0,S.g5)("Illegal combination of changes: "+a+" occurred after "+v);this.changeMap.set(h,Fs(h,a.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,a)},u.prototype.getChanges=function(){return Array.from(this.changeMap.values())},u}(),zn=new(function(){function u(){}return u.prototype.getCompleteChild=function(a){return null},u.prototype.getChildAfterChild=function(a,c,h){return null},u}()),Ge=function(){function u(a,c,h){void 0===h&&(h=null),this.writes_=a,this.viewCache_=c,this.optCompleteServerCache_=h}return u.prototype.getCompleteChild=function(a){var c=this.viewCache_.eventCache;if(c.isCompleteForChild(a))return c.getNode().getImmediateChild(a);var h=null!=this.optCompleteServerCache_?new wi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dc(this.writes_,a,h)},u.prototype.getChildAfterChild=function(a,c,h){var v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qo(this.viewCache_),C=function(u,a,c,h,v,C){return function(u,a,c,h,v,C,w){var R,M=Fn(u.visibleWrites,a),O=Si(M,Ve());if(null!=O)R=O;else{if(null==c)return[];R=$s(M,c)}if((R=R.withIndex(w)).isEmpty()||R.isLeafNode())return[];for(var L=[],X=w.getCompare(),de=C?R.getReverseIteratorFrom(h,w):R.getIteratorFrom(h,w),ye=de.getNext();ye&&L.length<v;)0!==X(ye,h)&&L.push(ye),ye=de.getNext();return L}(u.writeTree,u.treePath,a,c,h,v,C)}(this.writes_,v,c,1,h,a);return 0===C.length?null:C[0]},u}();function go(u,a,c,h,v,C){var w=a.eventCache;if(null!=Ra(h,c))return a;var R=void 0,M=void 0;if(ct(c))if((0,S.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){var O=qo(a),X=Jd(h,O instanceof Ke?O:Ke.EMPTY_NODE);R=u.filter.updateFullNode(a.eventCache.getNode(),X,C)}else{var de=po(h,qo(a));R=u.filter.updateFullNode(a.eventCache.getNode(),de,C)}else{var ye=st(c);if(".priority"===ye){(0,S.hu)(1===yi(c),"Can't have a priority with additional path components");var Se=w.getNode(),Qe=Pu(h,c,Se,M=a.serverCache.getNode());R=null!=Qe?u.filter.updatePriority(Se,Qe):w.getNode()}else{var Fe=Mt(c),et=void 0;if(w.isCompleteForChild(ye)){M=a.serverCache.getNode();var sn=Pu(h,c,w.getNode(),M);et=null!=sn?w.getNode().getImmediateChild(ye).updateChild(Fe,sn):w.getNode().getImmediateChild(ye)}else et=dc(h,ye,a.serverCache);R=null!=et?u.filter.updateChild(w.getNode(),ye,et,Fe,v,C):w.getNode()}}return Tr(a,R,w.isFullyInitialized()||ct(c),u.filter.filtersNodes())}function on(u,a,c,h,v,C,w,R){var O,M=a.serverCache,L=w?u.filter:u.filter.getIndexedFilter();if(ct(c))O=L.updateFullNode(M.getNode(),h,null);else if(L.filtersNodes()&&!M.isFiltered()){var X=M.getNode().updateChild(c,h);O=L.updateFullNode(M.getNode(),X,null)}else{var de=st(c);if(!M.isCompleteForPath(c)&&yi(c)>1)return a;var ye=Mt(c),Qe=M.getNode().getImmediateChild(de).updateChild(ye,h);O=".priority"===de?L.updatePriority(M.getNode(),Qe):L.updateChild(M.getNode(),de,Qe,ye,zn,null)}var Fe=rn(a,O,M.isFullyInitialized()||ct(c),L.filtersNodes());return go(u,Fe,c,v,new Ge(v,Fe,C),R)}function Xo(u,a,c,h,v,C,w){var M,O,R=a.eventCache,L=new Ge(v,a,C);if(ct(c))O=u.filter.updateFullNode(a.eventCache.getNode(),h,w),M=Tr(a,O,!0,u.filter.filtersNodes());else{var X=st(c);if(".priority"===X)O=u.filter.updatePriority(a.eventCache.getNode(),h),M=Tr(a,O,R.isFullyInitialized(),R.isFiltered());else{var de=Mt(c),ye=R.getNode().getImmediateChild(X),Se=void 0;if(ct(de))Se=h;else{var Qe=L.getCompleteChild(X);Se=null!=Qe?".priority"===As(de)&&Qe.getChild(Vr(de)).isEmpty()?Qe:Qe.updateChild(de,h):Ke.EMPTY_NODE}M=ye.equals(Se)?a:Tr(a,u.filter.updateChild(R.getNode(),X,Se,de,L,w),R.isFullyInitialized(),u.filter.filtersNodes())}}return M}function es(u,a){return u.eventCache.isCompleteForChild(a)}function ts(u,a,c){return c.foreach(function(h,v){a=a.updateChild(h,v)}),a}function Ma(u,a,c,h,v,C,w,R){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;var O,M=a;O=ct(c)?h:new nr(null).setTree(c,h);var L=a.serverCache.getNode();return O.children.inorderTraversal(function(X,de){if(L.hasChild(X)){var Se=ts(0,a.serverCache.getNode().getImmediateChild(X),de);M=on(u,M,new ot(X),Se,v,C,w,R)}}),O.children.inorderTraversal(function(X,de){var ye=!a.serverCache.isCompleteForChild(X)&&void 0===de.value;if(!L.hasChild(X)&&!ye){var Qe=ts(0,a.serverCache.getNode().getImmediateChild(X),de);M=on(u,M,new ot(X),Qe,v,C,w,R)}}),M}var Fu=function(){function u(a,c){this.query_=a,this.eventRegistrations_=[];var h=this.query_._queryParams,v=new Tu(h.getIndex()),C=function(u){return u.loadsAllData()?new Tu(u.getIndex()):u.hasLimit()?new $d(u):new ec(u)}(h);this.processor_=function(u){return{filter:u}}(C);var w=c.serverCache,R=c.eventCache,M=v.updateFullNode(Ke.EMPTY_NODE,w.getNode(),null),O=C.updateFullNode(Ke.EMPTY_NODE,R.getNode(),null),L=new wi(M,w.isFullyInitialized(),v.filtersNodes()),X=new wi(O,R.isFullyInitialized(),C.filtersNodes());this.viewCache_=hn(X,L),this.eventGenerator_=new oc(this.query_)}return Object.defineProperty(u.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),u}();function is(u,a){var c=qo(u.viewCache_);return c&&(u.query._queryParams.loadsAllData()||!ct(a)&&!c.getImmediateChild(st(a)).isEmpty())?c.getChild(a):null}function vo(u){return 0===u.eventRegistrations_.length}function Ai(u,a,c){var h=[];if(c){(0,S.hu)(null==a,"A cancel should cancel all event registrations.");var v=u.query._path;u.eventRegistrations_.forEach(function(M){var O=M.createCancelEvent(c,v);O&&h.push(O)})}if(a){for(var C=[],w=0;w<u.eventRegistrations_.length;++w){var R=u.eventRegistrations_[w];if(R.matches(a)){if(a.hasAnyCallback()){C=C.concat(u.eventRegistrations_.slice(w+1));break}}else C.push(R)}u.eventRegistrations_=C}else u.eventRegistrations_=[];return h}function ef(u,a,c,h){a.type===Gn.MERGE&&null!==a.source.queryId&&((0,S.hu)(qo(u.viewCache_),"We should always have a full cache before handling merges"),(0,S.hu)(Ru(u.viewCache_),"Missing event cache, even though we have a server cache"));var v=u.viewCache_,C=function(u,a,c,h,v){var w,R,C=new xt;if(c.type===Gn.OVERWRITE){var M=c;M.source.fromUser?w=Xo(u,a,M.path,M.snap,h,v,C):((0,S.hu)(M.source.fromServer,"Unknown source."),R=M.source.tagged||a.serverCache.isFiltered()&&!ct(M.path),w=on(u,a,M.path,M.snap,h,v,R,C))}else if(c.type===Gn.MERGE){var O=c;O.source.fromUser?w=function(u,a,c,h,v,C,w){var R=a;return h.foreach(function(M,O){var L=lt(c,M);es(a,st(L))&&(R=Xo(u,R,L,O,v,C,w))}),h.foreach(function(M,O){var L=lt(c,M);es(a,st(L))||(R=Xo(u,R,L,O,v,C,w))}),R}(u,a,O.path,O.children,h,v,C):((0,S.hu)(O.source.fromServer,"Unknown source."),R=O.source.tagged||a.serverCache.isFiltered(),w=Ma(u,a,O.path,O.children,h,v,R,C))}else if(c.type===Gn.ACK_USER_WRITE){var L=c;w=L.revert?function(u,a,c,h,v,C){var w;if(null!=Ra(h,c))return a;var R=new Ge(h,a,v),M=a.eventCache.getNode(),O=void 0;if(ct(c)||".priority"===st(c)){var L=void 0;if(a.serverCache.isFullyInitialized())L=po(h,qo(a));else{var X=a.serverCache.getNode();(0,S.hu)(X instanceof Ke,"serverChildren would be complete if leaf node"),L=Jd(h,X)}O=u.filter.updateFullNode(M,L=L,C)}else{var de=st(c),ye=dc(h,de,a.serverCache);null==ye&&a.serverCache.isCompleteForChild(de)&&(ye=M.getImmediateChild(de)),(O=null!=ye?u.filter.updateChild(M,de,ye,Mt(c),R,C):a.eventCache.getNode().hasChild(de)?u.filter.updateChild(M,de,Ke.EMPTY_NODE,Mt(c),R,C):M).isEmpty()&&a.serverCache.isFullyInitialized()&&(w=po(h,qo(a))).isLeafNode()&&(O=u.filter.updateFullNode(O,w,C))}return w=a.serverCache.isFullyInitialized()||null!=Ra(h,Ve()),Tr(a,O,w,u.filter.filtersNodes())}(u,a,L.path,h,v,C):function(u,a,c,h,v,C,w){if(null!=Ra(v,c))return a;var R=a.serverCache.isFiltered(),M=a.serverCache;if(null!=h.value){if(ct(c)&&M.isFullyInitialized()||M.isCompleteForPath(c))return on(u,a,c,M.getNode().getChild(c),v,C,R,w);if(ct(c)){var O=new nr(null);return M.getNode().forEachChild(jr,function(X,de){O=O.set(new ot(X),de)}),Ma(u,a,c,O,v,C,R,w)}return a}var L=new nr(null);return h.foreach(function(X,de){var ye=lt(c,X);M.isCompleteForPath(ye)&&(L=L.set(X,M.getNode().getChild(ye)))}),Ma(u,a,c,L,v,C,R,w)}(u,a,L.path,L.affectedTree,h,v,C)}else{if(c.type!==Gn.LISTEN_COMPLETE)throw(0,S.g5)("Unknown operation type: "+c.type);w=function(u,a,c,h,v){var C=a.serverCache;return go(u,rn(a,C.getNode(),C.isFullyInitialized()||ct(c),C.isFiltered()),c,h,zn,v)}(u,a,c.path,h,C)}var X=C.getChanges();return function(u,a,c){var h=a.eventCache;if(h.isFullyInitialized()){var v=h.getNode().isLeafNode()||h.getNode().isEmpty(),C=Ru(u);(c.length>0||!u.eventCache.isFullyInitialized()||v&&!h.getNode().equals(C)||!h.getNode().getPriority().equals(C.getPriority()))&&c.push(Iu(Ru(a)))}}(a,w,X),{viewCache:w,changes:X}}(u.processor_,v,a,c,h);return function(u,a){(0,S.hu)(a.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,S.hu)(a.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,C.viewCache),(0,S.hu)(C.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=C.viewCache,hc(u,C.changes,C.viewCache.eventCache.getNode(),null)}function hc(u,a,c,h){return function(u,a,c,h){var v=[],C=[];return a.forEach(function(w){"child_changed"===w.type&&u.index_.indexedValueChanged(w.oldSnap,w.snapshotNode)&&C.push(function(u,a){return{type:"child_moved",snapshotNode:a,childName:u}}(w.childName,w.snapshotNode))}),ri(u,v,"child_removed",a,h,c),ri(u,v,"child_added",a,h,c),ri(u,v,"child_moved",C,h,c),ri(u,v,"child_changed",a,h,c),ri(u,v,"value",a,h,c),v}(u.eventGenerator_,a,c,h?[h]:u.eventRegistrations_)}var Lu,Uu,tf=function(){this.views=new Map};function Vu(u,a,c,h){var v,C,w=a.source.queryId;if(null!==w){var R=u.views.get(w);return(0,S.hu)(null!=R,"SyncTree gave us an op for an invalid query."),ef(R,a,c,h)}var M=[];try{for(var O=(0,W.XA)(u.views.values()),L=O.next();!L.done;L=O.next())M=M.concat(ef(R=L.value,a,c,h))}catch(X){v={error:X}}finally{try{L&&!L.done&&(C=O.return)&&C.call(O)}finally{if(v)throw v.error}}return M}function gc(u,a,c,h,v){var w=u.views.get(a._queryIdentifier);if(!w){var R=po(c,v?h:null),M=!1;R?M=!0:h instanceof Ke?(R=Jd(c,h),M=!1):(R=Ke.EMPTY_NODE,M=!1);var O=hn(new wi(R,M,!1),new wi(h,v,!1));return new Fu(a,O)}return w}function nf(u){var a,c,h=[];try{for(var v=(0,W.XA)(u.views.values()),C=v.next();!C.done;C=v.next()){var w=C.value;w.query._queryParams.loadsAllData()||h.push(w)}}catch(R){a={error:R}}finally{try{C&&!C.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}function Mi(u,a){var c,h,v=null;try{for(var C=(0,W.XA)(u.views.values()),w=C.next();!w.done;w=C.next())v=v||is(w.value,a)}catch(M){c={error:M}}finally{try{w&&!w.done&&(h=C.return)&&h.call(C)}finally{if(c)throw c.error}}return v}function rf(u,a){return a._queryParams.loadsAllData()?Yn(u):u.views.get(a._queryIdentifier)}function ip(u,a){return null!=rf(u,a)}function Hr(u){return null!=Yn(u)}function Yn(u){var a,c;try{for(var h=(0,W.XA)(u.views.values()),v=h.next();!v.done;v=h.next()){var C=v.value;if(C.query._queryParams.loadsAllData())return C}}catch(w){a={error:w}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return null}var Ys=1,xi=function(a){this.listenProvider_=a,this.syncPointTree_=new nr(null),this.pendingWriteTree_={visibleWrites:Sr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Qs(u,a,c,h,v){return function(u,a,c,h,v){(0,S.hu)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:a,snap:c,writeId:h,visible:v}),v&&(u.visibleWrites=Ii(u.visibleWrites,a,c)),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h,v),v?$r(u,new fo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,c)):[]}function Dn(u,a,c){void 0===c&&(c=!1);var h=function(u,a){for(var c=0;c<u.allWrites.length;c++){var h=u.allWrites[c];if(h.writeId===a)return h}return null}(u.pendingWriteTree_,a);if(function(u,a){var c=u.allWrites.findIndex(function(O){return O.writeId===a});(0,S.hu)(c>=0,"removeWrite called with nonexistent writeId.");var h=u.allWrites[c];u.allWrites.splice(c,1);for(var v=h.visible,C=!1,w=u.allWrites.length-1;v&&w>=0;){var R=u.allWrites[w];R.visible&&(w>=c&&Wg(R,h.path)?v=!1:On(h.path,R.path)&&(C=!0)),w--}return!!v&&(C?(function(u){u.visibleWrites=Rr(u.allWrites,uc,Ve()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=Bs(u.visibleWrites,h.path):$e(h.children,function(O){u.visibleWrites=Bs(u.visibleWrites,lt(h.path,O))}),!0))}(u.pendingWriteTree_,a)){var C=new nr(null);return null!=h.snap?C=C.set(Ve(),!0):$e(h.children,function(w){C=C.set(new ot(w),!0)}),$r(u,new ic(h.path,C,c))}return[]}function ii(u,a,c){return $r(u,new fo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,c))}function Hu(u,a,c,h){var v=a._path,C=u.syncPointTree_.get(v),w=[];if(C&&("default"===a._queryIdentifier||ip(C,a))){var R=function(u,a,c,h){var v,C,w=a._queryIdentifier,R=[],M=[],O=Hr(u);if("default"===w)try{for(var L=(0,W.XA)(u.views.entries()),X=L.next();!X.done;X=L.next()){var Se,de=(0,W.CR)(X.value,2),ye=de[0];M=M.concat(Ai(Se=de[1],c,h)),vo(Se)&&(u.views.delete(ye),Se.query._queryParams.loadsAllData()||R.push(Se.query))}}catch(Qe){v={error:Qe}}finally{try{X&&!X.done&&(C=L.return)&&C.call(L)}finally{if(v)throw v.error}}else(Se=u.views.get(w))&&(M=M.concat(Ai(Se,c,h)),vo(Se)&&(u.views.delete(w),Se.query._queryParams.loadsAllData()||R.push(Se.query)));return O&&!Hr(u)&&R.push(new((0,S.hu)(Lu,"Reference.ts has not been loaded"),Lu)(a._repo,a._path)),{removed:R,events:M}}(C,a,c,h);(function(u){return 0===u.views.size})(C)&&(u.syncPointTree_=u.syncPointTree_.remove(v));var M=R.removed;w=R.events;var O=-1!==M.findIndex(function(sn){return sn._queryParams.loadsAllData()}),L=u.syncPointTree_.findOnPath(v,function(sn,Kt){return Hr(Kt)});if(O&&!L){var X=u.syncPointTree_.subtree(v);if(!X.isEmpty())for(var de=function(u){return u.fold(function(a,c,h){if(c&&Hr(c))return[Yn(c)];var C=[];return c&&(C=nf(c)),$e(h,function(w,R){C=C.concat(R)}),C})}(X),ye=0;ye<de.length;++ye){var Se=de[ye],Qe=Se.query,Fe=Pa(u,Se);u.listenProvider_.startListening(Eo(Qe),Ks(u,Qe),Fe.hashFn,Fe.onComplete)}}!L&&M.length>0&&!h&&(O?u.listenProvider_.stopListening(Eo(a),null):M.forEach(function(sn){var Kt=u.queryToTagMap.get(qs(sn));u.listenProvider_.stopListening(Eo(sn),Kt)})),function(u,a){for(var c=0;c<a.length;++c){var h=a[c];if(!h._queryParams.loadsAllData()){var v=qs(h),C=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(C)}}}(u,M)}return w}function mc(u,a,c){var h=a._path,v=null,C=!1;u.syncPointTree_.foreachOnPath(h,function(Qe,Fe){var et=Zt(Qe,h);v=v||Mi(Fe,et),C=C||Hr(Fe)});var R,w=u.syncPointTree_.get(h);w?(C=C||Hr(w),v=v||Mi(w,Ve())):(w=new tf,u.syncPointTree_=u.syncPointTree_.set(h,w)),null!=v?R=!0:(R=!1,v=Ke.EMPTY_NODE,u.syncPointTree_.subtree(h).foreachChild(function(Qe,Fe){var et=Mi(Fe,Ve());et&&(v=v.updateImmediateChild(Qe,et))}));var O=ip(w,a);if(!O&&!a._queryParams.loadsAllData()){var L=qs(a);(0,S.hu)(!u.queryToTagMap.has(L),"View does not exist, but we have a tag");var X=Ys++;u.queryToTagMap.set(L,X),u.tagToQueryMap.set(X,L)}var ye=function(u,a,c,h,v,C){var w=gc(u,a,h,v,C);return u.views.has(a._queryIdentifier)||u.views.set(a._queryIdentifier,w),function(u,a){u.eventRegistrations_.push(a)}(w,c),function(u,a){var c=u.viewCache_.eventCache,h=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Vt,function(C,w){h.push(Di(C,w))}),c.isFullyInitialized()&&h.push(Iu(c.getNode())),hc(u,h,c.getNode(),a)}(w,c)}(w,a,c,Ri(u.pendingWriteTree_,h),v,R);if(!O&&!C){var Se=rf(w,a);ye=ye.concat(function(u,a,c){var h=a._path,v=Ks(u,a),C=Pa(u,c),w=u.listenProvider_.startListening(Eo(a),v,C.hashFn,C.onComplete),R=u.syncPointTree_.subtree(h);if(v)(0,S.hu)(!Hr(R.value),"If we're adding a query, it shouldn't be shadowed");else for(var M=R.fold(function(X,de,ye){if(!ct(X)&&de&&Hr(de))return[Yn(de).query];var Se=[];return de&&(Se=Se.concat(nf(de).map(function(Qe){return Qe.query}))),$e(ye,function(Qe,Fe){Se=Se.concat(Fe)}),Se}),O=0;O<M.length;++O){var L=M[O];u.listenProvider_.stopListening(Eo(L),Ks(u,L))}return w}(u,a,Se))}return ye}function Ar(u,a,c){var v=u.pendingWriteTree_,C=u.syncPointTree_.findOnPath(a,function(w,R){var O=Mi(R,Zt(w,a));if(O)return O});return Ws(v,a,C,c,!0)}function $r(u,a){return Co(a,u.syncPointTree_,null,Ri(u.pendingWriteTree_,Ve()))}function Co(u,a,c,h){if(ct(u.path))return xa(u,a,c,h);var v=a.get(Ve());null==c&&null!=v&&(c=Mi(v,Ve()));var C=[],w=st(u.path),R=u.operationForChild(w),M=a.children.get(w);if(M&&R){var O=c?c.getImmediateChild(w):null,L=Jo(h,w);C=C.concat(Co(R,M,O,L))}return v&&(C=C.concat(Vu(v,u,h,c))),C}function xa(u,a,c,h){var v=a.get(Ve());null==c&&null!=v&&(c=Mi(v,Ve()));var C=[];return a.children.inorderTraversal(function(w,R){var M=c?c.getImmediateChild(w):null,O=Jo(h,w),L=u.operationForChild(w);L&&(C=C.concat(xa(L,R,M,O)))}),v&&(C=C.concat(Vu(v,u,h,c))),C}function Pa(u,a){var c=a.query,h=Ks(u,c);return{hashFn:function(){return(function(u){return u.viewCache_.serverCache.getNode()}(a)||Ke.EMPTY_NODE).hash()},onComplete:function(v){if("ok"===v)return h?function(u,a,c){var h=Oa(u,c);if(h){var v=Na(h),C=v.path,w=v.queryId,R=Zt(C,a);return $u(u,C,new Su(co(w),R))}return[]}(u,c._path,h):function(u,a){return $r(u,new Su({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(u,c._path);var C=function(u,a){var c="Unknown Error";"too_big"===u?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?c="Client doesn't have permission to access the desired data.":"unavailable"===u&&(c="The service is unavailable");var h=new Error(u+" at "+a._path.toString()+": "+c);return h.code=u.toUpperCase(),h}(v,c);return Hu(u,c,null,C)}}}function Ks(u,a){var c=qs(a);return u.queryToTagMap.get(c)}function qs(u){return u._path.toString()+"$"+u._queryIdentifier}function Oa(u,a){return u.tagToQueryMap.get(a)}function Na(u){var a=u.indexOf("$");return(0,S.hu)(-1!==a&&a<u.length-1,"Bad queryKey."),{queryId:u.substr(a+1),path:new ot(u.substr(0,a))}}function $u(u,a,c){var h=u.syncPointTree_.get(a);return(0,S.hu)(h,"Missing sync point for query tag that we're tracking"),Vu(h,c,Ri(u.pendingWriteTree_,a),null)}function Eo(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new((0,S.hu)(Uu,"Reference.ts has not been loaded"),Uu)(u._repo,u._path):u}var La=function(){function u(a){this.node_=a}return u.prototype.getImmediateChild=function(a){return new u(this.node_.getImmediateChild(a))},u.prototype.node=function(){return this.node_},u}(),bo=function(){function u(a,c){this.syncTree_=a,this.path_=c}return u.prototype.getImmediateChild=function(a){var c=lt(this.path_,a);return new u(this.syncTree_,c)},u.prototype.node=function(){return Ar(this.syncTree_,this.path_)},u}(),ss=function(u,a,c){return u&&"object"==typeof u?((0,S.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?sf(u[".sv"],a,c):"object"==typeof u[".sv"]?Va(u[".sv"],a):void(0,S.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},sf=function(u,a,c){switch(u){case"timestamp":return c.timestamp;default:(0,S.hu)(!1,"Unexpected server value: "+u)}},Va=function(u,a,c){u.hasOwnProperty("increment")||(0,S.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));var h=u.increment;"number"!=typeof h&&(0,S.hu)(!1,"Unexpected increment value: "+h);var v=a.node();if((0,S.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;var w=v.getValue();return"number"!=typeof w?h:w+h},af=function(u,a,c,h){return Oi(a,new bo(c,u),h)},Zs=function(u,a,c){return Oi(u,new La(a),c)};function Oi(u,a,c){var C,h=u.getPriority().val(),v=ss(h,a.getImmediateChild(".priority"),c);if(u.isLeafNode()){var w=u,R=ss(w.getValue(),a,c);return R!==w.getValue()||v!==w.getPriority().val()?new ao(R,Jt(v)):u}var M=u;return C=M,v!==M.getPriority().val()&&(C=C.updatePriority(new ao(v))),M.forEachChild(Vt,function(O,L){var X=Oi(L,a.getImmediateChild(O),c);X!==L&&(C=C.updateImmediateChild(O,X))}),C}var oi=function(a,c,h){void 0===a&&(a=""),void 0===c&&(c=null),void 0===h&&(h={children:{},childCount:0}),this.name=a,this.parent=c,this.node=h};function Js(u,a){for(var c=a instanceof ot?a:new ot(a),h=u,v=st(c);null!==v;){var C=(0,S.DV)(h.node.children,v)||{children:{},childCount:0};h=new oi(v,h,C),v=st(c=Mt(c))}return h}function $t(u){return u.node.value}function Ua(u,a){u.node.value=a,Gu(u)}function uf(u){return u.node.childCount>0}function Fi(u,a){$e(u.node.children,function(c,h){a(new oi(c,u,h))})}function _c(u,a,c,h){c&&!h&&a(u),Fi(u,function(v){_c(v,a,!0,h)}),c&&h&&a(u)}function as(u){return new ot(null===u.parent?u.name:as(u.parent)+"/"+u.name)}function Gu(u){null!==u.parent&&function(u,a,c){var h=function(u){return void 0===$t(u)&&!uf(u)}(c),v=(0,S.r3)(u.node.children,a);h&&v?(delete u.node.children[a],u.node.childCount--,Gu(u)):!h&&!v&&(u.node.children[a]=c.node,u.node.childCount++,Gu(u))}(u.parent,u.name,u)}var si=/[\[\].#$\/\u0000-\u001F\u007F]/,ja=/[\[\].#$\u0000-\u001F\u007F]/,Wr=10485760,Ba=function(u){return"string"==typeof u&&0!==u.length&&!si.test(u)},zu=function(u){return"string"==typeof u&&0!==u.length&&!ja.test(u)},ai=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!re(u)||u&&"object"==typeof u&&(0,S.r3)(u,".sv")},At=function(u,a,c,h){h&&void 0===a||Kn((0,S.gK)(u,"value"),a,c)},Kn=function(u,a,c){var h=c instanceof ot?new _a(c,u):c;if(void 0===a)throw new Error(u+"contains undefined "+so(h));if("function"==typeof a)throw new Error(u+"contains a function "+so(h)+" with contents = "+a.toString());if(re(a))throw new Error(u+"contains "+a.toString()+" "+so(h));if("string"==typeof a&&a.length>Wr/3&&(0,S.ug)(a)>Wr)throw new Error(u+"contains a string greater than "+Wr+" utf8 bytes "+so(h)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){var v=!1,C=!1;if($e(a,function(w,R){if(".value"===w)v=!0;else if(".priority"!==w&&".sv"!==w&&(C=!0,!Ba(w)))throw new Error(u+" contains an invalid key ("+w+") "+so(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(u,a){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(a),u.byteLength_+=(0,S.ug)(a),Nd(u)})(h,w),Kn(u,R,h),function(u){var a=u.parts_.pop();u.byteLength_-=(0,S.ug)(a),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),v&&C)throw new Error(u+' contains ".value" child '+so(h)+" in addition to actual children.")}},ki=function(u,a,c,h){if(!h||void 0!==a){var v=(0,S.gK)(u,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(v+" must be an object containing the children to replace.");var C=[];$e(a,function(w,R){var M=new ot(w);if(Kn(v,R,lt(c,M)),".priority"===As(M)&&!ai(R))throw new Error(v+"contains an invalid value for '"+M.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");C.push(M)}),function(u,a){var c,h;for(c=0;c<a.length;c++)for(var v=Lr(h=a[c]),C=0;C<v.length;C++)if((".priority"!==v[C]||C!==v.length-1)&&!Ba(v[C]))throw new Error(u+"contains an invalid key ("+v[C]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');a.sort(cr);var w=null;for(c=0;c<a.length;c++){if(h=a[c],null!==w&&On(w,h))throw new Error(u+"contains a path "+w.toString()+" that is ancestor of another path "+h.toString());w=h}}(v,C)}},Li=function(u,a,c){if(!c||void 0!==a){if(re(a))throw new Error((0,S.gK)(u,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ai(a))throw new Error((0,S.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cf=function(u,a,c){if(!c||void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,S.gK)(u,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ha=function(u,a,c,h){if(!(h&&void 0===c||Ba(c)))throw new Error((0,S.gK)(u,a)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qt=function(u,a,c,h){if(!(h&&void 0===c||zu(c)))throw new Error((0,S.gK)(u,a)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rr=function(u,a){if(".info"===st(a))throw new Error(u+" failed = Can't modify data under /.info/")},yc=function(u,a){var c=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!Ba(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==c.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),zu(u)}(c))throw new Error((0,S.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},df=function(u,a,c,h){if((!h||void 0!==c)&&"boolean"!=typeof c)throw new Error((0,S.gK)(u,a)+"must be a boolean.")},ff=function(){this.eventLists_=[],this.recursionDepth_=0};function wo(u,a){for(var c=null,h=0;h<a.length;h++){var v=a[h],C=v.getPath();null!==c&&!Ms(C,c.path)&&(u.eventLists_.push(c),c=null),null===c&&(c={events:[],path:C}),c.events.push(v)}c&&u.eventLists_.push(c)}function Xs(u,a,c){wo(u,c),Ku(u,function(h){return Ms(h,a)})}function wn(u,a,c){wo(u,c),Ku(u,function(h){return On(h,a)||On(a,h)})}function Ku(u,a){u.recursionDepth_++;for(var c=!0,h=0;h<u.eventLists_.length;h++){var v=u.eventLists_[h];v&&(a(v.path)?(hf(u.eventLists_[h]),u.eventLists_[h]=null):c=!1)}c&&(u.eventLists_=[]),u.recursionDepth_--}function hf(u){for(var a=0;a<u.events.length;a++){var c=u.events[a];if(null!==c){u.events[a]=null;var h=c.getEventRunner();Ee&&Te("event: "+c.toString()),Er(h)}}}var pf="repo_interrupt",Wa=function(){function u(a,c,h,v){this.repoInfo_=a,this.forceRestClient_=c,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ff,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lo(),this.transactionQueueTree_=new oi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return u.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},u}();function qu(u){var c=u.infoData_.getNode(new ot(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Mr(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:qu(u)})}function ui(u,a,c,h,v){u.dataUpdateCount++;var C=new ot(a);c=u.interceptServerDataCallback_?u.interceptServerDataCallback_(a,c):c;var w=[];if(v)if(h){var R=(0,S.UI)(c,function(de){return Jt(de)});w=function(u,a,c,h){var v=Oa(u,h);if(v){var C=Na(v),w=C.path,R=C.queryId,M=Zt(w,a),O=nr.fromObject(c);return $u(u,w,new Ta(co(R),M,O))}return[]}(u.serverSyncTree_,C,R,v)}else{var M=Jt(c);w=function(u,a,c,h){var v=Oa(u,h);if(null!=v){var C=Na(v),w=C.path,R=C.queryId,M=Zt(w,a);return $u(u,w,new fo(co(R),M,c))}return[]}(u.serverSyncTree_,C,M,v)}else if(h){var O=(0,S.UI)(c,function(de){return Jt(de)});w=function(u,a,c){var h=nr.fromObject(c);return $r(u,new Ta({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,h))}(u.serverSyncTree_,C,O)}else{var L=Jt(c);w=ii(u.serverSyncTree_,C,L)}var X=C;w.length>0&&(X=Io(u,C)),wn(u.eventQueue_,X,w)}function us(u,a){Zu(u,"connected",a),!1===a&&function(u){ls(u,"onDisconnectEvents");var a=Mr(u),c=lo();tr(u.onDisconnect_,Ve(),function(v,C){var w=af(v,C,u.serverSyncTree_,a);ti(c,v,w)});var h=[];tr(c,Ve(),function(v,C){h=h.concat(ii(u.serverSyncTree_,v,C));var w=To(u,v);Io(u,w)}),u.onDisconnect_=lo(),wn(u.eventQueue_,Ve(),h)}(u)}function Zu(u,a,c){var h=new ot("/.info/"+a),v=Jt(c);u.infoData_.updateSnapshot(h,v);var C=ii(u.infoSyncTree_,h,v);wn(u.eventQueue_,h,C)}function kn(u){return u.nextWriteId_++}function li(u,a,c,h,v){ls(u,"set",{path:a.toString(),value:c,priority:h});var C=Mr(u),w=Jt(c,h),R=Ar(u.serverSyncTree_,a),M=Zs(w,R,C),O=kn(u),L=Qs(u.serverSyncTree_,a,M,O,!0);wo(u.eventQueue_,L),u.server_.put(a.toString(),w.val(!0),function(de,ye){var Se="ok"===de;Se||Nt("set at "+a+" failed: "+de);var Qe=Dn(u.serverSyncTree_,O,!Se);wn(u.eventQueue_,a,Qe),gr(0,v,de,ye)});var X=To(u,a);Io(u,X),wn(u.eventQueue_,X,[])}function bc(u,a,c){u.server_.onDisconnectCancel(a.toString(),function(h,v){"ok"===h&&un(u.onDisconnect_,a),gr(0,c,h,v)})}function Xu(u,a,c,h){var v=Jt(c);u.server_.onDisconnectPut(a.toString(),v.val(!0),function(C,w){"ok"===C&&ti(u.onDisconnect_,a,v),gr(0,h,C,w)})}function el(u,a,c){var h;h=".info"===st(a._path)?Hu(u.infoSyncTree_,a,c):Hu(u.serverSyncTree_,a,c),Xs(u.eventQueue_,a._path,h)}function Rn(u){u.persistentConnection_&&u.persistentConnection_.interrupt(pf)}function ls(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];var h="";u.persistentConnection_&&(h=u.persistentConnection_.id+":"),Te.apply(void 0,(0,W.ev)([h],(0,W.CR)(a)))}function gr(u,a,c,h){a&&Er(function(){if("ok"===c)a(null);else{var v=(c||"error").toUpperCase(),C=v;h&&(C+=": "+h);var w=new Error(C);w.code=v,a(w)}})}function mr(u,a,c){return Ar(u.serverSyncTree_,a,c)||Ke.EMPTY_NODE}function Ui(u,a){if(void 0===a&&(a=u.transactionQueueTree_),a||ji(u,a),$t(a)){var c=za(u,a);(0,S.hu)(c.length>0,"Sending zero length transaction queue"),c.every(function(v){return 0===v.status})&&function(u,a,c){for(var h=c.map(function(de){return de.currentWriteId}),v=mr(u,a,h),C=v,w=v.hash(),R=0;R<c.length;R++){var M=c[R];(0,S.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;var O=Zt(a,M.path);C=C.updateChild(O,M.currentOutputSnapshotRaw)}var L=C.val(!0),X=a;u.server_.put(X.toString(),L,function(de){ls(u,"transaction put response",{path:X.toString(),status:de});var ye=[];if("ok"===de){for(var Se=[],Qe=function(et){c[et].status=2,ye=ye.concat(Dn(u.serverSyncTree_,c[et].currentWriteId)),c[et].onComplete&&Se.push(function(){return c[et].onComplete(null,!0,c[et].currentOutputSnapshotResolved)}),c[et].unwatcher()},Fe=0;Fe<c.length;Fe++)Qe(Fe);for(ji(u,Js(u.transactionQueueTree_,a)),Ui(u,u.transactionQueueTree_),wn(u.eventQueue_,a,ye),Fe=0;Fe<Se.length;Fe++)Er(Se[Fe])}else{if("datastale"===de)for(Fe=0;Fe<c.length;Fe++)c[Fe].status=3===c[Fe].status?4:0;else for(Nt("transaction at "+X.toString()+" failed: "+de),Fe=0;Fe<c.length;Fe++)c[Fe].status=4,c[Fe].abortReason=de;Io(u,a)}},w)}(u,as(a),c)}else uf(a)&&Fi(a,function(v){Ui(u,v)})}function Io(u,a){var c=_f(u,a),h=as(c);return function(u,a,c){if(0!==a.length){for(var h=[],v=[],w=a.filter(function(O){return 0===O.status}).map(function(O){return O.currentWriteId}),R=function(O){var ye,L=a[O],X=Zt(c,L.path),de=!1;if((0,S.hu)(null!==X,"rerunTransactionsUnderNode_: relativePath should not be null."),4===L.status)de=!0,ye=L.abortReason,v=v.concat(Dn(u.serverSyncTree_,L.currentWriteId,!0));else if(0===L.status)if(L.retryCount>=25)de=!0,ye="maxretry",v=v.concat(Dn(u.serverSyncTree_,L.currentWriteId,!0));else{var Se=mr(u,L.path,w);L.currentInputSnapshot=Se;var Qe=a[O].update(Se.val());if(void 0!==Qe){Kn("transaction failed: Data returned ",Qe,L.path);var Fe=Jt(Qe);"object"==typeof Qe&&null!=Qe&&(0,S.r3)(Qe,".priority")||(Fe=Fe.updatePriority(Se.getPriority()));var sn=L.currentWriteId,Kt=Mr(u),Qr=Zs(Fe,Se,Kt);L.currentOutputSnapshotRaw=Fe,L.currentOutputSnapshotResolved=Qr,L.currentWriteId=kn(u),w.splice(w.indexOf(sn),1),v=(v=v.concat(Qs(u.serverSyncTree_,L.path,Qr,L.currentWriteId,L.applyLocally))).concat(Dn(u.serverSyncTree_,sn,!0))}else de=!0,ye="nodata",v=v.concat(Dn(u.serverSyncTree_,L.currentWriteId,!0))}wn(u.eventQueue_,c,v),v=[],de&&(a[O].status=2,setTimeout(a[O].unwatcher,Math.floor(0)),a[O].onComplete&&h.push("nodata"===ye?function(){return a[O].onComplete(null,!1,a[O].currentInputSnapshot)}:function(){return a[O].onComplete(new Error(ye),!1,null)}))},M=0;M<a.length;M++)R(M);for(ji(u,u.transactionQueueTree_),M=0;M<h.length;M++)Er(h[M]);Ui(u,u.transactionQueueTree_)}}(u,za(u,c),h),h}function _f(u,a){var c,h=u.transactionQueueTree_;for(c=st(a);null!==c&&void 0===$t(h);)h=Js(h,c),c=st(a=Mt(a));return h}function za(u,a){var c=[];return Tc(u,a,c),c.sort(function(h,v){return h.order-v.order}),c}function Tc(u,a,c){var h=$t(a);if(h)for(var v=0;v<h.length;v++)c.push(h[v]);Fi(a,function(C){Tc(u,C,c)})}function ji(u,a){var c=$t(a);if(c){for(var h=0,v=0;v<c.length;v++)2!==c[v].status&&(c[h]=c[v],h++);c.length=h,Ua(a,c.length>0?c:void 0)}Fi(a,function(C){ji(u,C)})}function To(u,a){var c=as(_f(u,a)),h=Js(u.transactionQueueTree_,a);return function(u,a,c){for(var h=u.parent;null!==h;){if(a(h))return!0;h=h.parent}}(h,function(v){vr(u,v)}),vr(u,h),_c(h,function(v){vr(u,v)}),c}function vr(u,a){var c=$t(a);if(c){for(var h=[],v=[],C=-1,w=0;w<c.length;w++)3===c[w].status||(1===c[w].status?((0,S.hu)(C===w-1,"All SENT items should be at beginning of queue."),C=w,c[w].status=3,c[w].abortReason="set"):((0,S.hu)(0===c[w].status,"Unexpected transaction status in abort"),c[w].unwatcher(),v=v.concat(Dn(u.serverSyncTree_,c[w].currentWriteId,!0)),c[w].onComplete&&h.push(c[w].onComplete.bind(null,new Error("set"),!1,null))));for(-1===C?Ua(a,void 0):c.length=C+1,wn(u.eventQueue_,as(a),v),w=0;w<h.length;w++)Er(h[w])}}var So=function(u,a){var c=Cf(u),h=c.namespace;return"firebase.com"===c.domain&&bt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==c.domain&&bt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tn(c.host,c.secure,h,a,"ws"===c.scheme||"wss"===c.scheme,"",h!==c.subdomain),path:new ot(c.pathString)}},Cf=function(u){var a="",c="",h="",v="",C="",w=!0,R="https",M=443;if("string"==typeof u){var O=u.indexOf("//");O>=0&&(R=u.substring(0,O-1),u=u.substring(O+2));var L=u.indexOf("/");-1===L&&(L=u.length);var X=u.indexOf("?");-1===X&&(X=u.length),a=u.substring(0,Math.min(L,X)),L<X&&(v=function(u){for(var a="",c=u.split("/"),h=0;h<c.length;h++)if(c[h].length>0){var v=c[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(C){}a+="/"+v}return a}(u.substring(L,X)));var de=function(u){var a,c,h={};"?"===u.charAt(0)&&(u=u.substring(1));try{for(var v=(0,W.XA)(u.split("&")),C=v.next();!C.done;C=v.next()){var w=C.value;if(0!==w.length){var R=w.split("=");2===R.length?h[decodeURIComponent(R[0])]=decodeURIComponent(R[1]):Nt("Invalid query segment '"+w+"' in query '"+u+"'")}}}catch(M){a={error:M}}finally{try{C&&!C.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}(u.substring(Math.min(u.length,X)));(O=a.indexOf(":"))>=0?(w="https"===R||"wss"===R,M=parseInt(a.substring(O+1),10)):O=a.length;var ye=a.slice(0,O);if("localhost"===ye.toLowerCase())c="localhost";else if(ye.split(".").length<=2)c=ye;else{var Se=a.indexOf(".");h=a.substring(0,Se).toLowerCase(),c=a.substring(Se+1),C=h}"ns"in de&&(C=de.ns)}return{host:a,port:M,domain:c,subdomain:h,secure:w,scheme:R,pathString:v,namespace:C}},Sc=function(){function u(a,c,h,v){this.eventType=a,this.eventRegistration=c,this.snapshot=h,this.prevName=v}return u.prototype.getPath=function(){var a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path},u.prototype.getEventType=function(){return this.eventType},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,S.Pz)(this.snapshot.exportVal())},u}(),Rc=function(){function u(a,c,h){this.eventRegistration=a,this.error=c,this.path=h}return u.prototype.getPath=function(){return this.path},u.prototype.getEventType=function(){return"cancel"},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.path.toString()+":cancel"},u}(),Ac=function(){function u(a,c){this.snapshotCallback=a,this.cancelCallback=c}return u.prototype.onValue=function(a,c){this.snapshotCallback.call(null,a,c)},u.prototype.onCancel=function(a){return(0,S.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)},Object.defineProperty(u.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),u.prototype.matches=function(a){return this.snapshotCallback===a.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context},u}(),Mc=function(){function u(a,c){this._repo=a,this._path=c}return u.prototype.cancel=function(){var a=new S.BH;return bc(this._repo,this._path,a.wrapCallback(function(){})),a.promise},u.prototype.remove=function(){rr("OnDisconnect.remove",this._path);var a=new S.BH;return Xu(this._repo,this._path,null,a.wrapCallback(function(){})),a.promise},u.prototype.set=function(a){rr("OnDisconnect.set",this._path),At("OnDisconnect.set",a,this._path,!1);var c=new S.BH;return Xu(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u.prototype.setWithPriority=function(a,c){rr("OnDisconnect.setWithPriority",this._path),At("OnDisconnect.setWithPriority",a,this._path,!1),Li("OnDisconnect.setWithPriority",c,!1);var h=new S.BH;return function(u,a,c,h,v){var C=Jt(c,h);u.server_.onDisconnectPut(a.toString(),C.val(!0),function(w,R){"ok"===w&&ti(u.onDisconnect_,a,C),gr(0,v,w,R)})}(this._repo,this._path,a,c,h.wrapCallback(function(){})),h.promise},u.prototype.update=function(a){rr("OnDisconnect.update",this._path),ki("OnDisconnect.update",a,this._path,!1);var c=new S.BH;return function(u,a,c,h){if((0,S.xb)(c))return Te("onDisconnect().update() called with empty data.  Don't do anything."),void gr(0,h,"ok",void 0);u.server_.onDisconnectMerge(a.toString(),c,function(v,C){"ok"===v&&$e(c,function(w,R){var M=Jt(R);ti(u.onDisconnect_,lt(a,w),M)}),gr(0,h,v,C)})}(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u}(),Ln=function(){function u(a,c,h,v){this._repo=a,this._path=c,this._queryParams=h,this._orderByCalled=v}return Object.defineProperty(u.prototype,"key",{get:function(){return ct(this._path)?null:As(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new It(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryIdentifier",{get:function(){var a=Us(this._queryParams),c=Gt(a);return"{}"===c?"default":c},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryObject",{get:function(){return Us(this._queryParams)},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){if(!((a=(0,S.m9)(a))instanceof u))return!1;var c=this._repo===a._repo,h=Ms(this._path,a._path);return c&&h&&this._queryIdentifier===a._queryIdentifier},u.prototype.toJSON=function(){return this.toString()},u.prototype.toString=function(){return this._repo.toString()+function(u){for(var a="",c=u.pieceNum_;c<u.pieces_.length;c++)""!==u.pieces_[c]&&(a+="/"+encodeURIComponent(String(u.pieces_[c])));return a||"/"}(this._path)},u}();function ea(u,a){if(!0===u._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function Gr(u){var a=null,c=null;if(u.hasStart()&&(a=u.getIndexStartValue()),u.hasEnd()&&(c=u.getIndexEndValue()),u.getIndex()===jr){var h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==ee)throw new Error(h);if("string"!=typeof a)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==me)throw new Error(h);if("string"!=typeof c)throw new Error(v)}}else if(u.getIndex()===Vt){if(null!=a&&!ai(a)||null!=c&&!ai(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,S.hu)(u.getIndex()instanceof Ko||u.getIndex()===Os,"unknown index type."),null!=a&&"object"==typeof a||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cs(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var It=function(u){function a(c,h){return u.call(this,c,h,new tc,!1)||this}return(0,W.ZT)(a,u),Object.defineProperty(a.prototype,"parent",{get:function(){var c=Vr(this._path);return null===c?null:new a(this._repo,c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){for(var c=this;null!==c.parent;)c=c.parent;return c},enumerable:!1,configurable:!0}),a}(Ln),Ya=function(){function u(a,c,h){this._node=a,this.ref=c,this._index=h}return Object.defineProperty(u.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),u.prototype.child=function(a){var c=new ot(a),h=Bi(this.ref,a);return new u(this._node.getChild(c),h,Vt)},u.prototype.exists=function(){return!this._node.isEmpty()},u.prototype.exportVal=function(){return this._node.val(!0)},u.prototype.forEach=function(a){var c=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(v,C){return a(new u(C,Bi(c.ref,v),Vt))})},u.prototype.hasChild=function(a){var c=new ot(a);return!this._node.getChild(c).isEmpty()},u.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},u.prototype.toJSON=function(){return this.exportVal()},u.prototype.val=function(){return this._node.val()},u}();function xc(u,a){return(u=(0,S.m9)(u))._checkNotDeleted("ref"),void 0!==a?Bi(u._root,a):u._root}function ta(u,a){(u=(0,S.m9)(u))._checkNotDeleted("refFromURL");var c=So(a,u._repo.repoInfo_.nodeAdmin);yc("refFromURL",c);var h=c.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&h.host!==u._repo.repoInfo_.host&&bt("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+u._repo.repoInfo_.host+")"),xc(u,c.path.toString())}function Bi(u,a){return null===st((u=(0,S.m9)(u))._path)?((c=a)&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Qt("child","path",c,!1)):Qt("child","path",a,!1),new It(u._repo,lt(u._path,a));var c}function Vn(u,a){u=(0,S.m9)(u),rr("push",u._path),At("push",a,u._path,!0);var w,c=qu(u._repo),h=Xl(c),v=Bi(u,h),C=Bi(u,h);return w=null!=a?nl(C,a).then(function(){return C}):Promise.resolve(C),v.then=w.then.bind(w),v.catch=w.then.bind(w,void 0),v}function Qa(u){return rr("remove",u._path),nl(u,null)}function nl(u,a){u=(0,S.m9)(u),rr("set",u._path),At("set",a,u._path,!1);var c=new S.BH;return li(u._repo,u._path,a,null,c.wrapCallback(function(){})),c.promise}function Ka(u,a){u=(0,S.m9)(u),rr("setPriority",u._path),Li("setPriority",a,!1);var c=new S.BH;return li(u._repo,lt(u._path,".priority"),a,null,c.wrapCallback(function(){})),c.promise}function Ef(u,a,c){if(rr("setWithPriority",u._path),At("setWithPriority",a,u._path,!1),Li("setWithPriority",c,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";var h=new S.BH;return li(u._repo,u._path,a,c,h.wrapCallback(function(){})),h.promise}function lp(u,a){ki("update",a,u._path,!1);var c=new S.BH;return function(u,a,c,h){ls(u,"update",{path:a.toString(),value:c});var v=!0,C=Mr(u),w={};if($e(c,function(O,L){v=!1,w[O]=af(lt(a,O),Jt(L),u.serverSyncTree_,C)}),v)Te("update() called with empty data.  Don't do anything."),gr(0,h,"ok",void 0);else{var R=kn(u),M=function(u,a,c,h){!function(u,a,c,h){(0,S.hu)(h>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:a,children:c,writeId:h,visible:!0}),u.visibleWrites=Ti(u.visibleWrites,a,c),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h);var v=nr.fromObject(c);return $r(u,new Ta({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,v))}(u.serverSyncTree_,a,w,R);wo(u.eventQueue_,M),u.server_.merge(a.toString(),c,function(O,L){var X="ok"===O;X||Nt("update at "+a+" failed: "+O);var de=Dn(u.serverSyncTree_,R,!X),ye=de.length>0?Io(u,a):a;wn(u.eventQueue_,ye,de),gr(0,h,O,L)}),$e(c,function(O){var L=To(u,lt(a,O));Io(u,L)}),wn(u.eventQueue_,a,[])}}(u._repo,u._path,a,c.wrapCallback(function(){})),c.promise}function bf(u){return function(u,a){var c=function(u,a){var c=a._path,h=null;u.syncPointTree_.foreachOnPath(c,function(O,L){var X=Zt(O,c);h=h||Mi(L,X)});var v=u.syncPointTree_.get(c);v?h=h||Mi(v,Ve()):(v=new tf,u.syncPointTree_=u.syncPointTree_.set(c,v));var C=null!=h,w=C?new wi(h,!0,!1):null;return function(u){return Ru(u.viewCache_)}(gc(v,a,Ri(u.pendingWriteTree_,a._path),C?w.getNode():Ke.EMPTY_NODE,C))}(u.serverSyncTree_,a);return null!=c?Promise.resolve(c):u.server_.get(a).then(function(h){var v=Jt(h).withIndex(a._queryParams.getIndex()),C=ii(u.serverSyncTree_,a._path,v);return Xs(u.eventQueue_,a._path,C),Promise.resolve(v)},function(h){return ls(u,"get for query "+(0,S.Pz)(a)+" failed: "+h),Promise.reject(new Error(h))})}((u=(0,S.m9)(u))._repo,u).then(function(a){return new Ya(a,new It(u._repo,u._path),u._queryParams.getIndex())})}var ds=function(){function u(a){this.callbackContext=a}return u.prototype.respondsTo=function(a){return"value"===a},u.prototype.createEvent=function(a,c){var h=c._queryParams.getIndex();return new Sc("value",this,new Ya(a.snapshotNode,new It(c._repo,c._path),h))},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,null)}},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new Rc(this,a,c):null},u.prototype.matches=function(a){return a instanceof u&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))},u.prototype.hasAnyCallback=function(){return null!==this.callbackContext},u}(),_n=function(){function u(a,c){this.eventType=a,this.callbackContext=c}return u.prototype.respondsTo=function(a){var c="children_added"===a?"child_added":a;return this.eventType===("children_removed"===c?"child_removed":c)},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new Rc(this,a,c):null},u.prototype.createEvent=function(a,c){(0,S.hu)(null!=a.childName,"Child events should have a childName.");var h=Bi(new It(c._repo,c._path),a.childName),v=c._queryParams.getIndex();return new Sc(a.type,this,new Ya(a.snapshotNode,h,v),a.prevName)},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,a.prevName)}},u.prototype.matches=function(a){return a instanceof u&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))},u.prototype.hasAnyCallback=function(){return!!this.callbackContext},u}();function Hi(u,a,c,h,v){var C;if("object"==typeof h&&(C=void 0,v=h),"function"==typeof h&&(C=h),v&&v.onlyOnce){var w=c,R=function(L,X){el(u._repo,u,O),w(L,X)};R.userCallback=c.userCallback,R.context=c.context,c=R}var M=new Ac(c,C||void 0),O="value"===a?new ds(M):new _n(a,M);return function(u,a,c){var h;h=".info"===st(a._path)?mc(u.infoSyncTree_,a,c):mc(u.serverSyncTree_,a,c),Xs(u.eventQueue_,a._path,h)}(u._repo,u,O),function(){return el(u._repo,u,O)}}function na(u,a,c,h){return Hi(u,"value",a,c,h)}function rl(u,a,c,h){return Hi(u,"child_added",a,c,h)}function In(u,a,c,h){return Hi(u,"child_changed",a,c,h)}function qn(u,a,c,h){return Hi(u,"child_moved",a,c,h)}function or(u,a,c,h){return Hi(u,"child_removed",a,c,h)}function ra(u,a,c){var h=null,v=c?new Ac(c):null;"value"===a?h=new ds(v):a&&(h=new _n(a,v)),el(u._repo,u,h)}var Pr=function(){},il=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){At("endAt",this._value,c._path,!0);var h=Ls(c._queryParams,this._value,this._key);if(cs(h),Gr(h),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(Pr);function fs(u,a){return Ha("endAt","key",a,!0),new il(u,a)}var ia=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){At("endBefore",this._value,c._path,!1);var h=function(u,a,c){var v;return u.index_===jr?("string"==typeof a&&(a=bi(a)),v=Ls(u,a,c)):v=Ls(u,a,null==c?ee:bi(c)),v.endBeforeSet_=!0,v}(c._queryParams,this._value,this._key);if(cs(h),Gr(h),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(Pr);function Pc(u,a){return Ha("endBefore","key",a,!0),new ia(u,a)}var ol=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){At("startAt",this._value,c._path,!0);var h=wa(c._queryParams,this._value,this._key);if(cs(h),Gr(h),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(Pr);function Df(u,a){return void 0===u&&(u=null),Ha("startAt","key",a,!0),new ol(u,a)}var wf=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){At("startAfter",this._value,c._path,!1);var h=function(u,a,c){var h;return u.index_===jr?("string"==typeof a&&(a=Ns(a)),h=wa(u,a,c)):h=wa(u,a,null==c?me:Ns(c)),h.startAfterSet_=!0,h}(c._queryParams,this._value,this._key);if(cs(h),Gr(h),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ln(c._repo,c._path,h,c._orderByCalled)},a}(Pr);function If(u,a){return Ha("startAfter","key",a,!0),new wf(u,a)}var Oc=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ln(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="l",c}(c._queryParams,this._limit),c._orderByCalled)},a}(Pr);function qa(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Oc(u)}var Nc=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ln(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="r",c}(c._queryParams,this._limit),c._orderByCalled)},a}(Pr);function Za(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nc(u)}var Fc=function(u){function a(c){var h=u.call(this)||this;return h._path=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){ea(c,"orderByChild");var h=new ot(this._path);if(ct(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var v=new Ko(h),C=Nn(c._queryParams,v);return Gr(C),new Ln(c._repo,c._path,C,!0)},a}(Pr);function kc(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qt("orderByChild","path",u,!1),new Fc(u)}var Ja=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){ea(c,"orderByKey");var h=Nn(c._queryParams,jr);return Gr(h),new Ln(c._repo,c._path,h,!0)},a}(Pr);function Lc(){return new Ja}var Tf=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){ea(c,"orderByPriority");var h=Nn(c._queryParams,Vt);return Gr(h),new Ln(c._repo,c._path,h,!0)},a}(Pr);function hs(){return new Tf}var ps=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){ea(c,"orderByValue");var h=Nn(c._queryParams,Os);return Gr(h),new Ln(c._repo,c._path,h,!0)},a}(Pr);function Vc(){return new ps}var Xa=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(At("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new il(this._value,this._key)._apply(new ol(this._value,this._key)._apply(c))},a}(Pr);function Sf(u,a){return Ha("equalTo","key",a,!0),new Xa(u,a)}function Or(u){for(var a,c,h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];var C=(0,S.m9)(u);try{for(var w=(0,W.XA)(h),R=w.next();!R.done;R=w.next()){var M=R.value;C=M._apply(C)}}catch(O){a={error:O}}finally{try{R&&!R.done&&(c=w.return)&&c.call(w)}finally{if(a)throw a.error}}return C}(function(u){(0,S.hu)(!Lu,"__referenceConstructor has already been defined"),Lu=u})(It),function(u){(0,S.hu)(!Uu,"__referenceConstructor has already been defined"),Uu=u}(It);var Un={},sl=!1;function Uc(u,a,c,h,v){var C=h||u.options.databaseURL;void 0===C&&(u.options.projectId||bt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",u.options.projectId),C=u.options.projectId+"-default-rtdb.firebaseio.com");var M,w=So(C,v),R=w.repoInfo,O=void 0;"undefined"!=typeof process&&(O=process.env.FIREBASE_DATABASE_EMULATOR_HOST),O?(M=!0,R=(w=So(C="http://"+O+"?ns="+R.namespace,v)).repoInfo):M=!w.repoInfo.secure;var L=v&&M?new ut(ut.OWNER):new vt(u.name,u.options,a);yc("Invalid Firebase Database URL",w),ct(w.path)||bt("Database URL must point to the root of a Firebase Database (not including a child path).");var X=function(u,a,c,h){var v=Un[a.name];v||(Un[a.name]=v={});var C=v[u.toURLString()];return C&&bt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),C=new Wa(u,sl,c,h),v[u.toURLString()]=C,C}(R,u,L,new Ho(u.name,c));return new Mf(X,u)}var Mf=function(){function u(a,c){this._repoInternal=a,this.app=c,this.type="database",this._instanceStarted=!1}return Object.defineProperty(u.prototype,"_repo",{get:function(){return this._instanceStarted||(function(u,a,c){if(u.stats_=Ft(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Kh(u.repoInfo_,function(h,v,C,w){ui(u,h,v,C,w)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(function(){return us(u,!0)},0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,S.Pz)(c)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new Yo(u.repoInfo_,a,function(h,v,C,w){ui(u,h,v,C,w)},function(h){us(u,h)},function(h){!function(u,a){$e(a,function(c,h){Zu(u,c,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,c),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(function(h){u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(function(h){u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function(u,a){var c=u.toString();return ur[c]||(ur[c]=a()),ur[c]}(u.repoInfo_,function(){return new rc(u.stats_,u.server_)}),u.infoData_=new Wd,u.infoSyncTree_=new xi({startListening:function(h,v,C,w){var R=[],M=u.infoData_.getNode(h._path);return M.isEmpty()||(R=ii(u.infoSyncTree_,h._path,M),setTimeout(function(){w("ok")},0)),R},stopListening:function(){}}),Zu(u,"connected",!1),u.serverSyncTree_=new xi({startListening:function(h,v,C,w){return u.server_.listen(h,C,v,function(R,M){var O=w(R,M);wn(u.eventQueue_,h._path,O)}),[]},stopListening:function(h,v){u.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new It(this._repo,Ve())),this._rootInternal},enumerable:!1,configurable:!0}),u.prototype._delete=function(){return null!==this._rootInternal&&(function(u,a){var c=Un[a];(!c||c[u.key]!==u)&&bt("Database "+a+"("+u.repoInfo_+") has already been deleted."),Rn(u),delete c[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},u.prototype._checkNotDeleted=function(a){null===this._rootInternal&&bt("Cannot call "+a+" on a deleted database.")},u}();function xf(u){(u=(0,S.m9)(u))._checkNotDeleted("goOffline"),Rn(u._repo)}function Ro(u){(u=(0,S.m9)(u))._checkNotDeleted("goOnline"),function(u){u.persistentConnection_&&u.persistentConnection_.resume(pf)}(u._repo)}var zr={".sv":"timestamp"},Hc=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}();function dp(u,a,c){var h;if(u=(0,S.m9)(u),rr("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";var v=null===(h=null==c?void 0:c.applyLocally)||void 0===h||h,C=new S.BH,R=na(u,function(){});return function(u,a,c,h,v,C){ls(u,"transaction on "+a);var w={path:a,update:c,onComplete:h,status:null,order:ce(),applyLocally:C,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},R=mr(u,a,void 0);w.currentInputSnapshot=R;var M=w.update(R.val());if(void 0===M)w.unwatcher(),w.currentOutputSnapshotRaw=null,w.currentOutputSnapshotResolved=null,w.onComplete&&w.onComplete(null,!1,w.currentInputSnapshot);else{Kn("transaction failed: Data returned ",M,w.path),w.status=0;var O=Js(u.transactionQueueTree_,a),L=$t(O)||[];L.push(w),Ua(O,L);var X=void 0;"object"==typeof M&&null!==M&&(0,S.r3)(M,".priority")?(X=(0,S.DV)(M,".priority"),(0,S.hu)(ai(X),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):X=(Ar(u.serverSyncTree_,a)||Ke.EMPTY_NODE).getPriority().val();var ye=Mr(u),Se=Jt(M,X),Qe=Zs(Se,R,ye);w.currentOutputSnapshotRaw=Se,w.currentOutputSnapshotResolved=Qe,w.currentWriteId=kn(u);var Fe=Qs(u.serverSyncTree_,a,Qe,w.currentWriteId,w.applyLocally);wn(u.eventQueue_,a,Fe),Ui(u,u.transactionQueueTree_)}}(u._repo,u._path,a,function(M,O,L){var X=null;M?C.reject(M):(X=new Ya(L,new It(u._repo,u._path),Vt),C.resolve(new Hc(O,X)))},R,v),C.promise}var Yr=function(){function u(a){this._delegate=a}return u.prototype.cancel=function(a){(0,S.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,S.Wj)("OnDisconnect.cancel","onComplete",a,!0);var c=this._delegate.cancel();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.remove=function(a){(0,S.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,S.Wj)("OnDisconnect.remove","onComplete",a,!0);var c=this._delegate.remove();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.set=function(a,c){(0,S.Dv)("OnDisconnect.set",1,2,arguments.length),(0,S.Wj)("OnDisconnect.set","onComplete",c,!0);var h=this._delegate.set(a);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},u.prototype.setWithPriority=function(a,c,h){(0,S.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,S.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);var v=this._delegate.setWithPriority(a,c);return h&&v.then(function(){return h(null)},function(C){return h(C)}),v},u.prototype.update=function(a,c){if((0,S.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){for(var h={},v=0;v<a.length;++v)h[""+v]=a[v];a=h,Nt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,S.Wj)("OnDisconnect.update","onComplete",c,!0);var C=this._delegate.update(a);return c&&C.then(function(){return c(null)},function(w){return c(w)}),C},u}(),ul=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return(0,S.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}(),Ao=function(){function u(a,c){this._database=a,this._delegate=c}return u.prototype.val=function(){return(0,S.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},u.prototype.exportVal=function(){return(0,S.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},u.prototype.toJSON=function(){return(0,S.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.exists=function(){return(0,S.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},u.prototype.child=function(a){return(0,S.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),Qt("DataSnapshot.child","path",a,!1),new u(this._database,this._delegate.child(a))},u.prototype.hasChild=function(a){return(0,S.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Qt("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)},u.prototype.getPriority=function(){return(0,S.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},u.prototype.forEach=function(a){var c=this;return(0,S.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,S.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(function(h){return a(new u(c._database,h))})},u.prototype.hasChildren=function(){return(0,S.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(u.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),u.prototype.numChildren=function(){return(0,S.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},u.prototype.getRef=function(){return(0,S.Dv)("DataSnapshot.ref",0,0,arguments.length),new ci(this._database,this._delegate.ref)},Object.defineProperty(u.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),u}(),$c=function(){function u(a,c){this.database=a,this._delegate=c}return u.prototype.on=function(a,c,h,v){var w,C=this;(0,S.Dv)("Query.on",2,4,arguments.length),(0,S.Wj)("Query.on","callback",c,!1);var R=u.getCancelAndContextArgs_("Query.on",h,v),M=function(L,X){c.call(R.context,new Ao(C.database,L),X)};M.userCallback=c,M.context=R.context;var O=null===(w=R.cancel)||void 0===w?void 0:w.bind(R.context);switch(a){case"value":return na(this._delegate,M,O),c;case"child_added":return rl(this._delegate,M,O),c;case"child_removed":return or(this._delegate,M,O),c;case"child_changed":return In(this._delegate,M,O),c;case"child_moved":return qn(this._delegate,M,O),c;default:throw new Error((0,S.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},u.prototype.off=function(a,c,h){if((0,S.Dv)("Query.off",0,3,arguments.length),cf("Query.off",a,!0),(0,S.Wj)("Query.off","callback",c,!0),(0,S.lb)("Query.off","context",h,!0),c){var v=function(){};v.userCallback=c,v.context=h,ra(this._delegate,a,v)}else ra(this._delegate,a)},u.prototype.get=function(){var a=this;return bf(this._delegate).then(function(c){return new Ao(a.database,c)})},u.prototype.once=function(a,c,h,v){var C=this;(0,S.Dv)("Query.once",1,4,arguments.length),(0,S.Wj)("Query.once","callback",c,!0);var w=u.getCancelAndContextArgs_("Query.once",h,v),R=new S.BH,M=function(L,X){var de=new Ao(C.database,L);c&&c.call(w.context,de,X),R.resolve(de)};M.userCallback=c,M.context=w.context;var O=function(L){w.cancel&&w.cancel.call(w.context,L),R.reject(L)};switch(a){case"value":na(this._delegate,M,O,{onlyOnce:!0});break;case"child_added":rl(this._delegate,M,O,{onlyOnce:!0});break;case"child_removed":or(this._delegate,M,O,{onlyOnce:!0});break;case"child_changed":In(this._delegate,M,O,{onlyOnce:!0});break;case"child_moved":qn(this._delegate,M,O,{onlyOnce:!0});break;default:throw new Error((0,S.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return R.promise},u.prototype.limitToFirst=function(a){return(0,S.Dv)("Query.limitToFirst",1,1,arguments.length),new u(this.database,Or(this._delegate,qa(a)))},u.prototype.limitToLast=function(a){return(0,S.Dv)("Query.limitToLast",1,1,arguments.length),new u(this.database,Or(this._delegate,Za(a)))},u.prototype.orderByChild=function(a){return(0,S.Dv)("Query.orderByChild",1,1,arguments.length),new u(this.database,Or(this._delegate,kc(a)))},u.prototype.orderByKey=function(){return(0,S.Dv)("Query.orderByKey",0,0,arguments.length),new u(this.database,Or(this._delegate,Lc()))},u.prototype.orderByPriority=function(){return(0,S.Dv)("Query.orderByPriority",0,0,arguments.length),new u(this.database,Or(this._delegate,hs()))},u.prototype.orderByValue=function(){return(0,S.Dv)("Query.orderByValue",0,0,arguments.length),new u(this.database,Or(this._delegate,Vc()))},u.prototype.startAt=function(a,c){return void 0===a&&(a=null),(0,S.Dv)("Query.startAt",0,2,arguments.length),new u(this.database,Or(this._delegate,Df(a,c)))},u.prototype.startAfter=function(a,c){return void 0===a&&(a=null),(0,S.Dv)("Query.startAfter",0,2,arguments.length),new u(this.database,Or(this._delegate,If(a,c)))},u.prototype.endAt=function(a,c){return void 0===a&&(a=null),(0,S.Dv)("Query.endAt",0,2,arguments.length),new u(this.database,Or(this._delegate,fs(a,c)))},u.prototype.endBefore=function(a,c){return void 0===a&&(a=null),(0,S.Dv)("Query.endBefore",0,2,arguments.length),new u(this.database,Or(this._delegate,Pc(a,c)))},u.prototype.equalTo=function(a,c){return(0,S.Dv)("Query.equalTo",1,2,arguments.length),new u(this.database,Or(this._delegate,Sf(a,c)))},u.prototype.toString=function(){return(0,S.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},u.prototype.toJSON=function(){return(0,S.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.isEqual=function(a){if((0,S.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof u)){var c="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(c)}return this._delegate.isEqual(a._delegate)},u.getCancelAndContextArgs_=function(a,c,h){var v={cancel:void 0,context:void 0};if(c&&h)v.cancel=c,(0,S.Wj)(a,"cancel",v.cancel,!0),v.context=h,(0,S.lb)(a,"context",v.context,!0);else if(c)if("object"==typeof c&&null!==c)v.context=c;else{if("function"!=typeof c)throw new Error((0,S.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=c}return v},Object.defineProperty(u.prototype,"ref",{get:function(){return new ci(this.database,new It(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),u}(),ci=function(u){function a(c,h){var v=u.call(this,c,new Ln(h._repo,h._path,new tc,!1))||this;return v.database=c,v._delegate=h,v}return(0,W.ZT)(a,u),a.prototype.getKey=function(){return(0,S.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},a.prototype.child=function(c){return(0,S.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new a(this.database,Bi(this._delegate,c))},a.prototype.getParent=function(){(0,S.Dv)("Reference.parent",0,0,arguments.length);var c=this._delegate.parent;return c?new a(this.database,c):null},a.prototype.getRoot=function(){return(0,S.Dv)("Reference.root",0,0,arguments.length),new a(this.database,this._delegate.root)},a.prototype.set=function(c,h){(0,S.Dv)("Reference.set",1,2,arguments.length),(0,S.Wj)("Reference.set","onComplete",h,!0);var v=nl(this._delegate,c);return h&&v.then(function(){return h(null)},function(C){return h(C)}),v},a.prototype.update=function(c,h){if((0,S.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){for(var v={},C=0;C<c.length;++C)v[""+C]=c[C];c=v,Nt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rr("Reference.update",this._delegate._path),(0,S.Wj)("Reference.update","onComplete",h,!0);var w=lp(this._delegate,c);return h&&w.then(function(){return h(null)},function(R){return h(R)}),w},a.prototype.setWithPriority=function(c,h,v){(0,S.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,S.Wj)("Reference.setWithPriority","onComplete",v,!0);var C=Ef(this._delegate,c,h);return v&&C.then(function(){return v(null)},function(w){return v(w)}),C},a.prototype.remove=function(c){(0,S.Dv)("Reference.remove",0,1,arguments.length),(0,S.Wj)("Reference.remove","onComplete",c,!0);var h=Qa(this._delegate);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},a.prototype.transaction=function(c,h,v){var C=this;(0,S.Dv)("Reference.transaction",1,3,arguments.length),(0,S.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,S.Wj)("Reference.transaction","onComplete",h,!0),df("Reference.transaction","applyLocally",v,!0);var w=dp(this._delegate,c,{applyLocally:v}).then(function(R){return new ul(R.committed,new Ao(C.database,R.snapshot))});return h&&w.then(function(R){return h(null,R.committed,R.snapshot)},function(R){return h(R,!1,null)}),w},a.prototype.setPriority=function(c,h){(0,S.Dv)("Reference.setPriority",1,2,arguments.length),(0,S.Wj)("Reference.setPriority","onComplete",h,!0);var v=Ka(this._delegate,c);return h&&v.then(function(){return h(null)},function(C){return h(C)}),v},a.prototype.push=function(c,h){var v=this;(0,S.Dv)("Reference.push",0,2,arguments.length),(0,S.Wj)("Reference.push","onComplete",h,!0);var C=Vn(this._delegate,c),w=C.then(function(M){return new a(v.database,M)});h&&w.then(function(){return h(null)},function(M){return h(M)});var R=new a(this.database,C);return R.then=w.then.bind(w),R.catch=w.catch.bind(w,void 0),R},a.prototype.onDisconnect=function(){return rr("Reference.onDisconnect",this._delegate._path),new Yr(new Mc(this._delegate._repo,this._delegate._path))},Object.defineProperty(a.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),a}($c),$i=function(){function u(a,c){var h=this;this._delegate=a,this.app=c,this.INTERNAL={delete:function(){return h._delegate._delete()}}}return u.prototype.useEmulator=function(a,c,h){void 0===h&&(h={}),function(u,a,c,h){void 0===h&&(h={}),(u=(0,S.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&bt("Cannot call useEmulator() after instance has already been initialized.");var v=u._repoInternal,C=void 0;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&bt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),C=new ut(ut.OWNER);else if(h.mockUserToken){var w="string"==typeof h.mockUserToken?h.mockUserToken:(0,S.Sg)(h.mockUserToken,u.app.options.projectId);C=new ut(w)}!function(u,a,c,h){u.repoInfo_=new tn(a+":"+c,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),h&&(u.authTokenProvider_=h)}(v,a,c,C)}(this._delegate,a,c,h)},u.prototype.ref=function(a){if((0,S.Dv)("database.ref",0,1,arguments.length),a instanceof ci){var c=ta(this._delegate,a.toString());return new ci(this,c)}return c=xc(this._delegate,a),new ci(this,c)},u.prototype.refFromURL=function(a){var c="database.refFromURL";(0,S.Dv)(c,1,1,arguments.length);var h=ta(this._delegate,a);return new ci(this,h)},u.prototype.goOffline=function(){return(0,S.Dv)("database.goOffline",0,0,arguments.length),xf(this._delegate)},u.prototype.goOnline=function(){return(0,S.Dv)("database.goOnline",0,0,arguments.length),Ro(this._delegate)},u.ServerValue={TIMESTAMP:zr,increment:function(a){return function(u){return{".sv":{increment:u}}}(a)}},u}(),Pf=Object.freeze({__proto__:null,forceLongPolling:function(){bn.forceDisallow(),ma.forceAllow()},forceWebSockets:function(){ma.forceDisallow()},isWebSocketsAvailable:function(){return bn.isAvailable()},setSecurityDebugCallback:function(u,a){u._delegate._repo.persistentConnection_.securityDebugCallback_=a},stats:function(u,a){!function(u,a){if(void 0===a&&(a=!1),"undefined"!=typeof console){var c;a?(u.statsListener_||(u.statsListener_=new ni(u.stats_)),c=u.statsListener_.get()):c=u.stats_.get();var h=Object.keys(c).reduce(function(v,C){return Math.max(C.length,v)},0);$e(c,function(v,C){for(var w=v,R=v.length;R<h+2;R++)w+=" ";console.log(w+C)})}}(u._delegate._repo,a)},statsIncrementCounter:function(u,a){!function(u,a){u.stats_.incrementCounter(a),function(u,a){u.statsToReport_[a]=!0}(u.statsReporter_,a)}(u._delegate._repo,a)},dataUpdateCount:function(u){return u._delegate._repo.dataUpdateCount},interceptServerData:function(u,a){return function(u,a){u.interceptServerDataCallback_=a}(u._delegate._repo,a)},initStandalone:function(u){var a=u.app,c=u.url,v=u.customAuthImpl,C=u.namespace,w=u.nodeAdmin,R=void 0!==w&&w;G(u.version);var M=new oe.zt("auth-internal",new oe.H0("database-standalone"));return M.setComponent(new oe.wA("auth-internal",function(){return v},"PRIVATE")),{instance:new $i(Uc(a,M,void 0,c,R),a),namespace:C}}}),cl=Yo;Yo.prototype.simpleListen=function(u,a){this.sendRequest("q",{p:u},a)},Yo.prototype.echo=function(u,a){this.sendRequest("echo",{d:u},a)};var Kc=Object.freeze({__proto__:null,DataConnection:cl,RealTimeConnection:_i,hijackHash:function(u){var a=Yo.prototype.put;return Yo.prototype.put=function(c,h,v,C){void 0!==C&&(C=u()),a.call(this,c,h,v,C)},function(){Yo.prototype.put=a}},ConnectionTarget:tn,queryIdentifier:function(u){return u._delegate._queryIdentifier},forceRestClient:function(u){!function(u){sl=u}(u)}}),dl=$i.ServerValue;!function(u){G(u.SDK_VERSION);var a=u.INTERNAL.registerComponent(new oe.wA("database",function(c,h){var v=h.instanceIdentifier,C=c.getProvider("app").getImmediate(),w=c.getProvider("auth-internal"),R=c.getProvider("app-check-internal");return new $i(Uc(C,w,R,v),C)},"PUBLIC").setServiceProps({Reference:ci,Query:$c,Database:$i,DataSnapshot:Ao,enableLogging:ze,INTERNAL:Pf,ServerValue:dl,TEST_ACCESS:Kc}).setMultipleInstances(!0));u.registerVersion("@firebase/database","0.11.0"),(0,S.Yr)()&&(ke.exports=a)}(E.Z)},300:(ke,_e,k)=>{"use strict";function E(){for(var F=0,B=0,Y=arguments.length;B<Y;B++)F+=arguments[B].length;var ue=Array(F),ce=0;for(B=0;B<Y;B++)for(var Re=arguments[B],Ce=0,Ee=Re.length;Ce<Ee;Ce++,ce++)ue[ce]=Re[Ce];return ue}k.d(_e,{in:()=>W,Yd:()=>G,Ub:()=>N,Am:()=>$});var oe,S=[],W=(()=>{return(F=W||(W={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",W;var F})(),le={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},z=W.INFO,ge=((oe={})[W.DEBUG]="log",oe[W.VERBOSE]="log",oe[W.INFO]="info",oe[W.WARN]="warn",oe[W.ERROR]="error",oe),K=function(F,B){for(var Y=[],ue=2;ue<arguments.length;ue++)Y[ue-2]=arguments[ue];if(!(B<F.logLevel)){var ce=(new Date).toISOString(),Re=ge[B];if(!Re)throw new Error("Attempted to log a message with an invalid logType (value: "+B+")");console[Re].apply(console,E(["["+ce+"]  "+F.name+":"],Y))}},G=function(){function F(B){this.name=B,this._logLevel=z,this._logHandler=K,this._userLogHandler=null,S.push(this)}return Object.defineProperty(F.prototype,"logLevel",{get:function(){return this._logLevel},set:function(B){if(!(B in W))throw new TypeError('Invalid value "'+B+'" assigned to `logLevel`');this._logLevel=B},enumerable:!1,configurable:!0}),F.prototype.setLogLevel=function(B){this._logLevel="string"==typeof B?le[B]:B},Object.defineProperty(F.prototype,"logHandler",{get:function(){return this._logHandler},set:function(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(B){this._userLogHandler=B},enumerable:!1,configurable:!0}),F.prototype.debug=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler.apply(this,E([this,W.DEBUG],B)),this._logHandler.apply(this,E([this,W.DEBUG],B))},F.prototype.log=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler.apply(this,E([this,W.VERBOSE],B)),this._logHandler.apply(this,E([this,W.VERBOSE],B))},F.prototype.info=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler.apply(this,E([this,W.INFO],B)),this._logHandler.apply(this,E([this,W.INFO],B))},F.prototype.warn=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler.apply(this,E([this,W.WARN],B)),this._logHandler.apply(this,E([this,W.WARN],B))},F.prototype.error=function(){for(var B=[],Y=0;Y<arguments.length;Y++)B[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler.apply(this,E([this,W.ERROR],B)),this._logHandler.apply(this,E([this,W.ERROR],B))},F}();function N(F){S.forEach(function(B){B.setLogLevel(F)})}function $(F,B){for(var Y=function(Ce){var Ee=null;B&&B.level&&(Ee=le[B.level]),Ce.userLogHandler=null===F?null:function(Ae,ze){for(var Te=[],Rt=2;Rt<arguments.length;Rt++)Te[Rt-2]=arguments[Rt];var Ht=Te.map(function(bt){if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch(Nt){return null}}).filter(function(bt){return bt}).join(" ");ze>=(null!=Ee?Ee:Ae.logLevel)&&F({level:W[ze].toLowerCase(),message:Ht,args:Te,type:Ae.name})}},ue=0,ce=S;ue<ce.length;ue++)Y(ce[ue])}},4685:(ke,_e,k)=>{"use strict";k.d(_e,{BH:()=>Y,LL:()=>He,ZR:()=>ne,gQ:()=>Cn,hu:()=>S,g5:()=>W,US:()=>ge,h$:()=>K,r3:()=>ar,Sg:()=>ue,ne:()=>En,p$:()=>$,ZB:()=>F,gK:()=>Ss,m9:()=>kt,GJ:()=>Dt,jU:()=>Ee,xb:()=>mn,uI:()=>Re,UG:()=>Ce,Yr:()=>bt,b$:()=>ze,w9:()=>Ut,cI:()=>Le,UI:()=>Er,xO:()=>Ho,DV:()=>en,ug:()=>Oe,dS:()=>tn,Pz:()=>$e,Dv:()=>eo,Wj:()=>dn,lb:()=>_u});var E=k(4762),S=function(j,V){if(!j)throw W(V)},W=function(j){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+j)},le=function(j){for(var V=[],q=0,se=0;se<j.length;se++){var Z=j.charCodeAt(se);Z<128?V[q++]=Z:Z<2048?(V[q++]=Z>>6|192,V[q++]=63&Z|128):55296==(64512&Z)&&se+1<j.length&&56320==(64512&j.charCodeAt(se+1))?(Z=65536+((1023&Z)<<10)+(1023&j.charCodeAt(++se)),V[q++]=Z>>18|240,V[q++]=Z>>12&63|128,V[q++]=Z>>6&63|128,V[q++]=63&Z|128):(V[q++]=Z>>12|224,V[q++]=Z>>6&63|128,V[q++]=63&Z|128)}return V},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[],Z=0;Z<j.length;Z+=3){var we=j[Z],je=Z+1<j.length,pt=je?j[Z+1]:0,Pt=Z+2<j.length,wt=Pt?j[Z+2]:0,Mn=(15&pt)<<2|wt>>6,to=63&wt;Pt||(to=64,je||(Mn=64)),se.push(q[we>>2],q[(3&we)<<4|pt>>4],q[Mn],q[to])}return se.join("")},encodeString:function(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(le(j),V)},decodeString:function(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){for(var V=[],q=0,se=0;q<j.length;){var Z=j[q++];if(Z<128)V[se++]=String.fromCharCode(Z);else if(Z>191&&Z<224){var we=j[q++];V[se++]=String.fromCharCode((31&Z)<<6|63&we)}else if(Z>239&&Z<365){var Pt=((7&Z)<<18|(63&(we=j[q++]))<<12|(63&(je=j[q++]))<<6|63&j[q++])-65536;V[se++]=String.fromCharCode(55296+(Pt>>10)),V[se++]=String.fromCharCode(56320+(1023&Pt))}else{we=j[q++];var je=j[q++];V[se++]=String.fromCharCode((15&Z)<<12|(63&we)<<6|63&je)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray:function(j,V){this.init_();for(var q=V?this.charToByteMapWebSafe_:this.charToByteMap_,se=[],Z=0;Z<j.length;){var we=q[j.charAt(Z++)],pt=Z<j.length?q[j.charAt(Z)]:0,wt=++Z<j.length?q[j.charAt(Z)]:64,An=++Z<j.length?q[j.charAt(Z)]:64;if(++Z,null==we||null==pt||null==wt||null==An)throw Error();se.push(we<<2|pt>>4),64!==wt&&(se.push(pt<<4&240|wt>>2),64!==An&&se.push(wt<<6&192|An))}return se},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},K=function(j){var V=le(j);return ge.encodeByteArray(V,!0)},G=function(j){return K(j).replace(/\./g,"")},N=function(j){try{return ge.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function $(j){return F(void 0,j)}function F(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(var se in V)!V.hasOwnProperty(se)||!B(se)||(j[se]=F(j[se],V[se]));return j}function B(j){return"__proto__"!==j}var Y=function(){function j(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(q,se){V.resolve=q,V.reject=se})}return j.prototype.wrapCallback=function(V){var q=this;return function(se,Z){se?q.reject(se):q.resolve(Z),"function"==typeof V&&(q.promise.catch(function(){}),1===V.length?V(se):V(se,Z))}},j}();function ue(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var se=V||"demo-project",Z=j.iat||0,we=j.sub||j.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var je=(0,E.pi)({iss:"https://securetoken.google.com/"+se,aud:se,iat:Z,exp:Z+3600,auth_time:Z,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},j);return[G(JSON.stringify({alg:"none",type:"JWT"})),G(JSON.stringify(je)),""].join(".")}function Re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bt(){return!1}var ne=function(j){function V(q,se,Z){var we=j.call(this,se)||this;return we.code=q,we.customData=Z,we.name="FirebaseError",Object.setPrototypeOf(we,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(we,He.prototype.create),we}return(0,E.ZT)(V,j),V}(Error),He=function(){function j(V,q,se){this.service=V,this.serviceName=q,this.errors=se}return j.prototype.create=function(V){for(var q=[],se=1;se<arguments.length;se++)q[se-1]=arguments[se];var Z=q[0]||{},we=this.service+"/"+V,je=this.errors[V],pt=je?We(je,Z):"Error",Pt=this.serviceName+": "+pt+" ("+we+").",wt=new ne(we,Pt,Z);return wt},j}();function We(j,V){return j.replace(Gt,function(q,se){var Z=V[se];return null!=Z?String(Z):"<"+se+"?>"})}var Gt=/\{\$([^}]+)}/g;function Le(j){return JSON.parse(j)}function $e(j){return JSON.stringify(j)}var Me=function(j){var V={},q={},se={},Z="";try{var we=j.split(".");V=Le(N(we[0])||""),q=Le(N(we[1])||""),Z=we[2],se=q.d||{},delete q.d}catch(je){}return{header:V,claims:q,data:se,signature:Z}},Ut=function(j){var q=Me(j).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},Dt=function(j){var V=Me(j).claims;return"object"==typeof V&&!0===V.admin};function ar(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function en(j,V){if(Object.prototype.hasOwnProperty.call(j,V))return j[V]}function mn(j){for(var V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function Er(j,V,q){var se={};for(var Z in j)Object.prototype.hasOwnProperty.call(j,Z)&&(se[Z]=V.call(q,j[Z],Z,j));return se}function Ho(j){for(var V=[],q=function(Pt,wt){Array.isArray(wt)?wt.forEach(function(Tn){V.push(encodeURIComponent(Pt)+"="+encodeURIComponent(Tn))}):V.push(encodeURIComponent(Pt)+"="+encodeURIComponent(wt))},se=0,Z=Object.entries(j);se<Z.length;se++){var we=Z[se];q(we[0],we[1])}return V.length?"&"+V.join("&"):""}var Cn=function(){function j(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}return j.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},j.prototype.compress_=function(V,q){q||(q=0);var se=this.W_;if("string"==typeof V)for(var Z=0;Z<16;Z++)se[Z]=V.charCodeAt(q)<<24|V.charCodeAt(q+1)<<16|V.charCodeAt(q+2)<<8|V.charCodeAt(q+3),q+=4;else for(Z=0;Z<16;Z++)se[Z]=V[q]<<24|V[q+1]<<16|V[q+2]<<8|V[q+3],q+=4;for(Z=16;Z<80;Z++)se[Z]=4294967295&((we=se[Z-3]^se[Z-8]^se[Z-14]^se[Z-16])<<1|we>>>31);var An,Mn,je=this.chain_[0],pt=this.chain_[1],Pt=this.chain_[2],wt=this.chain_[3],Tn=this.chain_[4];for(Z=0;Z<80;Z++){Z<40?Z<20?(An=wt^pt&(Pt^wt),Mn=1518500249):(An=pt^Pt^wt,Mn=1859775393):Z<60?(An=pt&Pt|wt&(pt|Pt),Mn=2400959708):(An=pt^Pt^wt,Mn=3395469782);var we=(je<<5|je>>>27)+An+Tn+Mn+se[Z]&4294967295;Tn=wt,wt=Pt,Pt=4294967295&(pt<<30|pt>>>2),pt=je,je=we}this.chain_[0]=this.chain_[0]+je&4294967295,this.chain_[1]=this.chain_[1]+pt&4294967295,this.chain_[2]=this.chain_[2]+Pt&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+Tn&4294967295},j.prototype.update=function(V,q){if(null!=V){void 0===q&&(q=V.length);for(var se=q-this.blockSize,Z=0,we=this.buf_,je=this.inbuf_;Z<q;){if(0===je)for(;Z<=se;)this.compress_(V,Z),Z+=this.blockSize;if("string"==typeof V){for(;Z<q;)if(we[je]=V.charCodeAt(Z),++Z,++je===this.blockSize){this.compress_(we),je=0;break}}else for(;Z<q;)if(we[je]=V[Z],++Z,++je===this.blockSize){this.compress_(we),je=0;break}}this.inbuf_=je,this.total_+=q}},j.prototype.digest=function(){var V=[],q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&q,q/=256;this.compress_(this.buf_);var Z=0;for(se=0;se<5;se++)for(var we=24;we>=0;we-=8)V[Z]=this.chain_[se]>>we&255,++Z;return V},j}();function En(j,V){var q=new Pe(j,V);return q.subscribe.bind(q)}var Pe=function(){function j(V,q){var se=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(function(){V(se)}).catch(function(Z){se.error(Z)})}return j.prototype.next=function(V){this.forEachObserver(function(q){q.next(V)})},j.prototype.error=function(V){this.forEachObserver(function(q){q.error(V)}),this.close(V)},j.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},j.prototype.subscribe=function(V,q,se){var we,Z=this;if(void 0===V&&void 0===q&&void 0===se)throw new Error("Missing Observer.");void 0===(we=function(j,V){if("object"!=typeof j||null===j)return!1;for(var q=0,se=["next","error","complete"];q<se.length;q++){var Z=se[q];if(Z in j&&"function"==typeof j[Z])return!0}return!1}(V)?V:{next:V,error:q,complete:se}).next&&(we.next=qt),void 0===we.error&&(we.error=qt),void 0===we.complete&&(we.complete=qt);var je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Z.finalError?we.error(Z.finalError):we.complete()}catch(pt){}}),this.observers.push(we),je},j.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},j.prototype.forEachObserver=function(V){if(!this.finalized)for(var q=0;q<this.observers.length;q++)this.sendOne(q,V)},j.prototype.sendOne=function(V,q){var se=this;this.task.then(function(){if(void 0!==se.observers&&void 0!==se.observers[V])try{q(se.observers[V])}catch(Z){"undefined"!=typeof console&&console.error&&console.error(Z)}})},j.prototype.close=function(V){var q=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){q.observers=void 0,q.onNoObservers=void 0}))},j}();function qt(){}var eo=function(j,V,q,se){var Z;if(se<V?Z="at least "+V:se>q&&(Z=0===q?"none":"no more than "+q),Z)throw new Error(j+" failed: Was called with "+se+(1===se?" argument.":" arguments.")+" Expects "+Z+".")};function Ss(j,V){return j+" failed: "+V+" argument "}function dn(j,V,q,se){if((!se||q)&&"function"!=typeof q)throw new Error(Ss(j,V)+"must be a valid function.")}function _u(j,V,q,se){if((!se||q)&&("object"!=typeof q||null===q))throw new Error(Ss(j,V)+"must be a valid context object.")}var tn=function(j){for(var V=[],q=0,se=0;se<j.length;se++){var Z=j.charCodeAt(se);if(Z>=55296&&Z<=56319){var we=Z-55296;se++,S(se<j.length,"Surrogate pair missing trail surrogate."),Z=65536+(we<<10)+(j.charCodeAt(se)-56320)}Z<128?V[q++]=Z:Z<2048?(V[q++]=Z>>6|192,V[q++]=63&Z|128):Z<65536?(V[q++]=Z>>12|224,V[q++]=Z>>6&63|128,V[q++]=63&Z|128):(V[q++]=Z>>18|240,V[q++]=Z>>12&63|128,V[q++]=Z>>6&63|128,V[q++]=63&Z|128)}return V},Oe=function(j){for(var V=0,q=0;q<j.length;q++){var se=j.charCodeAt(q);se<128?V++:se<2048?V+=2:se>=55296&&se<=56319?(V+=4,q++):V+=3}return V};function kt(j){return j&&j._delegate?j._delegate:j}},2329:(ke,_e,k)=>{"use strict";k.d(_e,{Z:()=>E.Z});var E=k(9759),S="8.10.0";E.Z.registerVersion("firebase",S,"app"),E.Z.SDK_VERSION=S},7574:(ke,_e,k)=>{"use strict";k.d(_e,{y:()=>$});var E=k(7393),S=k(9181),W=k(6490),z=k(6554),ge=k(4487);var N=k(2494);let $=(()=>{class B{constructor(ue){this._isScalar=!1,ue&&(this._subscribe=ue)}lift(ue){const ce=new B;return ce.source=this,ce.operator=ue,ce}subscribe(ue,ce,Re){const{operator:Ce}=this,Ee=function(B,Y,ue){if(B){if(B instanceof E.L)return B;if(B[S.b])return B[S.b]()}return B||Y||ue?new E.L(B,Y,ue):new E.L(W.c)}(ue,ce,Re);if(Ee.add(Ce?Ce.call(Ee,this.source):this.source||N.v.useDeprecatedSynchronousErrorHandling&&!Ee.syncErrorThrowable?this._subscribe(Ee):this._trySubscribe(Ee)),N.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable&&(Ee.syncErrorThrowable=!1,Ee.syncErrorThrown))throw Ee.syncErrorValue;return Ee}_trySubscribe(ue){try{return this._subscribe(ue)}catch(ce){N.v.useDeprecatedSynchronousErrorHandling&&(ue.syncErrorThrown=!0,ue.syncErrorValue=ce),function(B){for(;B;){const{closed:Y,destination:ue,isStopped:ce}=B;if(Y||ce)return!1;B=ue&&ue instanceof E.L?ue:null}return!0}(ue)?ue.error(ce):console.warn(ce)}}forEach(ue,ce){return new(ce=F(ce))((Re,Ce)=>{let Ee;Ee=this.subscribe(Ae=>{try{ue(Ae)}catch(ze){Ce(ze),Ee&&Ee.unsubscribe()}},Ce,Re)})}_subscribe(ue){const{source:ce}=this;return ce&&ce.subscribe(ue)}[z.L](){return this}pipe(...ue){return 0===ue.length?this:function(B){return 0===B.length?ge.y:1===B.length?B[0]:function(ue){return B.reduce((ce,Re)=>Re(ce),ue)}}(ue)(this)}toPromise(ue){return new(ue=F(ue))((ce,Re)=>{let Ce;this.subscribe(Ee=>Ce=Ee,Ee=>Re(Ee),()=>ce(Ce))})}}return B.create=Y=>new B(Y),B})();function F(B){if(B||(B=N.v.Promise||Promise),!B)throw new Error("no Promise impl found");return B}},6490:(ke,_e,k)=>{"use strict";k.d(_e,{c:()=>S});var E=k(2494),oe=k(4449);const S={closed:!0,next(W){},error(W){if(E.v.useDeprecatedSynchronousErrorHandling)throw W;(0,oe.z)(W)},complete(){}}},9765:(ke,_e,k)=>{"use strict";k.d(_e,{Yc:()=>ge,xQ:()=>K});var E=k(7574),oe=k(7393),S=k(5319),W=k(7971),le=k(8858),z=k(9181);class ge extends oe.L{constructor($){super($),this.destination=$}}let K=(()=>{class N extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[z.b](){return new ge(this)}lift(F){const B=new G(this,this);return B.operator=F,B}next(F){if(this.closed)throw new W.N;if(!this.isStopped){const{observers:B}=this,Y=B.length,ue=B.slice();for(let ce=0;ce<Y;ce++)ue[ce].next(F)}}error(F){if(this.closed)throw new W.N;this.hasError=!0,this.thrownError=F,this.isStopped=!0;const{observers:B}=this,Y=B.length,ue=B.slice();for(let ce=0;ce<Y;ce++)ue[ce].error(F);this.observers.length=0}complete(){if(this.closed)throw new W.N;this.isStopped=!0;const{observers:F}=this,B=F.length,Y=F.slice();for(let ue=0;ue<B;ue++)Y[ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(F){if(this.closed)throw new W.N;return super._trySubscribe(F)}_subscribe(F){if(this.closed)throw new W.N;return this.hasError?(F.error(this.thrownError),S.w.EMPTY):this.isStopped?(F.complete(),S.w.EMPTY):(this.observers.push(F),new le.W(this,F))}asObservable(){const F=new E.y;return F.source=this,F}}return N.create=($,F)=>new G($,F),N})();class G extends K{constructor($,F){super(),this.destination=$,this.source=F}next($){const{destination:F}=this;F&&F.next&&F.next($)}error($){const{destination:F}=this;F&&F.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:F}=this;return F?this.source.subscribe($):S.w.EMPTY}}},8858:(ke,_e,k)=>{"use strict";k.d(_e,{W:()=>oe});var E=k(5319);class oe extends E.w{constructor(W,le){super(),this.subject=W,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const W=this.subject,le=W.observers;if(this.subject=null,!le||0===le.length||W.isStopped||W.closed)return;const z=le.indexOf(this.subscriber);-1!==z&&le.splice(z,1)}}},7393:(ke,_e,k)=>{"use strict";k.d(_e,{L:()=>ge});var E=k(9105),oe=k(6490),S=k(5319),W=k(9181),le=k(2494),z=k(4449);class ge extends S.w{constructor(N,$,F){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=oe.c;break;case 1:if(!N){this.destination=oe.c;break}if("object"==typeof N){N instanceof ge?(this.syncErrorThrowable=N.syncErrorThrowable,this.destination=N,N.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,N));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,N,$,F)}}[W.b](){return this}static create(N,$,F){const B=new ge(N,$,F);return B.syncErrorThrowable=!1,B}next(N){this.isStopped||this._next(N)}error(N){this.isStopped||(this.isStopped=!0,this._error(N))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(N){this.destination.next(N)}_error(N){this.destination.error(N),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:N}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=N,this}}class K extends ge{constructor(N,$,F,B){super(),this._parentSubscriber=N;let Y,ue=this;(0,E.m)($)?Y=$:$&&(Y=$.next,F=$.error,B=$.complete,$!==oe.c&&(ue=Object.create($),(0,E.m)(ue.unsubscribe)&&this.add(ue.unsubscribe.bind(ue)),ue.unsubscribe=this.unsubscribe.bind(this))),this._context=ue,this._next=Y,this._error=F,this._complete=B}next(N){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;le.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,N)&&this.unsubscribe():this.__tryOrUnsub(this._next,N)}}error(N){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:F}=le.v;if(this._error)F&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,N),this.unsubscribe()):(this.__tryOrUnsub(this._error,N),this.unsubscribe());else if($.syncErrorThrowable)F?($.syncErrorValue=N,$.syncErrorThrown=!0):(0,z.z)(N),this.unsubscribe();else{if(this.unsubscribe(),F)throw N;(0,z.z)(N)}}}complete(){if(!this.isStopped){const{_parentSubscriber:N}=this;if(this._complete){const $=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?(this.__tryOrSetError(N,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(N,$){try{N.call(this._context,$)}catch(F){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw F;(0,z.z)(F)}}__tryOrSetError(N,$,F){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,F)}catch(B){return le.v.useDeprecatedSynchronousErrorHandling?(N.syncErrorValue=B,N.syncErrorThrown=!0,!0):((0,z.z)(B),!0)}return!1}_unsubscribe(){const{_parentSubscriber:N}=this;this._context=null,this._parentSubscriber=null,N.unsubscribe()}}},5319:(ke,_e,k)=>{"use strict";k.d(_e,{w:()=>z});var E=k(9796),oe=k(1555),S=k(9105);const le=(()=>{function K(G){return Error.call(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((N,$)=>`${$+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G,this}return K.prototype=Object.create(Error.prototype),K})();class z{constructor(G){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,G&&(this._ctorUnsubscribe=!0,this._unsubscribe=G)}unsubscribe(){let G;if(this.closed)return;let{_parentOrParents:N,_ctorUnsubscribe:$,_unsubscribe:F,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,N instanceof z)N.remove(this);else if(null!==N)for(let Y=0;Y<N.length;++Y)N[Y].remove(this);if((0,S.m)(F)){$&&(this._unsubscribe=void 0);try{F.call(this)}catch(Y){G=Y instanceof le?ge(Y.errors):[Y]}}if((0,E.k)(B)){let Y=-1,ue=B.length;for(;++Y<ue;){const ce=B[Y];if((0,oe.K)(ce))try{ce.unsubscribe()}catch(Re){G=G||[],Re instanceof le?G=G.concat(ge(Re.errors)):G.push(Re)}}}if(G)throw new le(G)}add(G){let N=G;if(!G)return z.EMPTY;switch(typeof G){case"function":N=new z(G);case"object":if(N===this||N.closed||"function"!=typeof N.unsubscribe)return N;if(this.closed)return N.unsubscribe(),N;if(!(N instanceof z)){const B=N;N=new z,N._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+G+" added to Subscription.")}let{_parentOrParents:$}=N;if(null===$)N._parentOrParents=this;else if($ instanceof z){if($===this)return N;N._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return N;$.push(this)}const F=this._subscriptions;return null===F?this._subscriptions=[N]:F.push(N),N}remove(G){const N=this._subscriptions;if(N){const $=N.indexOf(G);-1!==$&&N.splice($,1)}}}var K;function ge(K){return K.reduce((G,N)=>G.concat(N instanceof le?N.errors:N),[])}z.EMPTY=((K=new z).closed=!0,K)},2494:(ke,_e,k)=>{"use strict";k.d(_e,{v:()=>oe});let E=!1;const oe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(S){if(S){const W=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+W.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=S},get useDeprecatedSynchronousErrorHandling(){return E}}},5345:(ke,_e,k)=>{"use strict";k.d(_e,{IY:()=>W,Ds:()=>z,ft:()=>K});var E=k(7393),oe=k(7574),S=k(7444);class W extends E.L{constructor(N){super(),this.parent=N}_next(N){this.parent.notifyNext(N)}_error(N){this.parent.notifyError(N),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends E.L{notifyNext(N){this.destination.next(N)}notifyError(N){this.destination.error(N)}notifyComplete(){this.destination.complete()}}function K(G,N){if(N.closed)return;if(G instanceof oe.y)return G.subscribe(N);let $;try{$=(0,S.s)(G)(N)}catch(F){N.error(F)}return $}},2441:(ke,_e,k)=>{"use strict";k.d(_e,{c:()=>le,N:()=>z});var E=k(9765),oe=k(7574),S=k(5319),W=k(1307);class le extends oe.y{constructor($,F){super(),this.source=$,this.subjectFactory=F,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new S.w,$.add(this.source.subscribe(new ge(this.getSubject(),this))),$.closed&&(this._connection=null,$=S.w.EMPTY)),$}refCount(){return(0,W.x)()(this)}}const z=(()=>{const N=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:N._subscribe},_isComplete:{value:N._isComplete,writable:!0},getSubject:{value:N.getSubject},connect:{value:N.connect},refCount:{value:N.refCount}}})();class ge extends E.Yc{constructor($,F){super($),this.connectable=F}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const F=$._connection;$._refCount=0,$._subject=null,$._connection=null,F&&F.unsubscribe()}}}},9193:(ke,_e,k)=>{"use strict";k.d(_e,{E:()=>oe,c:()=>S});var E=k(7574);const oe=new E.y(le=>le.complete());function S(le){return le?function(le){return new E.y(z=>le.schedule(()=>z.complete()))}(le):oe}},4402:(ke,_e,k)=>{"use strict";k.d(_e,{D:()=>ue});var E=k(7574),oe=k(7444),S=k(5319),W=k(6554),ge=k(4087),K=k(377),$=k(4072),F=k(9489);function ue(ce,Re){return Re?function(ce,Re){if(null!=ce){if(function(ce){return ce&&"function"==typeof ce[W.L]}(ce))return function(ce,Re){return new E.y(Ce=>{const Ee=new S.w;return Ee.add(Re.schedule(()=>{const Ae=ce[W.L]();Ee.add(Ae.subscribe({next(ze){Ee.add(Re.schedule(()=>Ce.next(ze)))},error(ze){Ee.add(Re.schedule(()=>Ce.error(ze)))},complete(){Ee.add(Re.schedule(()=>Ce.complete()))}}))})),Ee})}(ce,Re);if((0,$.t)(ce))return function(ce,Re){return new E.y(Ce=>{const Ee=new S.w;return Ee.add(Re.schedule(()=>ce.then(Ae=>{Ee.add(Re.schedule(()=>{Ce.next(Ae),Ee.add(Re.schedule(()=>Ce.complete()))}))},Ae=>{Ee.add(Re.schedule(()=>Ce.error(Ae)))}))),Ee})}(ce,Re);if((0,F.z)(ce))return(0,ge.r)(ce,Re);if(function(ce){return ce&&"function"==typeof ce[K.hZ]}(ce)||"string"==typeof ce)return function(ce,Re){if(!ce)throw new Error("Iterable cannot be null");return new E.y(Ce=>{const Ee=new S.w;let Ae;return Ee.add(()=>{Ae&&"function"==typeof Ae.return&&Ae.return()}),Ee.add(Re.schedule(()=>{Ae=ce[K.hZ](),Ee.add(Re.schedule(function(){if(Ce.closed)return;let ze,Te;try{const Rt=Ae.next();ze=Rt.value,Te=Rt.done}catch(Rt){return void Ce.error(Rt)}Te?Ce.complete():(Ce.next(ze),this.schedule())}))})),Ee})}(ce,Re)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,Re):ce instanceof E.y?ce:new E.y((0,oe.s)(ce))}},6693:(ke,_e,k)=>{"use strict";k.d(_e,{n:()=>W});var E=k(7574),oe=k(5015),S=k(4087);function W(le,z){return z?(0,S.r)(le,z):new E.y((0,oe.V)(le))}},6682:(ke,_e,k)=>{"use strict";k.d(_e,{T:()=>le});var E=k(7574),oe=k(4869),S=k(3282),W=k(6693);function le(...z){let ge=Number.POSITIVE_INFINITY,K=null,G=z[z.length-1];return(0,oe.K)(G)?(K=z.pop(),z.length>1&&"number"==typeof z[z.length-1]&&(ge=z.pop())):"number"==typeof G&&(ge=z.pop()),null===K&&1===z.length&&z[0]instanceof E.y?z[0]:(0,S.J)(ge)((0,W.n)(z,K))}},5917:(ke,_e,k)=>{"use strict";k.d(_e,{of:()=>W});var E=k(4869),oe=k(6693),S=k(4087);function W(...le){let z=le[le.length-1];return(0,E.K)(z)?(le.pop(),(0,S.r)(le,z)):(0,oe.n)(le)}},8002:(ke,_e,k)=>{"use strict";k.d(_e,{U:()=>oe});var E=k(7393);function oe(le,z){return function(K){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new S(le,z))}}class S{constructor(z,ge){this.project=z,this.thisArg=ge}call(z,ge){return ge.subscribe(new W(z,this.project,this.thisArg))}}class W extends E.L{constructor(z,ge,K){super(z),this.project=ge,this.count=0,this.thisArg=K||this}_next(z){let ge;try{ge=this.project.call(this.thisArg,z,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(ge)}}},3282:(ke,_e,k)=>{"use strict";k.d(_e,{J:()=>S});var E=k(9773),oe=k(4487);function S(W=Number.POSITIVE_INFINITY){return(0,E.zg)(oe.y,W)}},9773:(ke,_e,k)=>{"use strict";k.d(_e,{zg:()=>W});var E=k(8002),oe=k(4402),S=k(5345);function W(K,G,N=Number.POSITIVE_INFINITY){return"function"==typeof G?$=>$.pipe(W((F,B)=>(0,oe.D)(K(F,B)).pipe((0,E.U)((Y,ue)=>G(F,Y,B,ue))),N)):("number"==typeof G&&(N=G),$=>$.lift(new le(K,N)))}class le{constructor(G,N=Number.POSITIVE_INFINITY){this.project=G,this.concurrent=N}call(G,N){return N.subscribe(new z(G,this.project,this.concurrent))}}class z extends S.Ds{constructor(G,N,$=Number.POSITIVE_INFINITY){super(G),this.project=N,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(G){this.active<this.concurrent?this._tryNext(G):this.buffer.push(G)}_tryNext(G){let N;const $=this.index++;try{N=this.project(G,$)}catch(F){return void this.destination.error(F)}this.active++,this._innerSub(N)}_innerSub(G){const N=new S.IY(this),$=this.destination;$.add(N);const F=(0,S.ft)(G,N);F!==N&&$.add(F)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(G){this.destination.next(G)}notifyComplete(){const G=this.buffer;this.active--,G.length>0?this._next(G.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ke,_e,k)=>{"use strict";k.d(_e,{ht:()=>$,QV:()=>G});var E=k(7393),oe=k(9193),S=k(5917),W=k(7574);class K{constructor(Y,ue,ce){this.kind=Y,this.value=ue,this.error=ce,this.hasValue="N"===Y}observe(Y){switch(this.kind){case"N":return Y.next&&Y.next(this.value);case"E":return Y.error&&Y.error(this.error);case"C":return Y.complete&&Y.complete()}}do(Y,ue,ce){switch(this.kind){case"N":return Y&&Y(this.value);case"E":return ue&&ue(this.error);case"C":return ce&&ce()}}accept(Y,ue,ce){return Y&&"function"==typeof Y.next?this.observe(Y):this.do(Y,ue,ce)}toObservable(){switch(this.kind){case"N":return(0,S.of)(this.value);case"E":return B=this.error,new W.y(ue=>ue.error(B));case"C":return(0,oe.c)()}var B;throw new Error("unexpected notification kind value")}static createNext(Y){return void 0!==Y?new K("N",Y):K.undefinedValueNotification}static createError(Y){return new K("E",void 0,Y)}static createComplete(){return K.completeNotification}}function G(B,Y=0){return function(ce){return ce.lift(new N(B,Y))}}K.completeNotification=new K("C"),K.undefinedValueNotification=new K("N",void 0);class N{constructor(Y,ue=0){this.scheduler=Y,this.delay=ue}call(Y,ue){return ue.subscribe(new $(Y,this.scheduler,this.delay))}}class $ extends E.L{constructor(Y,ue,ce=0){super(Y),this.scheduler=ue,this.delay=ce}static dispatch(Y){const{notification:ue,destination:ce}=Y;ue.observe(ce),this.unsubscribe()}scheduleMessage(Y){this.destination.add(this.scheduler.schedule($.dispatch,this.delay,new F(Y,this.destination)))}_next(Y){this.scheduleMessage(K.createNext(Y))}_error(Y){this.scheduleMessage(K.createError(Y)),this.unsubscribe()}_complete(){this.scheduleMessage(K.createComplete()),this.unsubscribe()}}class F{constructor(Y,ue){this.notification=Y,this.destination=ue}}},1307:(ke,_e,k)=>{"use strict";k.d(_e,{x:()=>oe});var E=k(7393);function oe(){return function(z){return z.lift(new S(z))}}class S{constructor(z){this.connectable=z}call(z,ge){const{connectable:K}=this;K._refCount++;const G=new W(z,K),N=ge.subscribe(G);return G.closed||(G.connection=K.connect()),N}}class W extends E.L{constructor(z,ge){super(z),this.connectable=ge}_unsubscribe(){const{connectable:z}=this;if(!z)return void(this.connection=null);this.connectable=null;const ge=z._refCount;if(ge<=0)return void(this.connection=null);if(z._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:K}=this,G=z._connection;this.connection=null,G&&(!K||G===K)&&G.unsubscribe()}}},8819:(ke,_e,k)=>{"use strict";k.d(_e,{B:()=>ge});var E=k(2441);var W=k(1307),le=k(9765);function z(){return new le.xQ}function ge(){return K=>(0,W.x)()(function(K,G){return function($){let F;F="function"==typeof K?K:function(){return K};const B=Object.create($,E.N);return B.source=$,B.subjectFactory=F,B}}(z)(K))}},3101:(ke,_e,k)=>{"use strict";k.d(_e,{R:()=>Re});var E=k(7574);let oe=1;const S=Promise.resolve(),W={};function le(Ee){return Ee in W&&(delete W[Ee],!0)}const z={setImmediate(Ee){const Ae=oe++;return W[Ae]=!0,S.then(()=>le(Ae)&&Ee()),Ae},clearImmediate(Ee){le(Ee)}};var K=k(6465),N=k(6102);const B=new class extends N.v{flush(Ae){this.active=!0,this.scheduled=void 0;const{actions:ze}=this;let Te,Rt=-1,Ht=ze.length;Ae=Ae||ze.shift();do{if(Te=Ae.execute(Ae.state,Ae.delay))break}while(++Rt<Ht&&(Ae=ze.shift()));if(this.active=!1,Te){for(;++Rt<Ht&&(Ae=ze.shift());)Ae.unsubscribe();throw Te}}}(class extends K.o{constructor(Ae,ze){super(Ae,ze),this.scheduler=Ae,this.work=ze}requestAsyncId(Ae,ze,Te=0){return null!==Te&&Te>0?super.requestAsyncId(Ae,ze,Te):(Ae.actions.push(this),Ae.scheduled||(Ae.scheduled=z.setImmediate(Ae.flush.bind(Ae,null))))}recycleAsyncId(Ae,ze,Te=0){if(null!==Te&&Te>0||null===Te&&this.delay>0)return super.recycleAsyncId(Ae,ze,Te);0===Ae.actions.length&&(z.clearImmediate(ze),Ae.scheduled=void 0)}});var Y=k(9796);class ce extends E.y{constructor(Ae,ze=0,Te=B){var Ee;super(),this.source=Ae,this.delayTime=ze,this.scheduler=Te,(!(!(0,Y.k)(Ee=ze)&&Ee-parseFloat(Ee)+1>=0)||ze<0)&&(this.delayTime=0),(!Te||"function"!=typeof Te.schedule)&&(this.scheduler=B)}static create(Ae,ze=0,Te=B){return new ce(Ae,ze,Te)}static dispatch(Ae){const{source:ze,subscriber:Te}=Ae;return this.add(ze.subscribe(Te))}_subscribe(Ae){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:Ae})}}function Re(Ee,Ae=0){return function(Te){return Te.lift(new Ce(Ee,Ae))}}class Ce{constructor(Ae,ze){this.scheduler=Ae,this.delay=ze}call(Ae,ze){return new ce(ze,this.delay,this.scheduler).subscribe(Ae)}}},3342:(ke,_e,k)=>{"use strict";k.d(_e,{b:()=>W});var E=k(7393);function oe(){}var S=k(9105);function W(ge,K,G){return function($){return $.lift(new le(ge,K,G))}}class le{constructor(K,G,N){this.nextOrObserver=K,this.error=G,this.complete=N}call(K,G){return G.subscribe(new z(K,this.nextOrObserver,this.error,this.complete))}}class z extends E.L{constructor(K,G,N,$){super(K),this._tapNext=oe,this._tapError=oe,this._tapComplete=oe,this._tapError=N||oe,this._tapComplete=$||oe,(0,S.m)(G)?(this._context=this,this._tapNext=G):G&&(this._context=G,this._tapNext=G.next||oe,this._tapError=G.error||oe,this._tapComplete=G.complete||oe)}_next(K){try{this._tapNext.call(this._context,K)}catch(G){return void this.destination.error(G)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(G){return void this.destination.error(G)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(ke,_e,k)=>{"use strict";k.d(_e,{r:()=>S});var E=k(7574),oe=k(5319);function S(W,le){return new E.y(z=>{const ge=new oe.w;let K=0;return ge.add(le.schedule(function(){K!==W.length?(z.next(W[K++]),z.closed||ge.add(this.schedule())):z.complete()})),ge})}},6465:(ke,_e,k)=>{"use strict";k.d(_e,{o:()=>S});var E=k(5319);class oe extends E.w{constructor(le,z){super()}schedule(le,z=0){return this}}class S extends oe{constructor(le,z){super(le,z),this.scheduler=le,this.work=z,this.pending=!1}schedule(le,z=0){if(this.closed)return this;this.state=le;const ge=this.id,K=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(K,ge,z)),this.pending=!0,this.delay=z,this.id=this.id||this.requestAsyncId(K,this.id,z),this}requestAsyncId(le,z,ge=0){return setInterval(le.flush.bind(le,this),ge)}recycleAsyncId(le,z,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return z;clearInterval(z)}execute(le,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(le,z);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,z){let K,ge=!1;try{this.work(le)}catch(G){ge=!0,K=!!G&&G||new Error(G)}if(ge)return this.unsubscribe(),K}_unsubscribe(){const le=this.id,z=this.scheduler,ge=z.actions,K=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&ge.splice(K,1),null!=le&&(this.id=this.recycleAsyncId(z,le,null)),this.delay=null}}},6102:(ke,_e,k)=>{"use strict";k.d(_e,{v:()=>oe});let E=(()=>{class S{constructor(le,z=S.now){this.SchedulerAction=le,this.now=z}schedule(le,z=0,ge){return new this.SchedulerAction(this,le).schedule(ge,z)}}return S.now=()=>Date.now(),S})();class oe extends E{constructor(W,le=E.now){super(W,()=>oe.delegate&&oe.delegate!==this?oe.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(W,le=0,z){return oe.delegate&&oe.delegate!==this?oe.delegate.schedule(W,le,z):super.schedule(W,le,z)}flush(W){const{actions:le}=this;if(this.active)return void le.push(W);let z;this.active=!0;do{if(z=W.execute(W.state,W.delay))break}while(W=le.shift());if(this.active=!1,z){for(;W=le.shift();)W.unsubscribe();throw z}}}},3637:(ke,_e,k)=>{"use strict";k.d(_e,{z:()=>S,P:()=>W});var E=k(6465);const S=new(k(6102).v)(E.o),W=S},7771:(ke,_e,k)=>{"use strict";k.d(_e,{c:()=>z,N:()=>le});var E=k(6465),S=k(6102);const le=new class extends S.v{}(class extends E.o{constructor(K,G){super(K,G),this.scheduler=K,this.work=G}schedule(K,G=0){return G>0?super.schedule(K,G):(this.delay=G,this.state=K,this.scheduler.flush(this),this)}execute(K,G){return G>0||this.closed?super.execute(K,G):this._execute(K,G)}requestAsyncId(K,G,N=0){return null!==N&&N>0||null===N&&this.delay>0?super.requestAsyncId(K,G,N):K.flush(this)}}),z=le},377:(ke,_e,k)=>{"use strict";k.d(_e,{hZ:()=>oe});const oe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ke,_e,k)=>{"use strict";k.d(_e,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ke,_e,k)=>{"use strict";k.d(_e,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ke,_e,k)=>{"use strict";k.d(_e,{N:()=>oe});const oe=(()=>{function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return S.prototype=Object.create(Error.prototype),S})()},4449:(ke,_e,k)=>{"use strict";function E(oe){setTimeout(()=>{throw oe},0)}k.d(_e,{z:()=>E})},4487:(ke,_e,k)=>{"use strict";function E(oe){return oe}k.d(_e,{y:()=>E})},9796:(ke,_e,k)=>{"use strict";k.d(_e,{k:()=>E});const E=Array.isArray||(oe=>oe&&"number"==typeof oe.length)},9489:(ke,_e,k)=>{"use strict";k.d(_e,{z:()=>E});const E=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},9105:(ke,_e,k)=>{"use strict";function E(oe){return"function"==typeof oe}k.d(_e,{m:()=>E})},1555:(ke,_e,k)=>{"use strict";function E(oe){return null!==oe&&"object"==typeof oe}k.d(_e,{K:()=>E})},4072:(ke,_e,k)=>{"use strict";function E(oe){return!!oe&&"function"!=typeof oe.subscribe&&"function"==typeof oe.then}k.d(_e,{t:()=>E})},4869:(ke,_e,k)=>{"use strict";function E(oe){return oe&&"function"==typeof oe.schedule}k.d(_e,{K:()=>E})},7444:(ke,_e,k)=>{"use strict";k.d(_e,{s:()=>$});var E=k(5015),oe=k(4449),W=k(377),z=k(6554),K=k(9489),G=k(4072),N=k(1555);const $=F=>{if(F&&"function"==typeof F[z.L])return(F=>B=>{const Y=F[z.L]();if("function"!=typeof Y.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Y.subscribe(B)})(F);if((0,K.z)(F))return(0,E.V)(F);if((0,G.t)(F))return(F=>B=>(F.then(Y=>{B.closed||(B.next(Y),B.complete())},Y=>B.error(Y)).then(null,oe.z),B))(F);if(F&&"function"==typeof F[W.hZ])return(F=>B=>{const Y=F[W.hZ]();for(;;){let ue;try{ue=Y.next()}catch(ce){return B.error(ce),B}if(ue.done){B.complete();break}if(B.next(ue.value),B.closed)break}return"function"==typeof Y.return&&B.add(()=>{Y.return&&Y.return()}),B})(F);{const Y=`You provided ${(0,N.K)(F)?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Y)}}},5015:(ke,_e,k)=>{"use strict";k.d(_e,{V:()=>E});const E=oe=>S=>{for(let W=0,le=oe.length;W<le&&!S.closed;W++)S.next(oe[W]);S.complete()}},6729:(ke,_e,k)=>{"use strict";var E=k(7716);let oe=null;function S(){return oe}const ge=new E.OlP("DocumentToken");let K=(()=>{class s{historyGo(o){throw new Error("Not implemented")}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275prov=(0,E.Yz7)({factory:G,token:s,providedIn:"platform"}),s})();function G(){return(0,E.LFG)($)}const N=new E.OlP("Location Initialized");let $=(()=>{class s extends K{constructor(o){super(),this._doc=o,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(o){const f=S().getGlobalEventTarget(this._doc,"window");return f.addEventListener("popstate",o,!1),()=>f.removeEventListener("popstate",o)}onHashChange(o){const f=S().getGlobalEventTarget(this._doc,"window");return f.addEventListener("hashchange",o,!1),()=>f.removeEventListener("hashchange",o)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(o){this.location.pathname=o}pushState(o,f,g){F()?this._history.pushState(o,f,g):this.location.hash=g}replaceState(o,f,g){F()?this._history.replaceState(o,f,g):this.location.hash=g}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(ge))},s.\u0275prov=(0,E.Yz7)({factory:B,token:s,providedIn:"platform"}),s})();function F(){return!!window.history.pushState}function B(){return new $((0,E.LFG)(ge))}function Y(s,i){if(0==s.length)return i;if(0==i.length)return s;let o=0;return s.endsWith("/")&&o++,i.startsWith("/")&&o++,2==o?s+i.substring(1):1==o?s+i:s+"/"+i}function ue(s){const i=s.match(/#|\?|$/),o=i&&i.index||s.length;return s.slice(0,o-("/"===s[o-1]?1:0))+s.slice(o)}function ce(s){return s&&"?"!==s[0]?"?"+s:s}let Re=(()=>{class s{historyGo(o){throw new Error("Not implemented")}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275prov=(0,E.Yz7)({factory:Ce,token:s,providedIn:"root"}),s})();function Ce(s){const i=(0,E.LFG)(ge).location;return new Ae((0,E.LFG)(K),i&&i.origin||"")}const Ee=new E.OlP("appBaseHref");let Ae=(()=>{class s extends Re{constructor(o,f){if(super(),this._platformLocation=o,this._removeListenerFns=[],null==f&&(f=this._platformLocation.getBaseHrefFromDOM()),null==f)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=f}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return Y(this._baseHref,o)}path(o=!1){const f=this._platformLocation.pathname+ce(this._platformLocation.search),g=this._platformLocation.hash;return g&&o?`${f}${g}`:f}pushState(o,f,g,y){const D=this.prepareExternalUrl(g+ce(y));this._platformLocation.pushState(o,f,D)}replaceState(o,f,g,y){const D=this.prepareExternalUrl(g+ce(y));this._platformLocation.replaceState(o,f,D)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(o=0){var f,g;null===(g=(f=this._platformLocation).historyGo)||void 0===g||g.call(f,o)}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(K),E.LFG(Ee,8))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})(),ze=(()=>{class s extends Re{constructor(o,f){super(),this._platformLocation=o,this._baseHref="",this._removeListenerFns=[],null!=f&&(this._baseHref=f)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}path(o=!1){let f=this._platformLocation.hash;return null==f&&(f="#"),f.length>0?f.substring(1):f}prepareExternalUrl(o){const f=Y(this._baseHref,o);return f.length>0?"#"+f:f}pushState(o,f,g,y){let D=this.prepareExternalUrl(g+ce(y));0==D.length&&(D=this._platformLocation.pathname),this._platformLocation.pushState(o,f,D)}replaceState(o,f,g,y){let D=this.prepareExternalUrl(g+ce(y));0==D.length&&(D=this._platformLocation.pathname),this._platformLocation.replaceState(o,f,D)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(o=0){var f,g;null===(g=(f=this._platformLocation).historyGo)||void 0===g||g.call(f,o)}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(K),E.LFG(Ee,8))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})(),Te=(()=>{class s{constructor(o,f){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=o;const g=this._platformStrategy.getBaseHref();this._platformLocation=f,this._baseHref=ue(bt(g)),this._platformStrategy.onPopState(y=>{this._subject.emit({url:this.path(!0),pop:!0,state:y.state,type:y.type})})}path(o=!1){return this.normalize(this._platformStrategy.path(o))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(o,f=""){return this.path()==this.normalize(o+ce(f))}normalize(o){return s.stripTrailingSlash(function(s,i){return s&&i.startsWith(s)?i.substring(s.length):i}(this._baseHref,bt(o)))}prepareExternalUrl(o){return o&&"/"!==o[0]&&(o="/"+o),this._platformStrategy.prepareExternalUrl(o)}go(o,f="",g=null){this._platformStrategy.pushState(g,"",o,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+ce(f)),g)}replaceState(o,f="",g=null){this._platformStrategy.replaceState(g,"",o,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+ce(f)),g)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(o=0){var f,g;null===(g=(f=this._platformStrategy).historyGo)||void 0===g||g.call(f,o)}onUrlChange(o){this._urlChangeListeners.push(o),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(f=>{this._notifyUrlChangeListeners(f.url,f.state)}))}_notifyUrlChangeListeners(o="",f){this._urlChangeListeners.forEach(g=>g(o,f))}subscribe(o,f,g){return this._subject.subscribe({next:o,error:f,complete:g})}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(Re),E.LFG(K))},s.normalizeQueryParams=ce,s.joinWithSlash=Y,s.stripTrailingSlash=ue,s.\u0275prov=(0,E.Yz7)({factory:Rt,token:s,providedIn:"root"}),s})();function Rt(){return new Te((0,E.LFG)(Re),(0,E.LFG)(K))}function bt(s){return s.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))();const vt=E.kL8;class io{}let va=(()=>{class s extends io{constructor(o){super(),this.locale=o}getPluralCategory(o,f){switch(vt(f||this.locale)(o)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(E.soG))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})(),wu=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=E.oAB({type:s}),s.\u0275inj=E.cJS({providers:[{provide:io,useClass:va}]}),s})(),Vt=(()=>{class s{}return s.\u0275prov=(0,E.Yz7)({token:s,providedIn:"root",factory:()=>new Zl((0,E.LFG)(ge),window)}),s})();class Zl{constructor(i,o){this.document=i,this.window=o,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const o=function(s,i){const o=s.getElementById(i)||s.getElementsByName(i)[0];if(o)return o;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const f=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let g=f.currentNode;for(;g;){const y=g.shadowRoot;if(y){const D=y.getElementById(i)||y.querySelector(`[name="${i}"]`);if(D)return D}g=f.nextNode()}}return null}(this.document,i);o&&(this.scrollToElement(o),this.attemptFocus(o))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const o=this.window.history;o&&o.scrollRestoration&&(o.scrollRestoration=i)}}scrollToElement(i){const o=i.getBoundingClientRect(),f=o.left+this.window.pageXOffset,g=o.top+this.window.pageYOffset,y=this.offset();this.window.scrollTo(f-y[0],g-y[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=Ea(this.window.history)||Ea(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function Ea(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class Qo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new Qo,oe||(oe=s)}onAndCancel(i,o,f){return i.addEventListener(o,f,!1),()=>{i.removeEventListener(o,f,!1)}}dispatchEvent(i,o){i.dispatchEvent(o)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,o){return(o=o||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,o){return"window"===o?window:"document"===o?i:"body"===o?i.body:null}getBaseHref(i){const o=(Ke=Ke||document.querySelector("base"),Ke?Ke.getAttribute("href"):null);return null==o?null:function(s){jt=jt||document.createElement("a"),jt.setAttribute("href",s);const i=jt.pathname;return"/"===i.charAt(0)?i:`/${i}`}(o)}resetBaseElement(){Ke=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(s,i){i=encodeURIComponent(i);for(const o of s.split(";")){const f=o.indexOf("="),[g,y]=-1==f?[o,""]:[o.slice(0,f),o.slice(f+1)];if(g.trim()===i)return decodeURIComponent(y)}return null}(document.cookie,i)}}let jt,Ke=null;const Jt=new E.OlP("TRANSITION_ID"),dr=[{provide:E.ip1,useFactory:function(s,i,o){return()=>{o.get(E.CZH).donePromise.then(()=>{const f=S(),g=i.querySelectorAll(`style[ng-transition="${s}"]`);for(let y=0;y<g.length;y++)f.remove(g[y])})}},deps:[Jt,ge,E.zs3],multi:!0}];class Os{static init(){(0,E.VLi)(new Os)}addToWindow(i){E.dqk.getAngularTestability=(f,g=!0)=>{const y=i.findTestabilityInTree(f,g);if(null==y)throw new Error("Could not find testability for element.");return y},E.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(f=>{const g=E.dqk.getAllAngularTestabilities();let y=g.length,D=!1;const T=function(P){D=D||P,y--,0==y&&f(D)};g.forEach(function(P){P.whenStable(T)})})}findTestabilityInTree(i,o,f){if(null==o)return null;const g=i.getTestability(o);return null!=g?g:f?S().isShadowRoot(o)?this.findTestabilityInTree(i,o.host,!0):this.findTestabilityInTree(i,o.parentElement,!0):null}}let Ci=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();const ks=new E.OlP("EventManagerPlugins");let ve=(()=>{class s{constructor(o,f){this._zone=f,this._eventNameToPlugin=new Map,o.forEach(g=>g.manager=this),this._plugins=o.slice().reverse()}addEventListener(o,f,g){return this._findPluginFor(f).addEventListener(o,f,g)}addGlobalEventListener(o,f,g){return this._findPluginFor(f).addGlobalEventListener(o,f,g)}getZone(){return this._zone}_findPluginFor(o){const f=this._eventNameToPlugin.get(o);if(f)return f;const g=this._plugins;for(let y=0;y<g.length;y++){const D=g[y];if(D.supports(o))return this._eventNameToPlugin.set(o,D),D}throw new Error(`No event manager plugin found for event ${o}`)}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(ks),E.LFG(E.R0b))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();class gt{constructor(i){this._doc=i}addGlobalEventListener(i,o,f){const g=S().getGlobalEventTarget(this._doc,i);if(!g)throw new Error(`Unsupported event target ${g} for event ${o}`);return this.addEventListener(g,o,f)}}let wa=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(o){const f=new Set;o.forEach(g=>{this._stylesSet.has(g)||(this._stylesSet.add(g),f.add(g))}),this.onStylesAdded(f)}onStylesAdded(o){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})(),Xt=(()=>{class s extends wa{constructor(o){super(),this._doc=o,this._hostNodes=new Map,this._hostNodes.set(o.head,[])}_addStylesToHost(o,f,g){o.forEach(y=>{const D=this._doc.createElement("style");D.textContent=y,g.push(f.appendChild(D))})}addHost(o){const f=[];this._addStylesToHost(this._stylesSet,o,f),this._hostNodes.set(o,f)}removeHost(o){const f=this._hostNodes.get(o);f&&f.forEach(Ls),this._hostNodes.delete(o)}onStylesAdded(o){this._hostNodes.forEach((f,g)=>{this._addStylesToHost(o,g,f)})}ngOnDestroy(){this._hostNodes.forEach(o=>o.forEach(Ls))}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(ge))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();function Ls(s){S().remove(s)}const uo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Nn=/%COMP%/g;function un(s,i,o){for(let f=0;f<i.length;f++){let g=i[f];Array.isArray(g)?un(s,g,o):(g=g.replace(Nn,s),o.push(g))}return o}function tr(s){return i=>{if("__ngUnwrap__"===i)return s;!1===s(i)&&(i.preventDefault(),i.returnValue=!1)}}let ni=(()=>{class s{constructor(o,f,g){this.eventManager=o,this.sharedStylesHost=f,this.appId=g,this.rendererByCompId=new Map,this.defaultRenderer=new fr(o)}createRenderer(o,f){if(!o||!f)return this.defaultRenderer;switch(f.encapsulation){case E.ifc.Emulated:{let g=this.rendererByCompId.get(f.id);return g||(g=new zd(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,g)),g.applyToHost(o),g}case 1:case E.ifc.ShadowDom:return new Gn(this.eventManager,this.sharedStylesHost,o,f);default:if(!this.rendererByCompId.has(f.id)){const g=un(f.id,f.styles,[]);this.sharedStylesHost.addStyles(g),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(ve),E.LFG(Xt),E.LFG(E.AFp))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();class fr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,o){return o?document.createElementNS(uo[o]||o,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,o){i.appendChild(o)}insertBefore(i,o,f){i&&i.insertBefore(o,f)}removeChild(i,o){i&&i.removeChild(o)}selectRootElement(i,o){let f="string"==typeof i?document.querySelector(i):i;if(!f)throw new Error(`The selector "${i}" did not match any elements`);return o||(f.textContent=""),f}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,o,f,g){if(g){o=g+":"+o;const y=uo[g];y?i.setAttributeNS(y,o,f):i.setAttribute(o,f)}else i.setAttribute(o,f)}removeAttribute(i,o,f){if(f){const g=uo[f];g?i.removeAttributeNS(g,o):i.removeAttribute(`${f}:${o}`)}else i.removeAttribute(o)}addClass(i,o){i.classList.add(o)}removeClass(i,o){i.classList.remove(o)}setStyle(i,o,f,g){g&(E.JOm.DashCase|E.JOm.Important)?i.style.setProperty(o,f,g&E.JOm.Important?"important":""):i.style[o]=f}removeStyle(i,o,f){f&E.JOm.DashCase?i.style.removeProperty(o):i.style[o]=""}setProperty(i,o,f){i[o]=f}setValue(i,o){i.nodeValue=o}listen(i,o,f){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,o,tr(f)):this.eventManager.addEventListener(i,o,tr(f))}}class zd extends fr{constructor(i,o,f,g){super(i),this.component=f;const y=un(g+"-"+f.id,f.styles,[]);o.addStyles(y),this.contentAttr="_ngcontent-%COMP%".replace(Nn,g+"-"+f.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(Nn,s)}(g+"-"+f.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,o){const f=super.createElement(i,o);return super.setAttribute(f,this.contentAttr,""),f}}class Gn extends fr{constructor(i,o,f,g){super(i),this.sharedStylesHost=o,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=un(g.id,g.styles,[]);for(let D=0;D<y.length;D++){const T=document.createElement("style");T.textContent=y[D],this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,o){return super.appendChild(this.nodeOrShadowRoot(i),o)}insertBefore(i,o,f){return super.insertBefore(this.nodeOrShadowRoot(i),o,f)}removeChild(i,o){return super.removeChild(this.nodeOrShadowRoot(i),o)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let js=(()=>{class s extends gt{constructor(o){super(o)}supports(o){return!0}addEventListener(o,f,g){return o.addEventListener(f,g,!1),()=>this.removeEventListener(o,f,g)}removeEventListener(o,f,g){return o.removeEventListener(f,g)}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(ge))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();const ri=["alt","control","meta","shift"],Kd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Au={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let qd=(()=>{class s extends gt{constructor(o){super(o)}supports(o){return null!=s.parseEventName(o)}addEventListener(o,f,g){const y=s.parseEventName(f),D=s.eventCallback(y.fullKey,g,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(o,y.domEventName,D))}static parseEventName(o){const f=o.toLowerCase().split("."),g=f.shift();if(0===f.length||"keydown"!==g&&"keyup"!==g)return null;const y=s._normalizeKey(f.pop());let D="";if(ri.forEach(P=>{const Q=f.indexOf(P);Q>-1&&(f.splice(Q,1),D+=P+".")}),D+=y,0!=f.length||0===y.length)return null;const T={};return T.domEventName=g,T.fullKey=D,T}static getEventFullKey(o){let f="",g=function(s){let i=s.key;if(null==i){if(i=s.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===s.location&&hn.hasOwnProperty(i)&&(i=hn[i]))}return Kd[i]||i}(o);return g=g.toLowerCase()," "===g?g="space":"."===g&&(g="dot"),ri.forEach(y=>{y!=g&&Au[y](o)&&(f+=y+".")}),f+=g,f}static eventCallback(o,f,g){return y=>{s.getEventFullKey(y)===o&&g.runGuarded(()=>f(y))}}static _normalizeKey(o){switch(o){case"esc":return"escape";default:return o}}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(ge))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();const Ri=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:"browser"},{provide:E.g9A,useValue:function(){Qo.makeCurrent(),Os.init()},multi:!0},{provide:ge,useFactory:function(){return(0,E.RDi)(document),document},deps:[]}]),Mu=[[],{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function(){return new E.qLn},deps:[]},{provide:ks,useClass:js,multi:!0,deps:[ge,E.R0b,E.Lbi]},{provide:ks,useClass:qd,multi:!0,deps:[ge]},[],{provide:ni,useClass:ni,deps:[ve,Xt,E.AFp]},{provide:E.FYo,useExisting:ni},{provide:wa,useExisting:Xt},{provide:Xt,useClass:Xt,deps:[ge]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:ve,useClass:ve,deps:[ks,E.R0b]},{provide:class{},useClass:Ci,deps:[]},[]];let Zd=(()=>{class s{constructor(o){if(o)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(o){return{ngModule:s,providers:[{provide:E.AFp,useValue:o.appId},{provide:Jt,useExisting:E.AFp},dr]}}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(s,12))},s.\u0275mod=E.oAB({type:s}),s.\u0275inj=E.cJS({providers:Mu,imports:[wu,E.hGG]}),s})();"undefined"!=typeof window&&window;var xt=k(57),zs=k(3637),zn=k(7574),Ge=k(5917),Aa=k(6682),yt=k(8002),fc=k(8819),ln=k(4402),go=k(5345);function on(s,i){return"function"==typeof i?o=>o.pipe(on((f,g)=>(0,ln.D)(s(f,g)).pipe((0,yt.U)((y,D)=>i(f,y,g,D))))):o=>o.lift(new Xo(s))}class Xo{constructor(i){this.project=i}call(i,o){return o.subscribe(new es(i,this.project))}}class es extends go.Ds{constructor(i,o){super(i),this.project=o,this.index=0}_next(i){let o;const f=this.index++;try{o=this.project(i,f)}catch(g){return void this.destination.error(g)}this._innerSub(o)}_innerSub(i){const o=this.innerSubscription;o&&o.unsubscribe();const f=new go.IY(this),g=this.destination;g.add(f),this.innerSubscription=(0,go.ft)(i,f),this.innerSubscription!==f&&g.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var hr=k(7393);function ts(s,i){let o=!1;return arguments.length>=2&&(o=!0),function(g){return g.lift(new Ma(s,i,o))}}class Ma{constructor(i,o,f=!1){this.accumulator=i,this.seed=o,this.hasSeed=f}call(i,o){return o.subscribe(new ns(i,this.accumulator,this.seed,this.hasSeed))}}class ns extends hr.L{constructor(i,o,f,g){super(i),this.accumulator=o,this._seed=f,this.hasSeed=g,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const o=this.index++;let f;try{f=this.accumulator(this.seed,i,o)}catch(g){this.destination.error(g)}this.seed=f,this.destination.next(f)}}class Nu{constructor(i,o){this.compare=i,this.keySelector=o}call(i,o){return o.subscribe(new Fu(i,this.compare,this.keySelector))}}class Fu extends hr.L{constructor(i,o,f){super(i),this.keySelector=f,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}compare(i,o){return i===o}_next(i){let o;try{const{keySelector:g}=this;o=g?g(i):i}catch(g){return this.destination.error(g)}let f=!1;if(this.hasKey)try{const{compare:g}=this;f=g(this.key,o)}catch(g){return this.destination.error(g)}else this.hasKey=!0;f||(this.key=o,this.destination.next(i))}}class mo extends hr.L{notifyNext(i,o,f,g,y){this.destination.next(o)}notifyError(i,o){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class rs extends hr.L{constructor(i,o,f){super(),this.parent=i,this.outerValue=o,this.outerIndex=f,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var is=k(7444);function vo(s,i,o,f,g=new rs(s,o,f)){if(!g.closed)return i instanceof zn.y?i.subscribe(g):(0,is.s)(i)(g)}class Ai{constructor(i,o){this.observables=i,this.project=o}call(i,o){return o.subscribe(new ef(i,this.observables,this.project))}}class ef extends mo{constructor(i,o,f){super(i),this.observables=o,this.project=f,this.toRespond=[];const g=o.length;this.values=new Array(g);for(let y=0;y<g;y++)this.toRespond.push(y);for(let y=0;y<g;y++)this.add(vo(this,o[y],void 0,y))}notifyNext(i,o,f){this.values[f]=o;const g=this.toRespond;if(g.length>0){const y=g.indexOf(f);-1!==y&&g.splice(y,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const o=[i,...this.values];this.project?this._tryProject(o):this.destination.next(o)}}_tryProject(i){let o;try{o=this.project.apply(this,i)}catch(f){return void this.destination.error(f)}this.destination.next(o)}}class hc{constructor(i){this.predicate=i}call(i,o){return o.subscribe(new Lu(i,this.predicate))}}class Lu extends hr.L{constructor(i,o){super(i),this.predicate=o,this.skipping=!0,this.index=0}_next(i){const o=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||o.next(i)}tryCallPredicate(i){try{const o=this.predicate(i,this.index++);this.skipping=Boolean(o)}catch(o){this.destination.error(o)}}}k(9192);var Ot=k(9765),_o=k(309),Vu=(k(7771),k(5319)),gc=k(7971);k(8858);const Hr=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();function Yn(s,i){return function(f){return f.lift(new Uu(s,i))}}class Uu{constructor(i,o){this.predicate=i,this.thisArg=o}call(i,o){return o.subscribe(new pn(i,this.predicate,this.thisArg))}}class pn extends hr.L{constructor(i,o,f){super(i),this.predicate=o,this.thisArg=f,this.count=0}_next(i){let o;try{o=this.predicate.call(this.thisArg,i,this.count++)}catch(f){return void this.destination.error(f)}o&&this.destination.next(i)}}const Ys=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var xi=k(9193);function Qs(s){return i=>0===s?(0,xi.c)():i.lift(new pr(s))}class pr{constructor(i){if(this.total=i,this.total<0)throw new Ys}call(i,o){return o.subscribe(new Dn(i,this.total))}}class Dn extends hr.L{constructor(i,o){super(i),this.total=o,this.count=0}_next(i){const o=this.total,f=++this.count;f<=o&&(this.destination.next(i),f===o&&(this.destination.complete(),this.unsubscribe()))}}function ii(s=null){return i=>i.lift(new yo(s))}class yo{constructor(i){this.defaultValue=i}call(i,o){return o.subscribe(new Pi(i,this.defaultValue))}}class Pi extends hr.L{constructor(i,o){super(i),this.defaultValue=o,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Bu(s=op){return i=>i.lift(new Hu(s))}class Hu{constructor(i){this.errorFactory=i}call(i,o){return o.subscribe(new of(i,this.errorFactory))}}class of extends hr.L{constructor(i,o){super(i),this.errorFactory=o,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(o){i=o}this.destination.error(i)}}}function op(){return new Hr}var mc=k(4487);function Ar(s,i){const o=arguments.length>=2;return f=>f.pipe(s?Yn((g,y)=>s(g,y,f)):mc.y,Qs(1),o?ii(i):Bu(()=>new Hr))}k(3101);const xa=new E.OlP("angularfire2.auth.use-emulator");var Eo=k(2329);function os(s){return null==s}function La(s){return"function"==typeof s.set}function bo(s,i){return La(i)?i:s.ref(i)}function vc(s,i){if(function(s){return"string"==typeof s}(s))return i.stringCase();if(La(s))return i.firebaseCase();if(function(s){return"function"==typeof s.exportVal}(s))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function ss(s,i,o="on",f=zs.z){return new zn.y(g=>{let y=null;return y=s[o](i,(D,T)=>{f.schedule(()=>{g.next({snapshot:D,prevKey:T})}),"once"===o&&f.schedule(()=>g.complete())},D=>{f.schedule(()=>g.error(D))}),"on"===o?{unsubscribe(){null!=y&&s.off(i,y)}}:{unsubscribe(){}}}).pipe((0,yt.U)(g=>{const{snapshot:y,prevKey:D}=g;let T=null;return y.exists()&&(T=y.key),{type:i,payload:y,prevKey:D,key:T}}),(0,fc.B)())}function Va(s,i){const o=s.length;for(let f=0;f<o;f++)if(s[f].payload.key===i)return f;return-1}function Zs(s,i){const{payload:o,prevKey:f,key:g}=i,y=Va(s,g),D=function(s,i){if(os(i))return 0;{const o=Va(s,i);return-1===o?s.length:o+1}}(s,f);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let T=null;i.payload.forEach(P=>{const Q={payload:P,type:"value",prevKey:T,key:P.key};return T=P.key,s=[...s,Q],!1})}return s;case"child_added":if(y>-1){const T=s[y-1];(T&&T.key||null)!==f&&(s=s.filter(P=>P.payload.key!==o.key)).splice(D,0,i)}else{if(null==f)return[i,...s];(s=s.slice()).splice(D,0,i)}return s;case"child_removed":return s.filter(T=>T.payload.key!==o.key);case"child_changed":return s.map(T=>T.payload.key===g?i:T);case"child_moved":if(y>-1){const T=s.splice(y,1)[0];return(s=s.slice()).splice(D,0,T),s}return s;default:return s}}function Oi(s){return(os(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function oi(s,i,o){return function(s,i,o){return ss(s,"value","once",o).pipe(on(f=>{const g=[(0,Ge.of)(f)];return i.forEach(y=>g.push(ss(s,y,"on",o))),(0,Aa.T)(...g).pipe(ts(Zs,[]))}),o=>o.lift(new Nu(void 0,void 0)))}(s,i=Oi(i),o)}function Js(s,i,o){const f=(i=Oi(i)).map(g=>ss(s,g,"on",o));return(0,Aa.T)(...f)}function Ni(s,i){return function(f,g){return vc(f,{stringCase:()=>s.child(f)[i](g),firebaseCase:()=>f[i](g),snapshotCase:()=>f.ref[i](g)})}}function Fi(s){return function(o){return o?vc(o,{stringCase:()=>s.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):s.remove()}}function Wu(s,i){return function(){return ss(s,"value","on",i)}}const Gu=new E.OlP("angularfire2.realtimeDatabaseURL"),Do=new E.OlP("angularfire2.database.use-emulator");let si=(()=>{class s{constructor(o,f,g,y,D,T,P){this.schedulers=new xt.HU(D),this.keepUnstableUntilFirst=(0,xt.ss)(this.schedulers);const Q=T,he=(0,xt.on)(o,D,f);!Eo.Z.auth&&P&&(0,xt.yq)(),this.database=(0,xt.sI)(`${he.name}.database.${g}`,"AngularFireDatabase",he,()=>{const fe=D.runOutsideAngular(()=>he.database(g||void 0));return Q&&fe.useEmulator(...Q),fe},[Q])}list(o,f){const g=this.schedulers.ngZone.runOutsideAngular(()=>bo(this.database,o));let y=g;return f&&(y=f(g)),function(s,i){const o=i.schedulers.outsideAngular,f=i.schedulers.ngZone.run(()=>s.ref);return{query:s,update:Ni(f,"update"),set:Ni(f,"set"),push:g=>f.push(g),remove:Fi(f),snapshotChanges:g=>oi(s,g,o).pipe(i.keepUnstableUntilFirst),stateChanges:g=>Js(s,g,o).pipe(i.keepUnstableUntilFirst),auditTrail:g=>function(s,i,o){return function(s,i,o){return function(s,i){return ss(s,"value","on",i).pipe((0,yt.U)(o=>{let f;return o.payload.forEach(g=>(f=g.key,!1)),{data:o,lastKeyToLoad:f}}))}(s,o).pipe(function(...s){return i=>{let o;return"function"==typeof s[s.length-1]&&(o=s.pop()),i.lift(new Ai(s,o))}}(i),(0,yt.U)(([g,y])=>{const D=g.lastKeyToLoad,T=y.map(P=>P.key);return{actions:y,lastKeyToLoad:D,loadedKeys:T}}),function(s){return i=>i.lift(new hc(s))}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,yt.U)(g=>g.actions))}(s,Js(s,i).pipe(ts((g,y)=>[...g,y],[])),o)}(s,g,o).pipe(i.keepUnstableUntilFirst),valueChanges:(g,y)=>oi(s,g,o).pipe((0,yt.U)(T=>T.map(P=>y&&y.idField?Object.assign(Object.assign({},P.payload.val()),{[y.idField]:P.key}):P.payload.val())),i.keepUnstableUntilFirst)}}(y,this)}object(o){return function(s,i){return{query:s,snapshotChanges:()=>Wu(s,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:o=>s.ref.update(o),set:o=>s.ref.set(o),remove:()=>s.ref.remove(),valueChanges:()=>Wu(s,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,(0,yt.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bo(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(xt.Dh),E.LFG(xt.xv,8),E.LFG(Gu,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Do,8),E.LFG(xa,8))},s.\u0275prov=E.Yz7({factory:function(){return new s(E.LFG(xt.Dh),E.LFG(xt.xv,8),E.LFG(Gu,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Do,8),E.LFG(xa,8))},token:s,providedIn:"any"}),s})(),ja=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=E.oAB({type:s}),s.\u0275inj=E.cJS({providers:[si]}),s})();class Ba{constructor(i,o){this.dueTime=i,this.scheduler=o}call(i,o){return o.subscribe(new zu(i,this.dueTime,this.scheduler))}}class zu extends hr.L{constructor(i,o,f){super(i),this.dueTime=o,this.scheduler=f,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Yu,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function Yu(s){s.debouncedNext()}var ai=k(9759),At=k(4762),Kn=k(4685),lf=k(6034),ki="firebasestorage.googleapis.com",Li="storageBucket",Qt=function(s){function i(o,f){var g=s.call(this,Qu(o),"Firebase Storage: "+f+" ("+Qu(o)+")")||this;return g.customData={serverResponse:null},g._baseMessage=g.message,Object.setPrototypeOf(g,i.prototype),g}return(0,At.ZT)(i,s),i.prototype._codeEquals=function(o){return Qu(o)===this.code},Object.defineProperty(i.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),i}(Kn.ZR);function Qu(s){return"storage/"+s}function rr(){return new Qt("unknown","An unknown error occurred, please check the error payload for server response.")}function Ku(){return new Qt("canceled","User canceled the upload/download.")}function Wa(){return new Qt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mr(s){return new Qt("invalid-argument",s)}function ui(){return new Qt("app-deleted","The Firebase app was deleted.")}function Ec(s){return new Qt("invalid-root-operation","The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function us(s,i){return new Qt("invalid-format","String does not match format '"+s+"': "+i)}function Ga(s){throw new Qt("internal-error","Internal error: "+s)}var kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xr=function(i,o){this.data=i,this.contentType=o||null};function li(s,i){switch(s){case kn.RAW:return new xr(Ju(i));case kn.BASE64:case kn.BASE64URL:return new xr(bc(s,i));case kn.DATA_URL:return new xr(function(s){var i=new Xu(s);return i.base64?bc(kn.BASE64,i.rest):function(s){var i;try{i=decodeURIComponent(s)}catch(o){throw us(kn.DATA_URL,"Malformed data URL.")}return Ju(i)}(i.rest)}(i),function(s){return new Xu(s).contentType}(i))}throw rr()}function Ju(s){for(var i=[],o=0;o<s.length;o++){var f=s.charCodeAt(o);if(f<=127)i.push(f);else if(f<=2047)i.push(192|f>>6,128|63&f);else if(55296==(64512&f))if(o<s.length-1&&56320==(64512&s.charCodeAt(o+1))){var y=f,D=s.charCodeAt(++o);i.push(240|(f=65536|(1023&y)<<10|1023&D)>>18,128|f>>12&63,128|f>>6&63,128|63&f)}else i.push(239,191,189);else 56320==(64512&f)?i.push(239,191,189):i.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(i)}function bc(s,i){switch(s){case kn.BASE64:var o=-1!==i.indexOf("-"),f=-1!==i.indexOf("_");if(o||f)throw us(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break;case kn.BASE64URL:var y=-1!==i.indexOf("+"),D=-1!==i.indexOf("/");if(y||D)throw us(s,"Invalid character '"+(y?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/")}var T;try{T=function(s){return atob(s)}(i)}catch(he){throw us(s,"Invalid character found")}for(var P=new Uint8Array(T.length),Q=0;Q<T.length;Q++)P[Q]=T.charCodeAt(Q);return P}var Xu=function(i){this.base64=!1,this.contentType=null;var o=i.match(/^data:([^,]+)?,/);if(null===o)throw us(kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var f=o[1]||null;null!=f&&(this.base64=function(s,i){return s.length>=i.length&&s.substring(s.length-i.length)===i}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-";base64".length):f),this.rest=i.substring(i.indexOf(",")+1)},Rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tl(s){switch(s){case"running":case"pausing":case"canceling":return Rn.RUNNING;case"paused":return Rn.PAUSED;case"success":return Rn.SUCCESS;case"canceled":return Rn.CANCELED;case"error":default:return Rn.ERROR}}var Vi=(()=>{return(s=Vi||(Vi={}))[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT",Vi;var s})(),ap=function(){function s(){var i=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Vi.NO_ERROR,this.sendPromise_=new Promise(function(o){i.xhr_.addEventListener("abort",function(){i.errorCode_=Vi.ABORT,o()}),i.xhr_.addEventListener("error",function(){i.errorCode_=Vi.NETWORK_ERROR,o()}),i.xhr_.addEventListener("load",function(){o()})})}return s.prototype.send=function(i,o,f,g){if(this.sent_)throw Ga("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,i,!0),void 0!==g)for(var y in g)g.hasOwnProperty(y)&&this.xhr_.setRequestHeader(y,g[y].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_},s.prototype.getErrorCode=function(){if(!this.sent_)throw Ga("cannot .getErrorCode() before sending");return this.errorCode_},s.prototype.getStatus=function(){if(!this.sent_)throw Ga("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}},s.prototype.getResponseText=function(){if(!this.sent_)throw Ga("cannot .getResponseText() before sending");return this.xhr_.responseText},s.prototype.abort=function(){this.xhr_.abort()},s.prototype.getResponseHeader=function(i){return this.xhr_.getResponseHeader(i)},s.prototype.addUploadProgressListener=function(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)},s.prototype.removeUploadProgressListener=function(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)},s}(),gr=function(){function s(){}return s.prototype.createConnection=function(){return new ap},s}(),ir=function(){function s(i,o){this.bucket=i,this.path_=o}return Object.defineProperty(s.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),s.prototype.fullServerUrl=function(){var i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)},s.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},s.makeFromBucketSpec=function(i,o){var f;try{f=s.makeFromUrl(i,o)}catch(g){return new s(i,"")}if(""===f.path)return f;throw function(s){return new Qt("invalid-default-bucket","Invalid default bucket '"+s+"'.")}(i)},s.makeFromUrl=function(i,o){var f=null,g="([A-Za-z0-9.\\-_]+)",T=new RegExp("^gs://"+g+"(/(.*))?$","i");function Q(gi){gi.path_=decodeURIComponent(gi.path)}for(var fe=o.replace(/[.]/g,"\\."),Et=[{regex:T,indices:{bucket:1,path:3},postModify:function(gi){"/"===gi.path.charAt(gi.path.length-1)&&(gi.path_=gi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+fe+"/v[A-Za-z0-9_]+/b/"+g+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Q},{regex:new RegExp("^https?://"+(o===ki?"(?:storage.googleapis.com|storage.cloud.google.com)":o)+"/"+g+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Q}],cn=0;cn<Et.length;cn++){var Tt=Et[cn],pi=Tt.regex.exec(i);if(pi){var Fl=pi[Tt.indices.path];Fl||(Fl=""),f=new s(pi[Tt.indices.bucket],Fl),Tt.postModify(f);break}}if(null==f)throw function(s){return new Qt("invalid-url","Invalid URL '"+s+"'.")}(i);return f},s}(),mr=function(){function s(i){this.promise_=Promise.reject(i)}return s.prototype.getPromise=function(){return this.promise_},s.prototype.cancel=function(i){},s}();function za(s){return"string"==typeof s||s instanceof String}function Tc(s){return ji()&&s instanceof Blob}function ji(){return"undefined"!=typeof Blob}function To(s,i,o,f){if(f<i)throw Mr("Invalid value for '"+s+"'. Expected "+i+" or greater.");if(f>o)throw Mr("Invalid value for '"+s+"'. Expected "+o+" or less.")}function vr(s,i){var o=i.match(/^(\w+):\/\/.+/),g=i;return null==(null==o?void 0:o[1])&&(g="https://"+i),g+"/v0"+s}function yf(s){var i=encodeURIComponent,o="?";for(var f in s)s.hasOwnProperty(f)&&(o=o+(i(f)+"=")+i(s[f])+"&");return o.slice(0,-1)}var up=function(){function s(i,o,f,g,y,D,T,P,Q,he,fe){var Ie=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=o,this.headers_=f,this.body_=g,this.successCodes_=y.slice(),this.additionalRetryCodes_=D.slice(),this.callback_=T,this.errorCallback_=P,this.progressCallback_=he,this.timeout_=Q,this.pool_=fe,this.promise_=new Promise(function(De,Ue){Ie.resolve_=De,Ie.reject_=Ue,Ie.start_()})}return s.prototype.start_=function(){var i=this;function f(g,y){var D=i.resolve_,T=i.reject_,P=y.connection;if(y.wasSuccessCode)try{var Q=i.callback_(P,P.getResponseText());!function(s){return void 0!==s}(Q)?D():D(Q)}catch(fe){T(fe)}else if(null!==P)(he=rr()).serverResponse=P.getResponseText(),T(i.errorCallback_?i.errorCallback_(P,he):he);else if(y.canceled)T(he=i.appDelete_?ui():Ku());else{var he;T(he=new Qt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?f(0,new So(!1,null,!0)):this.backoffId_=function(s,i,o){var f=1,g=null,y=!1,D=0;function T(){return 2===D}var P=!1;function Q(){for(var Ue=[],dt=0;dt<arguments.length;dt++)Ue[dt]=arguments[dt];P||(P=!0,i.apply(null,Ue))}function he(Ue){g=setTimeout(function(){g=null,s(fe,T())},Ue)}function fe(Ue){for(var dt=[],at=1;at<arguments.length;at++)dt[at-1]=arguments[at];if(!P){if(Ue)return void Q.call.apply(Q,(0,At.ev)([null,Ue],dt));var ht;if(T()||y)return void Q.call.apply(Q,(0,At.ev)([null,Ue],dt));f<64&&(f*=2),1===D?(D=2,ht=0):ht=1e3*(f+Math.random()),he(ht)}}var Ie=!1;function De(Ue){Ie||(Ie=!0,!P&&(null!==g?(Ue||(D=2),clearTimeout(g),he(0)):Ue||(D=1)))}return he(0),setTimeout(function(){y=!0,De(!0)},o),De}(function(g,y){if(y)g(!1,new So(!1,null,!0));else{var D=i.pool_.createConnection();i.pendingConnection_=D,null!==i.progressCallback_&&D.addUploadProgressListener(T),D.send(i.url_,i.method_,i.body_,i.headers_).then(function(){null!==i.progressCallback_&&D.removeUploadProgressListener(T),i.pendingConnection_=null;var P=D.getErrorCode()===Vi.NO_ERROR,Q=D.getStatus();if(P&&!i.isRetryStatusCode_(Q)){var fe=-1!==i.successCodes_.indexOf(Q);g(!0,new So(fe,D))}else{var he=D.getErrorCode()===Vi.ABORT;g(!1,new So(!1,null,he))}})}function T(P){null!==i.progressCallback_&&i.progressCallback_(P.loaded,P.lengthComputable?P.total:-1)}},f,this.timeout_)},s.prototype.getPromise=function(){return this.promise_},s.prototype.cancel=function(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function(s){s(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},s.prototype.isRetryStatusCode_=function(i){var o=i>=500&&i<600,g=-1!==[408,429].indexOf(i),y=-1!==this.additionalRetryCodes_.indexOf(i);return o||g||y},s}(),So=function(i,o,f){this.wasSuccessCode=i,this.connection=o,this.canceled=!!f};function Ln(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ea(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var o=Ln();if(void 0!==o){for(var f=new o,g=0;g<s.length;g++)f.append(s[g]);return f.getBlob()}if(ji())return new Blob(s);throw new Qt("unsupported-environment","This browser doesn't seem to support creating Blobs")}var cs=function(){function s(i,o){var f=0,g="";Tc(i)?(this.data_=i,f=i.size,g=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),f=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),f=i.length),this.size_=f,this.type_=g}return s.prototype.size=function(){return this.size_},s.prototype.type=function(){return this.type_},s.prototype.slice=function(i,o){if(Tc(this.data_)){var g=function(s,i,o){return s.webkitSlice?s.webkitSlice(i,o):s.mozSlice?s.mozSlice(i,o):s.slice?s.slice(i,o):null}(this.data_,i,o);return null===g?null:new s(g)}return new s(new Uint8Array(this.data_.buffer,i,o-i),!0)},s.getBlob=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(ji()){var f=i.map(function(P){return P instanceof s?P.data_:P});return new s(ea.apply(null,f))}var g=i.map(function(P){return za(P)?li(kn.RAW,P).data:P.data_}),y=0;g.forEach(function(P){y+=P.byteLength});var D=new Uint8Array(y),T=0;return g.forEach(function(P){for(var Q=0;Q<P.length;Q++)D[T++]=P[Q]}),new s(D,!0)},s.prototype.uploadData=function(){return this.data_},s}();function It(s){var i;try{i=JSON.parse(s)}catch(o){return null}return function(s){return"object"==typeof s&&!Array.isArray(s)}(i)?i:null}function ta(s){var i=s.lastIndexOf("/",s.length-2);return-1===i?s:s.slice(i+1)}function Bi(s,i){return i}var Vn=function(i,o,f,g){this.server=i,this.local=o||i,this.writable=!!f,this.xform=g||Bi},Qa=null;function Ka(){if(Qa)return Qa;var s=[];s.push(new Vn("bucket")),s.push(new Vn("generation")),s.push(new Vn("metageneration")),s.push(new Vn("name","fullPath",!0));var o=new Vn("name");o.xform=function(y,D){return function(s){return!za(s)||s.length<2?s:ta(s)}(D)},s.push(o);var g=new Vn("size");return g.xform=function(y,D){return void 0!==D?Number(D):D},s.push(g),s.push(new Vn("timeCreated")),s.push(new Vn("updated")),s.push(new Vn("md5Hash",null,!0)),s.push(new Vn("cacheControl",null,!0)),s.push(new Vn("contentDisposition",null,!0)),s.push(new Vn("contentEncoding",null,!0)),s.push(new Vn("contentLanguage",null,!0)),s.push(new Vn("contentType",null,!0)),s.push(new Vn("metadata","customMetadata",!0)),Qa=s}function bf(s,i,o){var f=It(i);return null===f?null:function(s,i,o){for(var f={type:"file"},g=o.length,y=0;y<g;y++){var D=o[y];f[D.local]=D.xform(f,i[D.server])}return function(s,i){Object.defineProperty(s,"ref",{get:function(){var y=new ir(s.bucket,s.fullPath);return i._makeStorageReference(y)}})}(f,s),f}(s,f,o)}function _n(s,i){for(var o={},f=i.length,g=0;g<f;g++){var y=i[g];y.writable&&(o[y.server]=s[y.local])}return JSON.stringify(o)}var Hi="prefixes";var qn=function(i,o,f,g){this.url=i,this.method=o,this.handler=f,this.timeout=g,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function or(s){if(!s)throw rr()}function ra(s,i){return function(f,g){var y=bf(s,g,i);return or(null!==y),y}}function fs(s){return function(o,f){var g;return(g=401===o.getStatus()?o.getResponseText().includes("Firebase App Check token is invalid")?new Qt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Qt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===o.getStatus()?function(s){return new Qt("quota-exceeded","Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(s.bucket):403===o.getStatus()?function(s){return new Qt("unauthorized","User does not have permission to access '"+s+"'.")}(s.path):f).serverResponse=f.serverResponse,g}}function ia(s){var i=fs(s);return function(f,g){var y=i(f,g);return 404===f.getStatus()&&(y=function(s){return new Qt("object-not-found","Object '"+s+"' does not exist.")}(s.path)),y.serverResponse=g.serverResponse,y}}function Pc(s,i,o){var g=vr(i.fullServerUrl(),s.host),D=s.maxOperationRetryTime,T=new qn(g,"GET",ra(s,o),D);return T.errorHandler=ia(i),T}function ol(s,i,o,f,g){var y={};y.prefix=i.isRoot?"":i.path+"/",o&&o.length>0&&(y.delimiter=o),f&&(y.pageToken=f),g&&(y.maxResults=g);var T=vr(i.bucketOnlyServerUrl(),s.host),Q=s.maxOperationRetryTime,he=new qn(T,"GET",function(s,i){return function(f,g){var y=function(s,i,o){var f=It(o);return null===f?null:function(s,i,o){var f={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[Hi])for(var g=0,y=o[Hi];g<y.length;g++){var T=y[g].replace(/\/$/,""),P=s._makeStorageReference(new ir(i,T));f.prefixes.push(P)}if(o.items)for(var Q=0,he=o.items;Q<he.length;Q++)P=s._makeStorageReference(new ir(i,he[Q].name)),f.items.push(P);return f}(s,i,f)}(s,i,g);return or(null!==y),y}}(s,i.bucket),Q);return he.urlParams=y,he.errorHandler=fs(i),he}function qa(s,i,o){var f=Object.assign({},o);return f.fullPath=s.path,f.size=i.size(),f.contentType||(f.contentType=function(s,i){return i&&i.type()||"application/octet-stream"}(0,i)),f}var Za=function(i,o,f,g){this.current=i,this.total=o,this.finalized=!!f,this.metadata=g||null};function Fc(s,i){var o=null;try{o=s.getResponseHeader("X-Goog-Upload-Status")}catch(g){or(!1)}return or(!!o&&-1!==(i||["active"]).indexOf(o)),o}var hs=function(i,o,f){if(function(s){return"function"==typeof s}(i)||null!=o||null!=f)this.next=i,this.error=o,this.complete=f;else{var y=i;this.next=y.next,this.error=y.error,this.complete=y.complete}};function ps(s){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Promise.resolve().then(function(){return s.apply(void 0,i)})}}var Vc=function(){function s(i,o,f){var g=this;void 0===f&&(f=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=o,this._metadata=f,this._mappings=Ka(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(y){g._request=void 0,g._chunkMultiplier=1,y._codeEquals("canceled")?(g._needToFetchStatus=!0,g.completeTransitions_()):(g._error=y,g._transition("error"))},this._metadataErrorHandler=function(y){g._request=void 0,y._codeEquals("canceled")?g.completeTransitions_():(g._error=y,g._transition("error"))},this._promise=new Promise(function(y,D){g._resolve=y,g._reject=D,g._start()}),this._promise.then(null,function(){})}return s.prototype._makeProgressCallback=function(){var i=this,o=this._transferred;return function(f){return i._updateProgress(o+f)}},s.prototype._shouldDoResumable=function(i){return i.size()>262144},s.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},s.prototype._resolveToken=function(i){var o=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(f){var g=f[0],y=f[1];switch(o._state){case"running":i(g,y);break;case"canceling":o._transition("canceled");break;case"pausing":o._transition("paused")}})},s.prototype._createResumable=function(){var i=this;this._resolveToken(function(o,f){var g=function(s,i,o,f,g){var y=i.bucketOnlyServerUrl(),D=qa(i,f,g),T={name:D.fullPath},P=vr(y,s.host),he={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+f.size(),"X-Goog-Upload-Header-Content-Type":D.contentType,"Content-Type":"application/json; charset=utf-8"},fe=_n(D,o),Ue=new qn(P,"POST",function(dt){var at;Fc(dt);try{at=dt.getResponseHeader("X-Goog-Upload-URL")}catch(Bt){or(!1)}return or(za(at)),at},s.maxUploadRetryTime);return Ue.urlParams=T,Ue.headers=he,Ue.body=fe,Ue.errorHandler=fs(i),Ue}(i._ref.storage,i._ref._location,i._mappings,i._blob,i._metadata),y=i._ref.storage._makeRequest(g,o,f);i._request=y,y.getPromise().then(function(D){i._request=void 0,i._uploadUrl=D,i._needToFetchStatus=!1,i.completeTransitions_()},i._errorHandler)})},s.prototype._fetchStatus=function(){var i=this,o=this._uploadUrl;this._resolveToken(function(f,g){var y=function(s,i,o,f){var P=new qn(o,"POST",function(Q){var he=Fc(Q,["active","final"]),fe=null;try{fe=Q.getResponseHeader("X-Goog-Upload-Size-Received")}catch(De){or(!1)}fe||or(!1);var Ie=Number(fe);return or(!isNaN(Ie)),new Za(Ie,f.size(),"final"===he)},s.maxUploadRetryTime);return P.headers={"X-Goog-Upload-Command":"query"},P.errorHandler=fs(i),P}(i._ref.storage,i._ref._location,o,i._blob),D=i._ref.storage._makeRequest(y,f,g);i._request=D,D.getPromise().then(function(T){T=T,i._request=void 0,i._updateProgress(T.current),i._needToFetchStatus=!1,T.finalized&&(i._needToFetchMetadata=!0),i.completeTransitions_()},i._errorHandler)})},s.prototype._continueUpload=function(){var i=this,o=262144*this._chunkMultiplier,f=new Za(this._transferred,this._blob.size()),g=this._uploadUrl;this._resolveToken(function(y,D){var T;try{T=function(s,i,o,f,g,y,D,T){var P=new Za(0,0);if(D?(P.current=D.current,P.total=D.total):(P.current=0,P.total=f.size()),f.size()!==P.total)throw new Qt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var Q=P.total-P.current,he=Q;g>0&&(he=Math.min(he,g));var fe=P.current,Ue={"X-Goog-Upload-Command":he===Q?"upload, finalize":"upload","X-Goog-Upload-Offset":""+P.current},dt=f.slice(fe,fe+he);if(null===dt)throw Wa();var Et=new qn(o,"POST",function(cn,Tt){var gi,pi=Fc(cn,["active","final"]),pd=P.current+he,Fl=f.size();return gi="final"===pi?ra(i,y)(cn,Tt):null,new Za(pd,Fl,"final"===pi,gi)},i.maxUploadRetryTime);return Et.headers=Ue,Et.body=dt.uploadData(),Et.progressCallback=T||null,Et.errorHandler=fs(s),Et}(i._ref._location,i._ref.storage,g,i._blob,o,i._mappings,f,i._makeProgressCallback())}catch(Q){return i._error=Q,void i._transition("error")}var P=i._ref.storage._makeRequest(T,y,D);i._request=P,P.getPromise().then(function(Q){i._increaseMultiplier(),i._request=void 0,i._updateProgress(Q.current),Q.finalized?(i._metadata=Q.metadata,i._transition("success")):i.completeTransitions_()},i._errorHandler)})},s.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},s.prototype._fetchMetadata=function(){var i=this;this._resolveToken(function(o,f){var g=Pc(i._ref.storage,i._ref._location,i._mappings),y=i._ref.storage._makeRequest(g,o,f);i._request=y,y.getPromise().then(function(D){i._request=void 0,i._metadata=D,i._transition("success")},i._metadataErrorHandler)})},s.prototype._oneShotUpload=function(){var i=this;this._resolveToken(function(o,f){var g=function(s,i,o,f,g){var y=i.bucketOnlyServerUrl(),D={"X-Goog-Upload-Protocol":"multipart"},P=function(){for(var Et="",cn=0;cn<2;cn++)Et+=Math.random().toString().slice(2);return Et}();D["Content-Type"]="multipart/related; boundary="+P;var Q=qa(i,f,g),he=_n(Q,o),De=cs.getBlob("--"+P+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+he+"\r\n--"+P+"\r\nContent-Type: "+Q.contentType+"\r\n\r\n",f,"\r\n--"+P+"--");if(null===De)throw Wa();var Ue={name:Q.fullPath},dt=vr(y,s.host),Bt=s.maxUploadRetryTime,ht=new qn(dt,"POST",ra(s,o),Bt);return ht.urlParams=Ue,ht.headers=D,ht.body=De.uploadData(),ht.errorHandler=fs(i),ht}(i._ref.storage,i._ref._location,i._mappings,i._blob,i._metadata),y=i._ref.storage._makeRequest(g,o,f);i._request=y,y.getPromise().then(function(D){i._request=void 0,i._metadata=D,i._updateProgress(i._blob.size()),i._transition("success")},i._errorHandler)})},s.prototype._updateProgress=function(i){var o=this._transferred;this._transferred=i,this._transferred!==o&&this._notifyObservers()},s.prototype._transition=function(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":var o="paused"===this._state;this._state=i,o&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=Ku(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}},s.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(s.prototype,"snapshot",{get:function(){var i=tl(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),s.prototype.on=function(i,o,f,g){var y=this,D=new hs(o,f,g);return this._addObserver(D),function(){y._removeObserver(D)}},s.prototype.then=function(i,o){return this._promise.then(i,o)},s.prototype.catch=function(i){return this.then(null,i)},s.prototype._addObserver=function(i){this._observers.push(i),this._notifyObserver(i)},s.prototype._removeObserver=function(i){var o=this._observers.indexOf(i);-1!==o&&this._observers.splice(o,1)},s.prototype._notifyObservers=function(){var i=this;this._finishPromise(),this._observers.slice().forEach(function(f){i._notifyObserver(f)})},s.prototype._finishPromise=function(){if(void 0!==this._resolve){var i=!0;switch(tl(this._state)){case Rn.SUCCESS:ps(this._resolve.bind(null,this.snapshot))();break;case Rn.CANCELED:case Rn.ERROR:ps(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}},s.prototype._notifyObserver=function(i){switch(tl(this._state)){case Rn.RUNNING:case Rn.PAUSED:i.next&&ps(i.next.bind(i,this.snapshot))();break;case Rn.SUCCESS:i.complete&&ps(i.complete.bind(i))();break;case Rn.CANCELED:case Rn.ERROR:i.error&&ps(i.error.bind(i,this._error))();break;default:i.error&&ps(i.error.bind(i,this._error))()}},s.prototype.resume=function(){var i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i},s.prototype.pause=function(){var i="running"===this._state;return i&&this._transition("pausing"),i},s.prototype.cancel=function(){var i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i},s}(),Xa=function(){function s(i,o){this._service=i,this._location=o instanceof ir?o:ir.makeFromUrl(o,i.host)}return s.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},s.prototype._newRef=function(i,o){return new s(i,o)},Object.defineProperty(s.prototype,"root",{get:function(){var i=new ir(this._location.bucket,"");return this._newRef(this._service,i)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return ta(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var i=function(s){if(0===s.length)return null;var i=s.lastIndexOf("/");return-1===i?"":s.slice(0,i)}(this._location.path);if(null===i)return null;var o=new ir(this._location.bucket,i);return new s(this._service,o)},enumerable:!1,configurable:!0}),s.prototype._throwIfRoot=function(i){if(""===this._location.path)throw Ec(i)},s}();function Or(s){var i={prefixes:[],items:[]};return oa(s,i).then(function(){return i})}function oa(s,i,o){return(0,At.mG)(this,void 0,void 0,function(){var g,y,D;return(0,At.Jh)(this,function(T){switch(T.label){case 0:return[4,Un(s,{pageToken:o})];case 1:return g=T.sent(),(y=i.prefixes).push.apply(y,g.prefixes),(D=i.items).push.apply(D,g.items),null==g.nextPageToken?[3,3]:[4,oa(s,i,g.nextPageToken)];case 2:T.sent(),T.label=3;case 3:return[2]}})})}function Un(s,i){return(0,At.mG)(this,void 0,void 0,function(){var o,f;return(0,At.Jh)(this,function(g){switch(g.label){case 0:return null!=i&&"number"==typeof i.maxResults&&To("options.maxResults",1,1e3,i.maxResults),f=ol(s.storage,s._location,"/",(o=i||{}).pageToken,o.maxResults),[4,s.storage.makeRequestWithTokens(f)];case 1:return[2,g.sent().getPromise()]}})})}function Uc(s){return(0,At.mG)(this,void 0,void 0,function(){var i;return(0,At.Jh)(this,function(o){switch(o.label){case 0:return s._throwIfRoot("getDownloadURL"),i=function(s,i,o){var g=vr(i.fullServerUrl(),s.host),D=s.maxOperationRetryTime,T=new qn(g,"GET",function(s,i){return function(f,g){var y=bf(s,g,i);return or(null!==y),function(s,i,o){var f=It(i);if(null===f||!za(f.downloadTokens))return null;var g=f.downloadTokens;if(0===g.length)return null;var y=encodeURIComponent;return g.split(",").map(function(P){var he=s.fullPath;return vr("/b/"+y(s.bucket)+"/o/"+y(he),o)+yf({alt:"media",token:P})})[0]}(y,g,s.host)}}(s,o),D);return T.errorHandler=ia(i),T}(s.storage,s._location,Ka()),[4,s.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise().then(function(f){if(null===f)throw new Qt("no-download-url","The given file does not have any download URLs.");return f})]}})})}function Af(s,i){var o=function(s,i){var o=i.split("/").filter(function(f){return f.length>0}).join("/");return 0===s.length?o:s+"/"+o}(s._location.path,i),f=new ir(s._location.bucket,o);return new Xa(s.storage,f)}function eu(s){return/^[A-Za-z]+:\/\//.test(s)}function Bc(s,i){if(s instanceof al){var o=s;if(null==o._bucket)throw new Qt("no-default-bucket","No default bucket found. Did you set the '"+Li+"' property when initializing the app?");var f=new Xa(o,o._bucket);return null!=i?Bc(f,i):f}return void 0!==i?Af(s,i):s}function xf(s,i){if(i&&eu(i)){if(s instanceof al)return function(s,i){return new Xa(s,i)}(s,i);throw Mr("To use ref(service, url), the first argument must be a Storage instance.")}return Bc(s,i)}function Ro(s,i){var o=null==i?void 0:i[Li];return null==o?null:ir.makeFromBucketSpec(o,s)}var al=function(){function s(i,o,f,g,y,D){this.app=i,this._authProvider=o,this._appCheckProvider=f,this._pool=g,this._url=y,this._firebaseVersion=D,this._bucket=null,this._host=ki,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=y?ir.makeFromBucketSpec(y,this._host):Ro(this._host,this.app.options)}return Object.defineProperty(s.prototype,"host",{get:function(){return this._host},set:function(i){this._host=i,this._bucket=null!=this._url?ir.makeFromBucketSpec(this._url,i):Ro(i,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(i){To("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(i){To("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i},enumerable:!1,configurable:!0}),s.prototype._getAuthToken=function(){return(0,At.mG)(this,void 0,void 0,function(){var i,o;return(0,At.Jh)(this,function(f){switch(f.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(i=this._authProvider.getImmediate({optional:!0}))?[4,i.getToken()]:[3,2];case 1:if(null!==(o=f.sent()))return[2,o.accessToken];f.label=2;case 2:return[2,null]}})})},s.prototype._getAppCheckToken=function(){return(0,At.mG)(this,void 0,void 0,function(){var i;return(0,At.Jh)(this,function(f){switch(f.label){case 0:return(i=this._appCheckProvider.getImmediate({optional:!0}))?[4,i.getToken()]:[3,2];case 1:return[2,f.sent().token];case 2:return[2,null]}})})},s.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(i){return i.cancel()}),this._requests.clear()),Promise.resolve()},s.prototype._makeStorageReference=function(i){return new Xa(this,i)},s.prototype._makeRequest=function(i,o,f){var g=this;if(this._deleted)return new mr(ui());var y=function(s,i,o,f,g,y){var D=yf(s.urlParams),T=s.url+D,P=Object.assign({},s.headers);return function(s,i){i&&(s["X-Firebase-GMPID"]=i)}(P,i),function(s,i){null!==i&&i.length>0&&(s.Authorization="Firebase "+i)}(P,o),function(s,i){s["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(P,y),function(s,i){null!==i&&(s["X-Firebase-AppCheck"]=i)}(P,f),new up(T,s.method,P,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,g)}(i,this._appId,o,f,this._pool,this._firebaseVersion);return this._requests.add(y),y.getPromise().then(function(){return g._requests.delete(y)},function(){return g._requests.delete(y)}),y},s.prototype.makeRequestWithTokens=function(i){return(0,At.mG)(this,void 0,void 0,function(){var o;return(0,At.Jh)(this,function(y){switch(y.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return o=y.sent(),[2,this._makeRequest(i,o[0],o[1])]}})})},s}();function ci(s,i){return xf(s=(0,Kn.m9)(s),i)}var s,i,sa=function(){function s(i,o,f){this._delegate=i,this.task=o,this.ref=f}return Object.defineProperty(s.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),s}(),tu=function(){function s(i,o){this._delegate=i,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(s.prototype,"snapshot",{get:function(){return new sa(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),s.prototype.then=function(i,o){var f=this;return this._delegate.then(function(g){if(i)return i(new sa(g,f,f._ref))},o)},s.prototype.on=function(i,o,f,g){var y=this,D=void 0;return o&&(D="function"==typeof o?function(T){return o(new sa(T,y,y._ref))}:{next:o.next?function(T){return o.next(new sa(T,y,y._ref))}:void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(i,D,f||void 0,g||void 0)},s}(),nu=function(){function s(i,o){this._delegate=i,this._service=o}return Object.defineProperty(s.prototype,"prefixes",{get:function(){var i=this;return this._delegate.prefixes.map(function(o){return new gs(o,i._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"items",{get:function(){var i=this;return this._delegate.items.map(function(o){return new gs(o,i._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),s}(),gs=function(){function s(i,o){this._delegate=i,this.storage=o}return Object.defineProperty(s.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),s.prototype.toString=function(){return this._delegate.toString()},s.prototype.child=function(i){return new s(function(s,i){return Af(s,i)}(this._delegate,i),this.storage)},Object.defineProperty(s.prototype,"root",{get:function(){return new s(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var i=this._delegate.parent;return null==i?null:new s(i,this.storage)},enumerable:!1,configurable:!0}),s.prototype.put=function(i,o){return this._throwIfRoot("put"),new tu(function(s,i,o){return function(s,i,o){return s._throwIfRoot("uploadBytesResumable"),new Vc(s,new cs(i),o)}(s=(0,Kn.m9)(s),i,o)}(this._delegate,i,o),this)},s.prototype.putString=function(i,o,f){void 0===o&&(o=kn.RAW),this._throwIfRoot("putString");var g=li(o,i),y=(0,At.pi)({},f);return null==y.contentType&&null!=g.contentType&&(y.contentType=g.contentType),new tu(new Vc(this._delegate,new cs(g.data,!0),y),this)},s.prototype.listAll=function(){var i=this;return function(s){return Or(s=(0,Kn.m9)(s))}(this._delegate).then(function(o){return new nu(o,i.storage)})},s.prototype.list=function(i){var o=this;return function(s,i){return Un(s=(0,Kn.m9)(s),i)}(this._delegate,i||void 0).then(function(f){return new nu(f,o.storage)})},s.prototype.getMetadata=function(){return function(s){return function(s){return(0,At.mG)(this,void 0,void 0,function(){var i;return(0,At.Jh)(this,function(o){switch(o.label){case 0:return s._throwIfRoot("getMetadata"),i=Pc(s.storage,s._location,Ka()),[4,s.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}(s=(0,Kn.m9)(s))}(this._delegate)},s.prototype.updateMetadata=function(i){return function(s,i){return function(s,i){return(0,At.mG)(this,void 0,void 0,function(){var o;return(0,At.Jh)(this,function(f){switch(f.label){case 0:return s._throwIfRoot("updateMetadata"),o=function(s,i,o,f){var y=vr(i.fullServerUrl(),s.host),T=_n(o,f),Q=s.maxOperationRetryTime,he=new qn(y,"PATCH",ra(s,f),Q);return he.headers={"Content-Type":"application/json; charset=utf-8"},he.body=T,he.errorHandler=ia(i),he}(s.storage,s._location,i,Ka()),[4,s.storage.makeRequestWithTokens(o)];case 1:return[2,f.sent().getPromise()]}})})}(s=(0,Kn.m9)(s),i)}(this._delegate,i)},s.prototype.getDownloadURL=function(){return function(s){return Uc(s=(0,Kn.m9)(s))}(this._delegate)},s.prototype.delete=function(){return this._throwIfRoot("delete"),function(s){return function(s){return(0,At.mG)(this,void 0,void 0,function(){var i;return(0,At.Jh)(this,function(o){switch(o.label){case 0:return s._throwIfRoot("deleteObject"),i=function(s,i){var f=vr(i.fullServerUrl(),s.host),T=new qn(f,"DELETE",function(P,Q){},s.maxOperationRetryTime);return T.successCodes=[200,204],T.errorHandler=ia(i),T}(s.storage,s._location),[4,s.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}(s=(0,Kn.m9)(s))}(this._delegate)},s.prototype._throwIfRoot=function(i){if(""===this._delegate._location.path)throw Ec(i)},s}(),fp=function(){function s(i,o){this.app=i,this._delegate=o}return Object.defineProperty(s.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),s.prototype.ref=function(i){if(eu(i))throw Mr("ref() expected a child path but got a URL, use refFromURL instead.");return new gs(ci(this._delegate,i),this)},s.prototype.refFromURL=function(i){if(!eu(i))throw Mr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ir.makeFromUrl(i,this._delegate.host)}catch(o){throw Mr("refFromUrl() expected a valid full URL but got an invalid one.")}return new gs(ci(this._delegate,i),this)},s.prototype.setMaxUploadRetryTime=function(i){this._delegate.maxUploadRetryTime=i},s.prototype.setMaxOperationRetryTime=function(i){this._delegate.maxOperationRetryTime=i},s.prototype.useEmulator=function(i,o,f){void 0===f&&(f={}),function(s,i,o,f){void 0===f&&(f={}),function(s,i,o,f){void 0===f&&(f={}),s.host="http://"+i+":"+o;var g=f.mockUserToken;g&&(s._overrideAuthToken="string"==typeof g?g:(0,Kn.Sg)(g,s.app.options.projectId))}(s,i,o,f)}(this._delegate,i,o,f)},s}();function zc(s){const i=function(s){return new zn.y(i=>{const o=D=>i.next(D);o(s.snapshot);const y=s.on("state_changed",o);return s.then(D=>{o(D),i.complete()},D=>{o(s.snapshot),(D=>{i.error(D)})(D)}),function(){y()}}).pipe(function(s,i=zs.P){return o=>o.lift(new Ba(s,i))}(0))}(s);return{task:s,then:s.then.bind(s),catch:s.catch.bind(s),pause:s.pause.bind(s),cancel:s.cancel.bind(s),resume:s.resume.bind(s),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,yt.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function ru(s,i,o){return{getDownloadURL:()=>(0,Ge.of)(void 0).pipe((0,_o.QV)(i.outsideAngular),on(()=>s.getDownloadURL()),o),getMetadata:()=>(0,Ge.of)(void 0).pipe((0,_o.QV)(i.outsideAngular),on(()=>s.getMetadata()),o),delete:()=>(0,ln.D)(s.delete()),child:f=>ru(s.child(f),i,o),updateMetadata:f=>(0,ln.D)(s.updateMetadata(f)),put:(f,g)=>zc(s.put(f,g)),putString:(f,g,y)=>zc(s.putString(f,g,y)),listAll:()=>(0,ln.D)(s.listAll())}}i={TaskState:Rn,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:kn,Storage:al,Reference:gs},(s=ai.Z).INTERNAL.registerComponent(new lf.wA("storage",function(s,i){var o=i.instanceIdentifier,f=s.getProvider("app").getImmediate(),g=s.getProvider("auth-internal"),y=s.getProvider("app-check-internal");return new fp(f,new al(f,g,y,new gr,o,ai.Z.SDK_VERSION))},"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),s.registerVersion("@firebase/storage","0.7.0");const Yc=new E.OlP("angularfire2.storageBucket"),Qc=new E.OlP("angularfire2.storage.maxUploadRetryTime"),Kc=new E.OlP("angularfire2.storage.maxOperationRetryTime");let dl=(()=>{class s{constructor(o,f,g,y,D,T,P){this.schedulers=new xt.HU(D),this.keepUnstableUntilFirst=(0,xt.ss)(this.schedulers);const Q=(0,xt.on)(o,D,f);this.storage=(0,xt.sI)(`${Q.name}.storage.${g}`,"AngularFireStorage",Q,()=>{const he=D.runOutsideAngular(()=>Q.storage(g||void 0));return T&&he.setMaxUploadRetryTime(T),P&&he.setMaxOperationRetryTime(P),he},[T,P])}ref(o){return ru(this.storage.ref(o),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(o){return ru(this.storage.refFromURL(o),this.schedulers,this.keepUnstableUntilFirst)}upload(o,f,g){return ru(this.storage.ref(o),this.schedulers,this.keepUnstableUntilFirst).put(f,g)}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(xt.Dh),E.LFG(xt.xv,8),E.LFG(Yc,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Qc,8),E.LFG(Kc,8))},s.\u0275prov=E.Yz7({factory:function(){return new s(E.LFG(xt.Dh),E.LFG(xt.xv,8),E.LFG(Yc,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Qc,8),E.LFG(Kc,8))},token:s,providedIn:"any"}),s})(),u=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=E.oAB({type:s}),s.\u0275inj=E.cJS({}),s})(),a=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=E.oAB({type:s}),s.\u0275inj=E.cJS({providers:[dl],imports:[u]}),s})();class c extends Ot.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const o=super._subscribe(i);return o&&!o.closed&&i.next(this._value),o}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gc.N;return this._value}next(i){super.next(this._value=i)}}var h=k(4869),v=k(9796),C=k(6693);const w={};class M{constructor(i){this.resultSelector=i}call(i,o){return o.subscribe(new O(i,this.resultSelector))}}class O extends mo{constructor(i,o){super(i),this.resultSelector=o,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(w),this.observables.push(i)}_complete(){const i=this.observables,o=i.length;if(0===o)this.destination.complete();else{this.active=o,this.toRespond=o;for(let f=0;f<o;f++)this.add(vo(this,i[f],void 0,f))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,o,f){const g=this.values,D=this.toRespond?g[f]===w?--this.toRespond:this.toRespond:0;g[f]=o,0===D&&(this.resultSelector?this._tryResultSelector(g):this.destination.next(g.slice()))}_tryResultSelector(i){let o;try{o=this.resultSelector.apply(this,i)}catch(f){return void this.destination.error(f)}this.destination.next(o)}}var L=k(3282);function de(...s){return(0,L.J)(1)((0,Ge.of)(...s))}function ye(s){return new zn.y(i=>{let o;try{o=s()}catch(g){return void i.error(g)}return(o?(0,ln.D)(o):(0,xi.c)()).subscribe(i)})}var Se=k(2441);function Fe(s){return function(o){const f=new et(s),g=o.lift(f);return f.caught=g}}class et{constructor(i){this.selector=i}call(i,o){return o.subscribe(new sn(i,this.selector,this.caught))}}class sn extends go.Ds{constructor(i,o,f){super(i),this.selector=o,this.caught=f}error(i){if(!this.isStopped){let o;try{o=this.selector(i,this.caught)}catch(y){return void super.error(y)}this._unsubscribeAndRecycle();const f=new go.IY(this);this.add(f);const g=(0,go.ft)(o,f);g!==f&&this.add(g)}}}var Kt=k(9773);function Qr(s,i){return(0,Kt.zg)(s,i,1)}function vs(s){return function(o){return 0===s?(0,xi.c)():o.lift(new aa(s))}}class aa{constructor(i){if(this.total=i,this.total<0)throw new Ys}call(i,o){return o.subscribe(new ua(i,this.total))}}class ua extends hr.L{constructor(i,o){super(i),this.total=o,this.ring=new Array,this.count=0}_next(i){const o=this.ring,f=this.total,g=this.count++;o.length<f?o.push(i):o[g%f]=i}_complete(){const i=this.destination;let o=this.count;if(o>0){const f=this.count>=this.total?this.total:this.count,g=this.ring;for(let y=0;y<f;y++){const D=o++%f;i.next(g[D])}}i.complete()}}var _r=k(3342),zg=k(1307);class hp{constructor(i){this.callback=i}call(i,o){return o.subscribe(new Nf(i,this.callback))}}class Nf extends hr.L{constructor(i,o){super(i),this.add(new Vu.w(o))}}class Wi{constructor(i,o){this.id=i,this.url=o}}class pp extends Wi{constructor(i,o,f="imperative",g=null){super(i,o),this.navigationTrigger=f,this.restoredState=g}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class iu extends Wi{constructor(i,o,f){super(i,o),this.urlAfterRedirects=f}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gp extends Wi{constructor(i,o,f){super(i,o),this.reason=f}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mp extends Wi{constructor(i,o,f){super(i,o),this.error=f}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qg extends Wi{constructor(i,o,f,g){super(i,o),this.urlAfterRedirects=f,this.state=g}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kg extends Wi{constructor(i,o,f,g){super(i,o),this.urlAfterRedirects=f,this.state=g}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends Wi{constructor(i,o,f,g,y){super(i,o),this.urlAfterRedirects=f,this.state=g,this.shouldActivate=y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qg extends Wi{constructor(i,o,f,g){super(i,o),this.urlAfterRedirects=f,this.state=g}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vp extends Wi{constructor(i,o,f,g){super(i,o),this.urlAfterRedirects=f,this.state=g}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _p{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yp{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zg{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jg{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cp{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xg{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ep{constructor(i,o,f){this.routerEvent=i,this.position=o,this.anchor=f}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class tt{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const o=this.params[i];return Array.isArray(o)?o[0]:o}return null}getAll(i){if(this.has(i)){const o=this.params[i];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function ou(s){return new tt(s)}const Ff="ngNavigationCancelingError";function su(s){const i=Error("NavigationCancelingError: "+s);return i[Ff]=!0,i}function bp(s,i,o){const f=o.path.split("/");if(f.length>s.length||"full"===o.pathMatch&&(i.hasChildren()||f.length<s.length))return null;const g={};for(let y=0;y<f.length;y++){const D=f[y],T=s[y];if(D.startsWith(":"))g[D.substring(1)]=T;else if(D!==T.path)return null}return{consumed:s.slice(0,f.length),posParams:g}}function Kr(s,i){const o=s?Object.keys(s):void 0,f=i?Object.keys(i):void 0;if(!o||!f||o.length!=f.length)return!1;let g;for(let y=0;y<o.length;y++)if(g=o[y],!Gi(s[g],i[g]))return!1;return!0}function Gi(s,i){if(Array.isArray(s)&&Array.isArray(i)){if(s.length!==i.length)return!1;const o=[...s].sort(),f=[...i].sort();return o.every((g,y)=>f[y]===g)}return s===i}function Zc(s){return Array.prototype.concat.apply([],s)}function kf(s){return s.length>0?s[s.length-1]:null}function Zn(s,i){for(const o in s)s.hasOwnProperty(o)&&i(s[o],o)}function hi(s){return(0,E.CqO)(s)?s:(0,E.QGY)(s)?(0,ln.D)(Promise.resolve(s)):(0,Ge.of)(s)}const Mo={exact:function tm(s,i,o){if(!xo(s.segments,i.segments)||!Jc(s.segments,i.segments,o)||s.numberOfChildren!==i.numberOfChildren)return!1;for(const f in i.children)if(!s.children[f]||!tm(s.children[f],i.children[f],o))return!1;return!0},subset:Vf},fl={exact:function(s,i){return Kr(s,i)},subset:function(s,i){return Object.keys(i).length<=Object.keys(s).length&&Object.keys(i).every(o=>Gi(s[o],i[o]))},ignored:()=>!0};function hl(s,i,o){return Mo[o.paths](s.root,i.root,o.matrixParams)&&fl[o.queryParams](s.queryParams,i.queryParams)&&!("exact"===o.fragment&&s.fragment!==i.fragment)}function Vf(s,i,o){return rm(s,i,i.segments,o)}function rm(s,i,o,f){if(s.segments.length>o.length){const g=s.segments.slice(0,o.length);return!(!xo(g,o)||i.hasChildren()||!Jc(g,o,f))}if(s.segments.length===o.length){if(!xo(s.segments,o)||!Jc(s.segments,o,f))return!1;for(const g in i.children)if(!s.children[g]||!Vf(s.children[g],i.children[g],f))return!1;return!0}{const g=o.slice(0,s.segments.length),y=o.slice(s.segments.length);return!!(xo(s.segments,g)&&Jc(s.segments,g,f)&&s.children[mt])&&rm(s.children[mt],i,y,f)}}function Jc(s,i,o){return i.every((f,g)=>fl[o](s[g].parameters,f.parameters))}class au{constructor(i,o,f){this.root=i,this.queryParams=o,this.fragment=f}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return y_.serialize(this)}}class Ct{constructor(i,o){this.segments=i,this.children=o,this.parent=null,Zn(o,(f,g)=>f.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class uu{constructor(i,o){this.path=i,this.parameters=o}get parameterMap(){return this._parameterMap||(this._parameterMap=ou(this.parameters)),this._parameterMap}toString(){return ed(this)}}function xo(s,i){return s.length===i.length&&s.every((o,f)=>o.path===i[f].path)}class wp{}class om{parse(i){const o=new lm(i);return new au(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(i){return`${`/${Xc(i.root,!0)}`}${function(s){const i=Object.keys(s).map(o=>{const f=s[o];return Array.isArray(f)?f.map(g=>`${jf(o)}=${jf(g)}`).join("&"):`${jf(o)}=${jf(f)}`}).filter(o=>!!o);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${function(s){return encodeURI(s)}(i.fragment)}`:""}`}}const y_=new om;function Uf(s){return s.segments.map(i=>ed(i)).join("/")}function Xc(s,i){if(!s.hasChildren())return Uf(s);if(i){const o=s.children[mt]?Xc(s.children[mt],!1):"",f=[];return Zn(s.children,(g,y)=>{y!==mt&&f.push(`${y}:${Xc(g,!1)}`)}),f.length>0?`${o}(${f.join("//")})`:o}{const o=function(s,i){let o=[];return Zn(s.children,(f,g)=>{g===mt&&(o=o.concat(i(f,g)))}),Zn(s.children,(f,g)=>{g!==mt&&(o=o.concat(i(f,g)))}),o}(s,(f,g)=>g===mt?[Xc(s.children[mt],!1)]:[`${g}:${Xc(f,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[mt]?`${Uf(s)}/${o[0]}`:`${Uf(s)}/(${o.join("//")})`}}function sm(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jf(s){return sm(s).replace(/%3B/gi,";")}function Ip(s){return sm(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(s){return decodeURIComponent(s)}function Po(s){return Bf(s.replace(/\+/g,"%20"))}function ed(s){return`${Ip(s.path)}${function(s){return Object.keys(s).map(i=>`;${Ip(i)}=${Ip(s[i])}`).join("")}(s.parameters)}`}const Hf=/^[^\/()?;=#]+/;function pl(s){const i=s.match(Hf);return i?i[0]:""}const $f=/^[^=?&#]+/,_s=/^[^?&#]+/;class lm{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let f={};return this.peekStartsWith("(")&&(f=this.parseParens(!1)),(i.length>0||Object.keys(o).length>0)&&(f[mt]=new Ct(i,o)),f}parseSegment(){const i=pl(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new uu(Bf(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const o=pl(this.remaining);if(!o)return;this.capture(o);let f="";if(this.consumeOptional("=")){const g=pl(this.remaining);g&&(f=g,this.capture(f))}i[Bf(o)]=Bf(f)}parseQueryParam(i){const o=function(s){const i=s.match($f);return i?i[0]:""}(this.remaining);if(!o)return;this.capture(o);let f="";if(this.consumeOptional("=")){const D=function(s){const i=s.match(_s);return i?i[0]:""}(this.remaining);D&&(f=D,this.capture(f))}const g=Po(o),y=Po(f);if(i.hasOwnProperty(g)){let D=i[g];Array.isArray(D)||(D=[D],i[g]=D),D.push(y)}else i[g]=y}parseParens(i){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const f=pl(this.remaining),g=this.remaining[f.length];if("/"!==g&&")"!==g&&";"!==g)throw new Error(`Cannot parse url '${this.url}'`);let y;f.indexOf(":")>-1?(y=f.substr(0,f.indexOf(":")),this.capture(y),this.capture(":")):i&&(y=mt);const D=this.parseChildren();o[y]=1===Object.keys(D).length?D[mt]:new Ct([],D),this.consumeOptional("//")}return o}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class cm{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const o=this.pathFromRoot(i);return o.length>1?o[o.length-2]:null}children(i){const o=gl(i,this._root);return o?o.children.map(f=>f.value):[]}firstChild(i){const o=gl(i,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(i){const o=Wf(i,this._root);return o.length<2?[]:o[o.length-2].children.map(g=>g.value).filter(g=>g!==i)}pathFromRoot(i){return Wf(i,this._root).map(o=>o.value)}}function gl(s,i){if(s===i.value)return i;for(const o of i.children){const f=gl(s,o);if(f)return f}return null}function Wf(s,i){if(s===i.value)return[i];for(const o of i.children){const f=Wf(s,o);if(f.length)return f.unshift(i),f}return[]}class zi{constructor(i,o){this.value=i,this.children=o}toString(){return`TreeNode(${this.value})`}}function ml(s){const i={};return s&&s.children.forEach(o=>i[o.value.outlet]=o),i}class Rp extends cm{constructor(i,o){super(i),this.snapshot=o,td(this,i)}toString(){return this.snapshot.toString()}}function lu(s,i){const o=function(s,i){const D=new Oo([],{},{},"",{},mt,i,null,s.root,-1,{});return new Ap("",new zi(D,[]))}(s,i),f=new c([new uu("",{})]),g=new c({}),y=new c({}),D=new c({}),T=new c(""),P=new ys(f,g,D,T,y,mt,i,o.root);return P.snapshot=o.root,new Rp(new zi(P,[]),o)}class ys{constructor(i,o,f,g,y,D,T,P){this.url=i,this.params=o,this.queryParams=f,this.fragment=g,this.data=y,this.outlet=D,this.component=T,this._futureSnapshot=P}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(i=>ou(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(i=>ou(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function la(s,i="emptyOnly"){const o=s.pathFromRoot;let f=0;if("always"!==i)for(f=o.length-1;f>=1;){const g=o[f],y=o[f-1];if(g.routeConfig&&""===g.routeConfig.path)f--;else{if(y.component)break;f--}}return function(s){return s.reduce((i,o)=>({params:Object.assign(Object.assign({},i.params),o.params),data:Object.assign(Object.assign({},i.data),o.data),resolve:Object.assign(Object.assign({},i.resolve),o._resolvedData)}),{params:{},data:{},resolve:{}})}(o.slice(f))}class Oo{constructor(i,o,f,g,y,D,T,P,Q,he,fe){this.url=i,this.params=o,this.queryParams=f,this.fragment=g,this.data=y,this.outlet=D,this.component=T,this.routeConfig=P,this._urlSegment=Q,this._lastPathIndex=he,this._resolve=fe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(f=>f.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ap extends cm{constructor(i,o){super(o),this.url=i,td(this,o)}toString(){return Gf(this._root)}}function td(s,i){i.value._routerState=s,i.children.forEach(o=>td(s,o))}function Gf(s){const i=s.children.length>0?` { ${s.children.map(Gf).join(", ")} } `:"";return`${s.value}${i}`}function _l(s){if(s.snapshot){const i=s.snapshot,o=s._futureSnapshot;s.snapshot=o,Kr(i.queryParams,o.queryParams)||s.queryParams.next(o.queryParams),i.fragment!==o.fragment&&s.fragment.next(o.fragment),Kr(i.params,o.params)||s.params.next(o.params),function(s,i){if(s.length!==i.length)return!1;for(let o=0;o<s.length;++o)if(!Kr(s[o],i[o]))return!1;return!0}(i.url,o.url)||s.url.next(o.url),Kr(i.data,o.data)||s.data.next(o.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function yl(s,i){return Kr(s.params,i.params)&&function(s,i){return xo(s,i)&&s.every((o,f)=>Kr(o.parameters,i[f].parameters))}(s.url,i.url)&&!(!s.parent!=!i.parent)&&(!s.parent||yl(s.parent,i.parent))}function ca(s,i,o){if(o&&s.shouldReuseRoute(i.value,o.value.snapshot)){const f=o.value;f._futureSnapshot=i.value;const g=function(s,i,o){return i.children.map(f=>{for(const g of o.children)if(s.shouldReuseRoute(f.value,g.value.snapshot))return ca(s,f,g);return ca(s,f)})}(s,i,o);return new zi(f,g)}{if(s.shouldAttach(i.value)){const y=s.retrieve(i.value);if(null!==y){const D=y.route;return xp(i,D),D}}const f=function(s){return new ys(new c(s.url),new c(s.params),new c(s.queryParams),new c(s.fragment),new c(s.data),s.outlet,s.component,s)}(i.value),g=i.children.map(y=>ca(s,y));return new zi(f,g)}}function xp(s,i){if(s.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=s.value;for(let o=0;o<s.children.length;++o)xp(s.children[o],i.children[o])}function Cl(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function El(s){return"object"==typeof s&&null!=s&&s.outlets}function nd(s,i,o,f,g){let y={};return f&&Zn(f,(D,T)=>{y[T]=Array.isArray(D)?D.map(P=>`${P}`):`${D}`}),new au(o.root===s?i:Np(o.root,s,i),y,g)}function Np(s,i,o){const f={};return Zn(s.children,(g,y)=>{f[y]=g===i?o:Np(g,i,o)}),new Ct(s.segments,f)}class Fp{constructor(i,o,f){if(this.isAbsolute=i,this.numberOfDoubleDots=o,this.commands=f,i&&f.length>0&&Cl(f[0]))throw new Error("Root segment cannot have matrix parameters");const g=f.find(El);if(g&&g!==kf(f))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zf{constructor(i,o,f){this.segmentGroup=i,this.processChildren=o,this.index=f}}function Yf(s,i,o){if(s||(s=new Ct([],{})),0===s.segments.length&&s.hasChildren())return Qf(s,i,o);const f=function(s,i,o){let f=0,g=i;const y={match:!1,pathIndex:0,commandIndex:0};for(;g<s.segments.length;){if(f>=o.length)return y;const D=s.segments[g],T=o[f];if(El(T))break;const P=`${T}`,Q=f<o.length-1?o[f+1]:null;if(g>0&&void 0===P)break;if(P&&Q&&"object"==typeof Q&&void 0===Q.outlets){if(!Vp(P,Q,D))return y;f+=2}else{if(!Vp(P,{},D))return y;f++}g++}return{match:!0,pathIndex:g,commandIndex:f}}(s,i,o),g=o.slice(f.commandIndex);if(f.match&&f.pathIndex<s.segments.length){const y=new Ct(s.segments.slice(0,f.pathIndex),{});return y.children[mt]=new Ct(s.segments.slice(f.pathIndex),s.children),Qf(y,0,g)}return f.match&&0===g.length?new Ct(s.segments,{}):f.match&&!s.hasChildren()?bl(s,i,o):f.match?Qf(s,0,g):bl(s,i,o)}function Qf(s,i,o){if(0===o.length)return new Ct(s.segments,{});{const f=function(s){return El(s[0])?s[0].outlets:{[mt]:s}}(o),g={};return Zn(f,(y,D)=>{"string"==typeof y&&(y=[y]),null!==y&&(g[D]=Yf(s.children[D],i,y))}),Zn(s.children,(y,D)=>{void 0===f[D]&&(g[D]=y)}),new Ct(s.segments,g)}}function bl(s,i,o){const f=s.segments.slice(0,i);let g=0;for(;g<o.length;){const y=o[g];if(El(y)){const P=kp(y.outlets);return new Ct(f,P)}if(0===g&&Cl(o[0])){f.push(new uu(s.segments[i].path,Lp(o[0]))),g++;continue}const D=El(y)?y.outlets[mt]:`${y}`,T=g<o.length-1?o[g+1]:null;D&&T&&Cl(T)?(f.push(new uu(D,Lp(T))),g+=2):(f.push(new uu(D,{})),g++)}return new Ct(f,{})}function kp(s){const i={};return Zn(s,(o,f)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[f]=bl(new Ct([],{}),0,o))}),i}function Lp(s){const i={};return Zn(s,(o,f)=>i[f]=`${o}`),i}function Vp(s,i,o){return s==o.path&&Kr(i,o.parameters)}class Up{constructor(i,o,f,g){this.routeReuseStrategy=i,this.futureState=o,this.currState=f,this.forwardEvent=g}activate(i){const o=this.futureState._root,f=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,f,i),_l(this.futureState.root),this.activateChildRoutes(o,f,i)}deactivateChildRoutes(i,o,f){const g=ml(o);i.children.forEach(y=>{const D=y.value.outlet;this.deactivateRoutes(y,g[D],f),delete g[D]}),Zn(g,(y,D)=>{this.deactivateRouteAndItsChildren(y,f)})}deactivateRoutes(i,o,f){const g=i.value,y=o?o.value:null;if(g===y)if(g.component){const D=f.getContext(g.outlet);D&&this.deactivateChildRoutes(i,o,D.children)}else this.deactivateChildRoutes(i,o,f);else y&&this.deactivateRouteAndItsChildren(o,f)}deactivateRouteAndItsChildren(i,o){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,o):this.deactivateRouteAndOutlet(i,o)}detachAndStoreRouteSubtree(i,o){const f=o.getContext(i.value.outlet);if(f&&f.outlet){const g=f.outlet.detach(),y=f.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:g,route:i,contexts:y})}}deactivateRouteAndOutlet(i,o){const f=o.getContext(i.value.outlet),g=f&&i.value.component?f.children:o,y=ml(i);for(const D of Object.keys(y))this.deactivateRouteAndItsChildren(y[D],g);f&&f.outlet&&(f.outlet.deactivate(),f.children.onOutletDeactivated(),f.attachRef=null,f.resolver=null,f.route=null)}activateChildRoutes(i,o,f){const g=ml(o);i.children.forEach(y=>{this.activateRoutes(y,g[y.value.outlet],f),this.forwardEvent(new Xg(y.value.snapshot))}),i.children.length&&this.forwardEvent(new Jg(i.value.snapshot))}activateRoutes(i,o,f){const g=i.value,y=o?o.value:null;if(_l(g),g===y)if(g.component){const D=f.getOrCreateContext(g.outlet);this.activateChildRoutes(i,o,D.children)}else this.activateChildRoutes(i,o,f);else if(g.component){const D=f.getOrCreateContext(g.outlet);if(this.routeReuseStrategy.shouldAttach(g.snapshot)){const T=this.routeReuseStrategy.retrieve(g.snapshot);this.routeReuseStrategy.store(g.snapshot,null),D.children.onOutletReAttached(T.contexts),D.attachRef=T.componentRef,D.route=T.route.value,D.outlet&&D.outlet.attach(T.componentRef,T.route.value),jp(T.route)}else{const T=function(s){for(let i=s.parent;i;i=i.parent){const o=i.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig;if(o&&o.component)return null}return null}(g.snapshot),P=T?T.module.componentFactoryResolver:null;D.attachRef=null,D.route=g,D.resolver=P,D.outlet&&D.outlet.activateWith(g,P),this.activateChildRoutes(i,null,D.children)}}else this.activateChildRoutes(i,null,f)}}function jp(s){_l(s.value),s.children.forEach(jp)}class Kf{constructor(i,o){this.routes=i,this.module=o}}function Cs(s){return"function"==typeof s}function Es(s){return s instanceof au}const Dl=Symbol("INITIAL_VALUE");function rd(){return on(s=>function(...s){let i,o;return(0,h.K)(s[s.length-1])&&(o=s.pop()),"function"==typeof s[s.length-1]&&(i=s.pop()),1===s.length&&(0,v.k)(s[0])&&(s=s[0]),(0,C.n)(s,o).lift(new M(i))}(s.map(i=>i.pipe(Qs(1),function(...s){const i=s[s.length-1];return(0,h.K)(i)?(s.pop(),o=>de(s,o,i)):o=>de(s,o)}(Dl)))).pipe(ts((i,o)=>{let f=!1;return o.reduce((g,y,D)=>g!==Dl?g:(y===Dl&&(f=!0),f||!1!==y&&D!==o.length-1&&!Es(y)?g:y),i)},Dl),Yn(i=>i!==Dl),(0,yt.U)(i=>Es(i)?i:!0===i),Qs(1)))}let Zf=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=E.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(o,f){1&o&&E._UZ(0,"router-outlet")},directives:function(){return[og]},encapsulation:2}),s})();function $p(s,i=""){for(let o=0;o<s.length;o++){const f=s[o];mm(f,vm(i,f))}}function mm(s,i){s.children&&$p(s.children,i)}function vm(s,i){return i?s||i.path?s&&!i.path?`${s}/`:!s&&i.path?i.path:`${s}/${i.path}`:"":s}function wl(s){const i=s.children&&s.children.map(wl),o=i?Object.assign(Object.assign({},s),{children:i}):Object.assign({},s);return!o.component&&(i||o.loadChildren)&&o.outlet&&o.outlet!==mt&&(o.component=Zf),o}function qr(s){return s.outlet||mt}function Wp(s,i){const o=s.filter(f=>qr(f)===i);return o.push(...s.filter(f=>qr(f)!==i)),o}const Il={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function du(s,i,o){var f;if(""===i.path)return"full"===i.pathMatch&&(s.hasChildren()||o.length>0)?Object.assign({},Il):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const y=(i.matcher||bp)(o,s,i);if(!y)return Object.assign({},Il);const D={};Zn(y.posParams,(P,Q)=>{D[Q]=P.path});const T=y.consumed.length>0?Object.assign(Object.assign({},D),y.consumed[y.consumed.length-1].parameters):D;return{matched:!0,consumedSegments:y.consumed,lastChild:y.consumed.length,parameters:T,positionalParamSegments:null!==(f=y.posParams)&&void 0!==f?f:{}}}function id(s,i,o,f,g="corrected"){if(o.length>0&&function(s,i,o){return o.some(f=>od(s,i,f)&&qr(f)!==mt)}(s,o,f)){const D=new Ct(i,function(s,i,o,f){const g={};g[mt]=f,f._sourceSegment=s,f._segmentIndexShift=i.length;for(const y of o)if(""===y.path&&qr(y)!==mt){const D=new Ct([],{});D._sourceSegment=s,D._segmentIndexShift=i.length,g[qr(y)]=D}return g}(s,i,f,new Ct(o,s.children)));return D._sourceSegment=s,D._segmentIndexShift=i.length,{segmentGroup:D,slicedSegments:[]}}if(0===o.length&&function(s,i,o){return o.some(f=>od(s,i,f))}(s,o,f)){const D=new Ct(s.segments,function(s,i,o,f,g,y){const D={};for(const T of f)if(od(s,o,T)&&!g[qr(T)]){const P=new Ct([],{});P._sourceSegment=s,P._segmentIndexShift="legacy"===y?s.segments.length:i.length,D[qr(T)]=P}return Object.assign(Object.assign({},g),D)}(s,i,o,f,s.children,g));return D._sourceSegment=s,D._segmentIndexShift=i.length,{segmentGroup:D,slicedSegments:o}}const y=new Ct(s.segments,s.children);return y._sourceSegment=s,y._segmentIndexShift=i.length,{segmentGroup:y,slicedSegments:o}}function od(s,i,o){return(!(s.hasChildren()||i.length>0)||"full"!==o.pathMatch)&&""===o.path}function sd(s,i,o,f){return!!(qr(s)===f||f!==mt&&od(i,o,s))&&("**"===s.path||du(i,s,o).matched)}function ym(s,i,o){return 0===i.length&&!s.children[o]}class Tl{constructor(i){this.segmentGroup=i||null}}class eh{constructor(i){this.urlTree=i}}function Sl(s){return new zn.y(i=>i.error(new Tl(s)))}function th(s){return new zn.y(i=>i.error(new eh(s)))}function zp(s){return new zn.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class ad{constructor(i,o,f,g,y){this.configLoader=o,this.urlSerializer=f,this.urlTree=g,this.config=y,this.allowRedirects=!0,this.ngModule=i.get(E.h0i)}apply(){const i=id(this.urlTree.root,[],[],this.config).segmentGroup,o=new Ct(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,o,mt).pipe((0,yt.U)(y=>this.createUrlTree(nh(y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(y=>{if(y instanceof eh)return this.allowRedirects=!1,this.match(y.urlTree);throw y instanceof Tl?this.noMatchError(y):y}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,mt).pipe((0,yt.U)(g=>this.createUrlTree(nh(g),i.queryParams,i.fragment))).pipe(Fe(g=>{throw g instanceof Tl?this.noMatchError(g):g}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,o,f){const g=i.segments.length>0?new Ct([],{[mt]:i}):i;return new au(g,o,f)}expandSegmentGroup(i,o,f,g){return 0===f.segments.length&&f.hasChildren()?this.expandChildren(i,o,f).pipe((0,yt.U)(y=>new Ct([],y))):this.expandSegment(i,f,o,f.segments,g,!0)}expandChildren(i,o,f){const g=[];for(const y of Object.keys(f.children))"primary"===y?g.unshift(y):g.push(y);return(0,ln.D)(g).pipe(Qr(y=>{const D=f.children[y],T=Wp(o,y);return this.expandSegmentGroup(i,T,D,y).pipe((0,yt.U)(P=>({segment:P,outlet:y})))}),ts((y,D)=>(y[D.outlet]=D.segment,y),{}),function(s,i){const o=arguments.length>=2;return f=>f.pipe(s?Yn((g,y)=>s(g,y,f)):mc.y,vs(1),o?ii(i):Bu(()=>new Hr))}())}expandSegment(i,o,f,g,y,D){return(0,ln.D)(f).pipe(Qr(T=>this.expandSegmentAgainstRoute(i,o,f,T,g,y,D).pipe(Fe(Q=>{if(Q instanceof Tl)return(0,Ge.of)(null);throw Q}))),Ar(T=>!!T),Fe((T,P)=>{if(T instanceof Hr||"EmptyError"===T.name){if(ym(o,g,y))return(0,Ge.of)(new Ct([],{}));throw new Tl(o)}throw T}))}expandSegmentAgainstRoute(i,o,f,g,y,D,T){return sd(g,o,y,D)?void 0===g.redirectTo?this.matchSegmentAgainstRoute(i,o,g,y,D):T&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,o,f,g,y,D):Sl(o):Sl(o)}expandSegmentAgainstRouteUsingRedirect(i,o,f,g,y,D){return"**"===g.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,f,g,D):this.expandRegularSegmentAgainstRouteUsingRedirect(i,o,f,g,y,D)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,f,g){const y=this.applyRedirectCommands([],f.redirectTo,{});return f.redirectTo.startsWith("/")?th(y):this.lineralizeSegments(f,y).pipe((0,Kt.zg)(D=>{const T=new Ct(D,{});return this.expandSegment(i,T,o,D,g,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,o,f,g,y,D){const{matched:T,consumedSegments:P,lastChild:Q,positionalParamSegments:he}=du(o,g,y);if(!T)return Sl(o);const fe=this.applyRedirectCommands(P,g.redirectTo,he);return g.redirectTo.startsWith("/")?th(fe):this.lineralizeSegments(g,fe).pipe((0,Kt.zg)(Ie=>this.expandSegment(i,o,f,Ie.concat(y.slice(Q)),D,!1)))}matchSegmentAgainstRoute(i,o,f,g,y){if("**"===f.path)return f.loadChildren?(f._loadedConfig?(0,Ge.of)(f._loadedConfig):this.configLoader.load(i.injector,f)).pipe((0,yt.U)(Ie=>(f._loadedConfig=Ie,new Ct(g,{})))):(0,Ge.of)(new Ct(g,{}));const{matched:D,consumedSegments:T,lastChild:P}=du(o,f,g);if(!D)return Sl(o);const Q=g.slice(P);return this.getChildConfig(i,f,g).pipe((0,Kt.zg)(fe=>{const Ie=fe.module,De=fe.routes,{segmentGroup:Ue,slicedSegments:dt}=id(o,T,Q,De),at=new Ct(Ue.segments,Ue.children);if(0===dt.length&&at.hasChildren())return this.expandChildren(Ie,De,at).pipe((0,yt.U)(cn=>new Ct(T,cn)));if(0===De.length&&0===dt.length)return(0,Ge.of)(new Ct(T,{}));const Bt=qr(f)===y;return this.expandSegment(Ie,at,De,dt,Bt?mt:y,!0).pipe((0,yt.U)(Et=>new Ct(T.concat(Et.segments),Et.children)))}))}getChildConfig(i,o,f){return o.children?(0,Ge.of)(new Kf(o.children,i)):o.loadChildren?void 0!==o._loadedConfig?(0,Ge.of)(o._loadedConfig):this.runCanLoadGuards(i.injector,o,f).pipe((0,Kt.zg)(g=>g?this.configLoader.load(i.injector,o).pipe((0,yt.U)(y=>(o._loadedConfig=y,y))):function(s){return new zn.y(i=>i.error(su(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`)))}(o))):(0,Ge.of)(new Kf([],i))}runCanLoadGuards(i,o,f){const g=o.canLoad;if(!g||0===g.length)return(0,Ge.of)(!0);const y=g.map(D=>{const T=i.get(D);let P;if(function(s){return s&&Cs(s.canLoad)}(T))P=T.canLoad(o,f);else{if(!Cs(T))throw new Error("Invalid CanLoad guard");P=T(o,f)}return hi(P)});return(0,Ge.of)(y).pipe(rd(),(0,_r.b)(D=>{if(!Es(D))return;const T=su(`Redirecting to "${this.urlSerializer.serialize(D)}"`);throw T.url=D,T}),(0,yt.U)(D=>!0===D))}lineralizeSegments(i,o){let f=[],g=o.root;for(;;){if(f=f.concat(g.segments),0===g.numberOfChildren)return(0,Ge.of)(f);if(g.numberOfChildren>1||!g.children[mt])return zp(i.redirectTo);g=g.children[mt]}}applyRedirectCommands(i,o,f){return this.applyRedirectCreatreUrlTree(o,this.urlSerializer.parse(o),i,f)}applyRedirectCreatreUrlTree(i,o,f,g){const y=this.createSegmentGroup(i,o.root,f,g);return new au(y,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(i,o){const f={};return Zn(i,(g,y)=>{if("string"==typeof g&&g.startsWith(":")){const T=g.substring(1);f[y]=o[T]}else f[y]=g}),f}createSegmentGroup(i,o,f,g){const y=this.createSegments(i,o.segments,f,g);let D={};return Zn(o.children,(T,P)=>{D[P]=this.createSegmentGroup(i,T,f,g)}),new Ct(y,D)}createSegments(i,o,f,g){return o.map(y=>y.path.startsWith(":")?this.findPosParam(i,y,g):this.findOrReturn(y,f))}findPosParam(i,o,f){const g=f[o.path.substring(1)];if(!g)throw new Error(`Cannot redirect to '${i}'. Cannot find '${o.path}'.`);return g}findOrReturn(i,o){let f=0;for(const g of o){if(g.path===i.path)return o.splice(f),g;f++}return i}}function nh(s){const i={};for(const f of Object.keys(s.children)){const y=nh(s.children[f]);(y.segments.length>0||y.hasChildren())&&(i[f]=y)}return function(s){if(1===s.numberOfChildren&&s.children[mt]){const i=s.children[mt];return new Ct(s.segments.concat(i.segments),i.children)}return s}(new Ct(s.segments,i))}class da{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Rl{constructor(i,o){this.component=i,this.route=o}}function Al(s,i,o){const f=s._root;return fu(f,i?i._root:null,o,[f.value])}function ud(s,i,o){const f=function(s){if(!s)return null;for(let i=s.parent;i;i=i.parent){const o=i.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig}return null}(i);return(f?f.module.injector:o).get(s)}function fu(s,i,o,f,g={canDeactivateChecks:[],canActivateChecks:[]}){const y=ml(i);return s.children.forEach(D=>{(function(s,i,o,f,g={canDeactivateChecks:[],canActivateChecks:[]}){const y=s.value,D=i?i.value:null,T=o?o.getContext(s.value.outlet):null;if(D&&y.routeConfig===D.routeConfig){const P=function(s,i,o){if("function"==typeof o)return o(s,i);switch(o){case"pathParamsChange":return!xo(s.url,i.url);case"pathParamsOrQueryParamsChange":return!xo(s.url,i.url)||!Kr(s.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yl(s,i)||!Kr(s.queryParams,i.queryParams);case"paramsChange":default:return!yl(s,i)}}(D,y,y.routeConfig.runGuardsAndResolvers);P?g.canActivateChecks.push(new da(f)):(y.data=D.data,y._resolvedData=D._resolvedData),fu(s,i,y.component?T?T.children:null:o,f,g),P&&T&&T.outlet&&T.outlet.isActivated&&g.canDeactivateChecks.push(new Rl(T.outlet.component,D))}else D&&xl(i,T,g),g.canActivateChecks.push(new da(f)),fu(s,null,y.component?T?T.children:null:o,f,g)})(D,y[D.value.outlet],o,f.concat([D.value]),g),delete y[D.value.outlet]}),Zn(y,(D,T)=>xl(D,o.getContext(T),g)),g}function xl(s,i,o){const f=ml(s),g=s.value;Zn(f,(y,D)=>{xl(y,g.component?i?i.children.getContext(D):null:i,o)}),o.canDeactivateChecks.push(new Rl(g.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,g))}class pu{}function Zp(s){return new zn.y(i=>i.error(s))}class Sm{constructor(i,o,f,g,y,D){this.rootComponentType=i,this.config=o,this.urlTree=f,this.url=g,this.paramsInheritanceStrategy=y,this.relativeLinkResolution=D}recognize(){const i=id(this.urlTree.root,[],[],this.config.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution).segmentGroup,o=this.processSegmentGroup(this.config,i,mt);if(null===o)return null;const f=new Oo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),g=new zi(f,o),y=new Ap(this.url,g);return this.inheritParamsAndData(y._root),y}inheritParamsAndData(i){const o=i.value,f=la(o,this.paramsInheritanceStrategy);o.params=Object.freeze(f.params),o.data=Object.freeze(f.data),i.children.forEach(g=>this.inheritParamsAndData(g))}processSegmentGroup(i,o,f){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,o):this.processSegment(i,o,o.segments,f)}processChildren(i,o){const f=[];for(const y of Object.keys(o.children)){const D=o.children[y],T=Wp(i,y),P=this.processSegmentGroup(T,D,y);if(null===P)return null;f.push(...P)}const g=oh(f);return function(s){s.sort((i,o)=>i.value.outlet===mt?-1:o.value.outlet===mt?1:i.value.outlet.localeCompare(o.value.outlet))}(g),g}processSegment(i,o,f,g){for(const y of i){const D=this.processSegmentAgainstRoute(y,o,f,g);if(null!==D)return D}return ym(o,f,g)?[]:null}processSegmentAgainstRoute(i,o,f,g){if(i.redirectTo||!sd(i,o,f,g))return null;let y,D=[],T=[];if("**"===i.path){const De=f.length>0?kf(f).parameters:{};y=new Oo(f,De,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qi(i),qr(i),i.component,i,ld(o),Mm(o)+f.length,cd(i))}else{const De=du(o,i,f);if(!De.matched)return null;D=De.consumedSegments,T=f.slice(De.lastChild),y=new Oo(D,De.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qi(i),qr(i),i.component,i,ld(o),Mm(o)+D.length,cd(i))}const P=function(s){return s.children?s.children:s.loadChildren?s._loadedConfig.routes:[]}(i),{segmentGroup:Q,slicedSegments:he}=id(o,D,T,P.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===he.length&&Q.hasChildren()){const De=this.processChildren(P,Q);return null===De?null:[new zi(y,De)]}if(0===P.length&&0===he.length)return[new zi(y,[])];const fe=qr(i)===g,Ie=this.processSegment(P,Q,he,fe?mt:g);return null===Ie?null:[new zi(y,Ie)]}}function Am(s){const i=s.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function oh(s){const i=[],o=new Set;for(const f of s){if(!Am(f)){i.push(f);continue}const g=i.find(y=>f.value.routeConfig===y.value.routeConfig);void 0!==g?(g.children.push(...f.children),o.add(g)):i.push(f)}for(const f of o){const g=oh(f.children);i.push(new zi(f.value,g))}return i.filter(f=>!o.has(f))}function ld(s){let i=s;for(;i._sourceSegment;)i=i._sourceSegment;return i}function Mm(s){let i=s,o=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,o+=i._segmentIndexShift?i._segmentIndexShift:0;return o-1}function Qi(s){return s.data||{}}function cd(s){return s.resolve||{}}function dd(s){return on(i=>{const o=s(i);return o?(0,ln.D)(o).pipe((0,yt.U)(()=>i)):(0,Ge.of)(i)})}class Om extends class{shouldDetach(i){return!1}store(i,o){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,o){return i.routeConfig===o.routeConfig}}{}const ah=new E.OlP("ROUTES");class gu{constructor(i,o,f,g){this.loader=i,this.compiler=o,this.onLoadStartListener=f,this.onLoadEndListener=g}load(i,o){if(o._loader$)return o._loader$;this.onLoadStartListener&&this.onLoadStartListener(o);const g=this.loadModuleFactory(o.loadChildren).pipe((0,yt.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(o);const D=y.create(i);return new Kf(Zc(D.injector.get(ah,void 0,E.XFs.Self|E.XFs.Optional)).map(wl),D)}),Fe(y=>{throw o._loader$=void 0,y}));return o._loader$=new Se.c(g,()=>new Ot.xQ).pipe((0,zg.x)()),o._loader$}loadModuleFactory(i){return"string"==typeof i?(0,ln.D)(this.loader.load(i)):hi(i()).pipe((0,Kt.zg)(o=>o instanceof E.YKP?(0,Ge.of)(o):(0,ln.D)(this.compiler.compileModuleAsync(o))))}}class uh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fa,this.attachRef=null}}class fa{constructor(){this.contexts=new Map}onChildOutletCreated(i,o){const f=this.getOrCreateContext(i);f.outlet=o,this.contexts.set(i,f)}onChildOutletDestroyed(i){const o=this.getContext(i);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let o=this.getContext(i);return o||(o=new uh,this.contexts.set(i,o)),o}getContext(i){return this.contexts.get(i)||null}}class ng{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,o){return i}}function rg(s){throw s}function Nm(s,i,o){return i.parse("/")}function ig(s,i){return(0,Ge.of)(null)}const Fm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},km={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{class s{constructor(o,f,g,y,D,T,P,Q){this.rootComponentType=o,this.urlSerializer=f,this.rootContexts=g,this.location=y,this.config=Q,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ot.xQ,this.errorHandler=rg,this.malformedUriErrorHandler=Nm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ig,afterPreactivation:ig},this.urlHandlingStrategy=new ng,this.routeReuseStrategy=new Om,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=D.get(E.h0i),this.console=D.get(E.c2e);const Ie=D.get(E.R0b);this.isNgZoneEnabled=Ie instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(Q),this.currentUrlTree=new au(new Ct([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gu(T,P,De=>this.triggerEvent(new _p(De)),De=>this.triggerEvent(new yp(De))),this.routerState=lu(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var o;return null===(o=this.location.getState())||void 0===o?void 0:o.\u0275routerPageId}setupNavigations(o){const f=this.events;return o.pipe(Yn(g=>0!==g.id),(0,yt.U)(g=>Object.assign(Object.assign({},g),{extractedUrl:this.urlHandlingStrategy.extract(g.rawUrl)})),on(g=>{let y=!1,D=!1;return(0,Ge.of)(g).pipe((0,_r.b)(T=>{this.currentNavigation={id:T.id,initialUrl:T.currentRawUrl,extractedUrl:T.extractedUrl,trigger:T.source,extras:T.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),on(T=>{const P=this.browserUrlTree.toString(),Q=!this.navigated||T.extractedUrl.toString()!==P||P!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Q)&&this.urlHandlingStrategy.shouldProcessUrl(T.rawUrl))return Pl(T.source)&&(this.browserUrlTree=T.extractedUrl),(0,Ge.of)(T).pipe(on(fe=>{const Ie=this.transitions.getValue();return f.next(new pp(fe.id,this.serializeUrl(fe.extractedUrl),fe.source,fe.restoredState)),Ie!==this.transitions.getValue()?xi.E:Promise.resolve(fe)}),function(s,i,o,f){return on(g=>function(s,i,o,f,g){return new ad(s,i,o,f,g).apply()}(s,i,o,g.extractedUrl,f).pipe((0,yt.U)(y=>Object.assign(Object.assign({},g),{urlAfterRedirects:y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_r.b)(fe=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:fe.urlAfterRedirects})}),function(s,i,o,f,g){return(0,Kt.zg)(y=>function(s,i,o,f,g="emptyOnly",y="legacy"){try{const D=new Sm(s,i,o,f,g,y).recognize();return null===D?Zp(new pu):(0,Ge.of)(D)}catch(D){return Zp(D)}}(s,i,y.urlAfterRedirects,o(y.urlAfterRedirects),f,g).pipe((0,yt.U)(D=>Object.assign(Object.assign({},y),{targetSnapshot:D}))))}(this.rootComponentType,this.config,fe=>this.serializeUrl(fe),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_r.b)(fe=>{"eager"===this.urlUpdateStrategy&&(fe.extras.skipLocationChange||this.setBrowserUrl(fe.urlAfterRedirects,fe),this.browserUrlTree=fe.urlAfterRedirects);const Ie=new Qg(fe.id,this.serializeUrl(fe.extractedUrl),this.serializeUrl(fe.urlAfterRedirects),fe.targetSnapshot);f.next(Ie)}));if(Q&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ie,extractedUrl:De,source:Ue,restoredState:dt,extras:at}=T,Bt=new pp(Ie,this.serializeUrl(De),Ue,dt);f.next(Bt);const ht=lu(De,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},T),{targetSnapshot:ht,urlAfterRedirects:De,extras:Object.assign(Object.assign({},at),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=T.rawUrl,this.browserUrlTree=T.urlAfterRedirects,T.resolve(null),xi.E}),dd(T=>{const{targetSnapshot:P,id:Q,extractedUrl:he,rawUrl:fe,extras:{skipLocationChange:Ie,replaceUrl:De}}=T;return this.hooks.beforePreactivation(P,{navigationId:Q,appliedUrlTree:he,rawUrlTree:fe,skipLocationChange:!!Ie,replaceUrl:!!De})}),(0,_r.b)(T=>{const P=new Kg(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(P)}),(0,yt.U)(T=>Object.assign(Object.assign({},T),{guards:Al(T.targetSnapshot,T.currentSnapshot,this.rootContexts)})),function(s,i){return(0,Kt.zg)(o=>{const{targetSnapshot:f,currentSnapshot:g,guards:{canActivateChecks:y,canDeactivateChecks:D}}=o;return 0===D.length&&0===y.length?(0,Ge.of)(Object.assign(Object.assign({},o),{guardsResult:!0})):function(s,i,o,f){return(0,ln.D)(s).pipe((0,Kt.zg)(g=>function(s,i,o,f,g){const y=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!y||0===y.length)return(0,Ge.of)(!0);const D=y.map(T=>{const P=ud(T,i,g);let Q;if(function(s){return s&&Cs(s.canDeactivate)}(P))Q=hi(P.canDeactivate(s,i,o,f));else{if(!Cs(P))throw new Error("Invalid CanDeactivate guard");Q=hi(P(s,i,o,f))}return Q.pipe(Ar())});return(0,Ge.of)(D).pipe(rd())}(g.component,g.route,o,i,f)),Ar(g=>!0!==g,!0))}(D,f,g,s).pipe((0,Kt.zg)(T=>T&&function(s){return"boolean"==typeof s}(T)?function(s,i,o,f){return(0,ln.D)(i).pipe(Qr(g=>de(function(s,i){return null!==s&&i&&i(new Zg(s)),(0,Ge.of)(!0)}(g.route.parent,f),function(s,i){return null!==s&&i&&i(new Cp(s)),(0,Ge.of)(!0)}(g.route,f),function(s,i,o){const f=i[i.length-1],y=i.slice(0,i.length-1).reverse().map(D=>function(s){const i=s.routeConfig?s.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:s,guards:i}:null}(D)).filter(D=>null!==D).map(D=>ye(()=>{const T=D.guards.map(P=>{const Q=ud(P,D.node,o);let he;if(function(s){return s&&Cs(s.canActivateChild)}(Q))he=hi(Q.canActivateChild(f,s));else{if(!Cs(Q))throw new Error("Invalid CanActivateChild guard");he=hi(Q(f,s))}return he.pipe(Ar())});return(0,Ge.of)(T).pipe(rd())}));return(0,Ge.of)(y).pipe(rd())}(s,g.path,o),function(s,i,o){const f=i.routeConfig?i.routeConfig.canActivate:null;if(!f||0===f.length)return(0,Ge.of)(!0);const g=f.map(y=>ye(()=>{const D=ud(y,i,o);let T;if(function(s){return s&&Cs(s.canActivate)}(D))T=hi(D.canActivate(i,s));else{if(!Cs(D))throw new Error("Invalid CanActivate guard");T=hi(D(i,s))}return T.pipe(Ar())}));return(0,Ge.of)(g).pipe(rd())}(s,g.route,o))),Ar(g=>!0!==g,!0))}(f,y,s,i):(0,Ge.of)(T)),(0,yt.U)(T=>Object.assign(Object.assign({},o),{guardsResult:T})))})}(this.ngModule.injector,T=>this.triggerEvent(T)),(0,_r.b)(T=>{if(Es(T.guardsResult)){const Q=su(`Redirecting to "${this.serializeUrl(T.guardsResult)}"`);throw Q.url=T.guardsResult,Q}const P=new di(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot,!!T.guardsResult);this.triggerEvent(P)}),Yn(T=>!!T.guardsResult||(this.restoreHistory(T),this.cancelNavigationTransition(T,""),!1)),dd(T=>{if(T.guards.canActivateChecks.length)return(0,Ge.of)(T).pipe((0,_r.b)(P=>{const Q=new qg(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);this.triggerEvent(Q)}),on(P=>{let Q=!1;return(0,Ge.of)(P).pipe(function(s,i){return(0,Kt.zg)(o=>{const{targetSnapshot:f,guards:{canActivateChecks:g}}=o;if(!g.length)return(0,Ge.of)(o);let y=0;return(0,ln.D)(g).pipe(Qr(D=>function(s,i,o,f){return function(s,i,o,f){const g=Object.keys(s);if(0===g.length)return(0,Ge.of)({});const y={};return(0,ln.D)(g).pipe((0,Kt.zg)(D=>function(s,i,o,f){const g=ud(s,i,f);return hi(g.resolve?g.resolve(i,o):g(i,o))}(s[D],i,o,f).pipe((0,_r.b)(T=>{y[D]=T}))),vs(1),(0,Kt.zg)(()=>Object.keys(y).length===g.length?(0,Ge.of)(y):xi.E))}(s._resolve,s,i,f).pipe((0,yt.U)(y=>(s._resolvedData=y,s.data=Object.assign(Object.assign({},s.data),la(s,o).resolve),null)))}(D.route,f,s,i)),(0,_r.b)(()=>y++),vs(1),(0,Kt.zg)(D=>y===g.length?(0,Ge.of)(o):xi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_r.b)({next:()=>Q=!0,complete:()=>{Q||(this.restoreHistory(P),this.cancelNavigationTransition(P,"At least one route resolver didn't emit any value."))}}))}),(0,_r.b)(P=>{const Q=new vp(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);this.triggerEvent(Q)}))}),dd(T=>{const{targetSnapshot:P,id:Q,extractedUrl:he,rawUrl:fe,extras:{skipLocationChange:Ie,replaceUrl:De}}=T;return this.hooks.afterPreactivation(P,{navigationId:Q,appliedUrlTree:he,rawUrlTree:fe,skipLocationChange:!!Ie,replaceUrl:!!De})}),(0,yt.U)(T=>{const P=function(s,i,o){const f=ca(s,i._root,o?o._root:void 0);return new Rp(f,i)}(this.routeReuseStrategy,T.targetSnapshot,T.currentRouterState);return Object.assign(Object.assign({},T),{targetRouterState:P})}),(0,_r.b)(T=>{this.currentUrlTree=T.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl),this.routerState=T.targetRouterState,"deferred"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,T),this.browserUrlTree=T.urlAfterRedirects)}),((s,i,o)=>(0,yt.U)(f=>(new Up(i,f.targetRouterState,f.currentRouterState,o).activate(s),f)))(this.rootContexts,this.routeReuseStrategy,T=>this.triggerEvent(T)),(0,_r.b)({next(){y=!0},complete(){y=!0}}),function(s){return i=>i.lift(new hp(s))}(()=>{if(!y&&!D){const T=`Navigation ID ${g.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(g),this.cancelNavigationTransition(g,T)):this.cancelNavigationTransition(g,T)}this.currentNavigation=null}),Fe(T=>{if(D=!0,function(s){return s&&s[Ff]}(T)){const P=Es(T.url);P||(this.navigated=!0,this.restoreHistory(g,!0));const Q=new gp(g.id,this.serializeUrl(g.extractedUrl),T.message);f.next(Q),P?setTimeout(()=>{const he=this.urlHandlingStrategy.merge(T.url,this.rawUrlTree),fe={skipLocationChange:g.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pl(g.source)};this.scheduleNavigation(he,"imperative",null,fe,{resolve:g.resolve,reject:g.reject,promise:g.promise})},0):g.resolve(!1)}else{this.restoreHistory(g,!0);const P=new mp(g.id,this.serializeUrl(g.extractedUrl),T);f.next(P);try{g.resolve(this.errorHandler(T))}catch(Q){g.reject(Q)}}return xi.E}))}))}resetRootComponentType(o){this.rootComponentType=o,this.routerState.root.component=this.rootComponentType}getTransition(){const o=this.transitions.value;return o.urlAfterRedirects=this.browserUrlTree,o}setTransition(o){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),o))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(o=>{const f=this.extractLocationChangeInfoFromEvent(o);this.shouldScheduleNavigation(this.lastLocationChangeInfo,f)&&setTimeout(()=>{const{source:g,state:y,urlTree:D}=f,T={replaceUrl:!0};if(y){const P=Object.assign({},y);delete P.navigationId,delete P.\u0275routerPageId,0!==Object.keys(P).length&&(T.state=P)}this.scheduleNavigation(D,g,y,T)},0),this.lastLocationChangeInfo=f}))}extractLocationChangeInfoFromEvent(o){var f;return{source:"popstate"===o.type?"popstate":"hashchange",urlTree:this.parseUrl(o.url),state:(null===(f=o.state)||void 0===f?void 0:f.navigationId)?o.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(o,f){if(!o)return!0;const g=f.urlTree.toString()===o.urlTree.toString();return f.transitionId!==o.transitionId||!g||!("hashchange"===f.source&&"popstate"===o.source||"popstate"===f.source&&"hashchange"===o.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(o){this.events.next(o)}resetConfig(o){$p(o),this.config=o.map(wl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(o,f={}){const{relativeTo:g,queryParams:y,fragment:D,queryParamsHandling:T,preserveFragment:P}=f,Q=g||this.routerState.root,he=P?this.currentUrlTree.fragment:D;let fe=null;switch(T){case"merge":fe=Object.assign(Object.assign({},this.currentUrlTree.queryParams),y);break;case"preserve":fe=this.currentUrlTree.queryParams;break;default:fe=y||null}return null!==fe&&(fe=this.removeEmptyProps(fe)),function(s,i,o,f,g){if(0===o.length)return nd(i.root,i.root,i,f,g);const y=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Fp(!0,0,s);let i=0,o=!1;const f=s.reduce((g,y,D)=>{if("object"==typeof y&&null!=y){if(y.outlets){const T={};return Zn(y.outlets,(P,Q)=>{T[Q]="string"==typeof P?P.split("/"):P}),[...g,{outlets:T}]}if(y.segmentPath)return[...g,y.segmentPath]}return"string"!=typeof y?[...g,y]:0===D?(y.split("/").forEach((T,P)=>{0==P&&"."===T||(0==P&&""===T?o=!0:".."===T?i++:""!=T&&g.push(T))}),g):[...g,y]},[]);return new Fp(o,i,f)}(o);if(y.toRoot())return nd(i.root,new Ct([],{}),i,f,g);const D=function(s,i,o){if(s.isAbsolute)return new zf(i.root,!0,0);if(-1===o.snapshot._lastPathIndex){const y=o.snapshot._urlSegment;return new zf(y,y===i.root,0)}const f=Cl(s.commands[0])?0:1;return function(s,i,o){let f=s,g=i,y=o;for(;y>g;){if(y-=g,f=f.parent,!f)throw new Error("Invalid number of '../'");g=f.segments.length}return new zf(f,!1,g-y)}(o.snapshot._urlSegment,o.snapshot._lastPathIndex+f,s.numberOfDoubleDots)}(y,i,s),T=D.processChildren?Qf(D.segmentGroup,D.index,y.commands):Yf(D.segmentGroup,D.index,y.commands);return nd(D.segmentGroup,T,i,f,g)}(Q,this.currentUrlTree,o,fe,null!=he?he:null)}navigateByUrl(o,f={skipLocationChange:!1}){const g=Es(o)?o:this.parseUrl(o),y=this.urlHandlingStrategy.merge(g,this.rawUrlTree);return this.scheduleNavigation(y,"imperative",null,f)}navigate(o,f={skipLocationChange:!1}){return function(s){for(let i=0;i<s.length;i++){const o=s[i];if(null==o)throw new Error(`The requested path contains ${o} segment at index ${i}`)}}(o),this.navigateByUrl(this.createUrlTree(o,f),f)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){let f;try{f=this.urlSerializer.parse(o)}catch(g){f=this.malformedUriErrorHandler(g,this.urlSerializer,o)}return f}isActive(o,f){let g;if(g=!0===f?Object.assign({},Fm):!1===f?Object.assign({},km):f,Es(o))return hl(this.currentUrlTree,o,g);const y=this.parseUrl(o);return hl(this.currentUrlTree,y,g)}removeEmptyProps(o){return Object.keys(o).reduce((f,g)=>{const y=o[g];return null!=y&&(f[g]=y),f},{})}processNavigations(){this.navigations.subscribe(o=>{this.navigated=!0,this.lastSuccessfulId=o.id,this.currentPageId=o.targetPageId,this.events.next(new iu(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,o.resolve(!0)},o=>{this.console.warn(`Unhandled Navigation Error: ${o}`)})}scheduleNavigation(o,f,g,y,D){var T,P;if(this.disposed)return Promise.resolve(!1);const Q=this.getTransition(),he=Pl(f)&&Q&&!Pl(Q.source),De=(this.lastSuccessfulId===Q.id||this.currentNavigation?Q.rawUrl:Q.urlAfterRedirects).toString()===o.toString();if(he&&De)return Promise.resolve(!0);let Ue,dt,at;D?(Ue=D.resolve,dt=D.reject,at=D.promise):at=new Promise((Et,cn)=>{Ue=Et,dt=cn});const Bt=++this.navigationId;let ht;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(g=this.location.getState()),ht=g&&g.\u0275routerPageId?g.\u0275routerPageId:y.replaceUrl||y.skipLocationChange?null!==(T=this.browserPageId)&&void 0!==T?T:0:(null!==(P=this.browserPageId)&&void 0!==P?P:0)+1):ht=0,this.setTransition({id:Bt,targetPageId:ht,source:f,restoredState:g,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:o,extras:y,resolve:Ue,reject:dt,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(Et=>Promise.reject(Et))}setBrowserUrl(o,f){const g=this.urlSerializer.serialize(o),y=Object.assign(Object.assign({},f.extras.state),this.generateNgRouterState(f.id,f.targetPageId));this.location.isCurrentPathEqualTo(g)||f.extras.replaceUrl?this.location.replaceState(g,"",y):this.location.go(g,"",y)}restoreHistory(o,f=!1){var g,y;if("computed"===this.canceledNavigationResolution){const D=this.currentPageId-o.targetPageId;"popstate"!==o.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(g=this.currentNavigation)||void 0===g?void 0:g.finalUrl)||0===D?this.currentUrlTree===(null===(y=this.currentNavigation)||void 0===y?void 0:y.finalUrl)&&0===D&&(this.resetState(o),this.browserUrlTree=o.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(D)}else"replace"===this.canceledNavigationResolution&&(f&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=o.currentRouterState,this.currentUrlTree=o.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(o,f){const g=new gp(o.id,this.serializeUrl(o.extractedUrl),f);this.triggerEvent(g),o.resolve(!1)}generateNgRouterState(o,f){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:f}:{navigationId:o}}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(E.DyG),E.LFG(wp),E.LFG(fa),E.LFG(Te),E.LFG(E.zs3),E.LFG(E.v3s),E.LFG(E.Sil),E.LFG(void 0))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();function Pl(s){return"imperative"!==s}let og=(()=>{class s{constructor(o,f,g,y,D){this.parentContexts=o,this.location=f,this.resolver=g,this.changeDetector=D,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.name=y||mt,o.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const o=this.parentContexts.getContext(this.name);o&&o.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,o}attach(o,f){this.activated=o,this._activatedRoute=f,this.location.insert(o.hostView)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,f){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=o;const D=(f=f||this.resolver).resolveComponentFactory(o._futureSnapshot.routeConfig.component),T=this.parentContexts.getOrCreateContext(this.name).children,P=new sg(o,T,this.location.injector);this.activated=this.location.createComponent(D,this.location.length,P),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(o){return new(o||s)(E.Y36(fa),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},s.\u0275dir=E.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class sg{constructor(i,o,f){this.route=i,this.childContexts=o,this.parent=f}get(i,o){return i===ys?this.route:i===fa?this.childContexts:this.parent.get(i,o)}}class fh{}class Zr{preload(i,o){return(0,Ge.of)(null)}}let Lm=(()=>{class s{constructor(o,f,g,y,D){this.router=o,this.injector=y,this.preloadingStrategy=D,this.loader=new gu(f,g,Q=>o.triggerEvent(new _p(Q)),Q=>o.triggerEvent(new yp(Q)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yn(o=>o instanceof iu),Qr(()=>this.preload())).subscribe(()=>{})}preload(){const o=this.injector.get(E.h0i);return this.processRoutes(o,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(o,f){const g=[];for(const y of f)if(y.loadChildren&&!y.canLoad&&y._loadedConfig){const D=y._loadedConfig;g.push(this.processRoutes(D.module,D.routes))}else y.loadChildren&&!y.canLoad?g.push(this.preloadConfig(o,y)):y.children&&g.push(this.processRoutes(o,y.children));return(0,ln.D)(g).pipe((0,L.J)(),(0,yt.U)(y=>{}))}preloadConfig(o,f){return this.preloadingStrategy.preload(f,()=>(f._loadedConfig?(0,Ge.of)(f._loadedConfig):this.loader.load(o.injector,f)).pipe((0,Kt.zg)(y=>(f._loadedConfig=y,this.processRoutes(y.module,y.routes)))))}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(sr),E.LFG(E.v3s),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(fh))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})(),ag=(()=>{class s{constructor(o,f,g={}){this.router=o,this.viewportScroller=f,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(o=>{o instanceof pp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=o.navigationTrigger,this.restoredId=o.restoredState?o.restoredState.navigationId:0):o instanceof iu&&(this.lastId=o.id,this.scheduleScrollEvent(o,this.router.parseUrl(o.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(o=>{o instanceof Ep&&(o.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(o.position):o.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(o.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(o,f){this.router.triggerEvent(new Ep(o,"popstate"===this.lastSource?this.store[this.restoredId]:null,f))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(sr),E.LFG(Vt),E.LFG(void 0))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();const bs=new E.OlP("ROUTER_CONFIGURATION"),hh=new E.OlP("ROUTER_FORROOT_GUARD"),Vm=[Te,{provide:wp,useClass:om},{provide:sr,useFactory:function(s,i,o,f,g,y,D,T={},P,Q){const he=new sr(null,s,i,o,f,g,y,Zc(D));return P&&(he.urlHandlingStrategy=P),Q&&(he.routeReuseStrategy=Q),function(s,i){s.errorHandler&&(i.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(i.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(i.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(i.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(i.urlUpdateStrategy=s.urlUpdateStrategy)}(T,he),T.enableTracing&&he.events.subscribe(fe=>{var Ie,De;null===(Ie=console.group)||void 0===Ie||Ie.call(console,`Router Event: ${fe.constructor.name}`),console.log(fe.toString()),console.log(fe),null===(De=console.groupEnd)||void 0===De||De.call(console)}),he},deps:[wp,fa,Te,E.zs3,E.v3s,E.Sil,ah,bs,[class{},new E.FiY],[class{},new E.FiY]]},fa,{provide:ys,useFactory:function(s){return s.routerState.root},deps:[sr]},{provide:E.v3s,useClass:E.EAV},Lm,Zr,class{preload(i,o){return o().pipe(Fe(()=>(0,Ge.of)(null)))}},{provide:bs,useValue:{enableTracing:!1}}];function M_(){return new E.PXZ("Router",sr)}let ph=(()=>{class s{constructor(o,f){}static forRoot(o,f){return{ngModule:s,providers:[Vm,cg(o),{provide:hh,useFactory:gh,deps:[[sr,new E.FiY,new E.tp0]]},{provide:bs,useValue:f||{}},{provide:Re,useFactory:Um,deps:[K,[new E.tBr(Ee),new E.FiY],bs]},{provide:ag,useFactory:lg,deps:[sr,Vt,bs]},{provide:fh,useExisting:f&&f.preloadingStrategy?f.preloadingStrategy:Zr},{provide:E.PXZ,multi:!0,useFactory:M_},[mh,{provide:E.ip1,multi:!0,useFactory:$m,deps:[mh]},{provide:ha,useFactory:fd,deps:[mh]},{provide:E.tb,multi:!0,useExisting:ha}]]}}static forChild(o){return{ngModule:s,providers:[cg(o)]}}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(hh,8),E.LFG(sr,8))},s.\u0275mod=E.oAB({type:s}),s.\u0275inj=E.cJS({}),s})();function lg(s,i,o){return o.scrollOffset&&i.setOffset(o.scrollOffset),new ag(s,i,o)}function Um(s,i,o={}){return o.useHash?new ze(s,i):new Ae(s,i)}function gh(s){return"guarded"}function cg(s){return[{provide:E.deG,multi:!0,useValue:s},{provide:ah,multi:!0,useValue:s}]}let mh=(()=>{class s{constructor(o){this.injector=o,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ot.xQ}appInitializer(){return this.injector.get(N,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let f=null;const g=new Promise(T=>f=T),y=this.injector.get(sr),D=this.injector.get(bs);return"disabled"===D.initialNavigation?(y.setUpLocationChangeListener(),f(!0)):"enabled"===D.initialNavigation||"enabledBlocking"===D.initialNavigation?(y.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,f(!0),this.resultOfPreactivationDone),y.initialNavigation()):f(!0),g})}bootstrapListener(o){const f=this.injector.get(bs),g=this.injector.get(Lm),y=this.injector.get(ag),D=this.injector.get(sr),T=this.injector.get(E.z2F);o===T.components[0]&&(("enabledNonBlocking"===f.initialNavigation||void 0===f.initialNavigation)&&D.initialNavigation(),g.setUpPreloading(),y.init(),D.resetRootComponentType(T.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(o){return new(o||s)(E.LFG(E.zs3))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac}),s})();function $m(s){return s.appInitializer.bind(s)}function fd(s){return s.bootstrapListener.bind(s)}const ha=new E.OlP("Router Initializer"),Nl=[];let Wm=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=E.oAB({type:s}),s.\u0275inj=E.cJS({imports:[[ph.forRoot(Nl)],ph]}),s})(),Gm=(()=>{class s{ngOnInit(){console.log(window.document.referrer)}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=E.Xpm({type:s,selectors:[["app-root"]],decls:2,vars:0,template:function(o,f){1&o&&(E.TgZ(0,"p"),E._uU(1,"test"),E.qZA())},styles:[""]}),s})();const hd_firebaseConfig={apiKey:"AIzaSyAXek0gZLsyXTReB0Fyd9-OVHf1VMjT6fE",authDomain:"live-chat-dcb29.firebaseapp.com",projectId:"live-chat-dcb29",storageBucket:"live-chat-dcb29.appspot.com",messagingSenderId:"30670541766",appId:"1:30670541766:web:2e599941fa52d3985358c7"};let qi=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=E.oAB({type:s,bootstrap:[Gm]}),s.\u0275inj=E.cJS({providers:[],imports:[[Zd,Wm,xt.hO.initializeApp(hd_firebaseConfig),ja,a]]}),s})();(0,E.G48)(),Ri().bootstrapModule(qi).catch(s=>console.error(s))},4762:(ke,_e,k)=>{"use strict";k.d(_e,{ZT:()=>oe,pi:()=>S,mG:()=>K,Jh:()=>G,XA:()=>F,CR:()=>B,ev:()=>ce});var E=function(te,re){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,ee){ie.__proto__=ee}||function(ie,ee){for(var me in ee)Object.prototype.hasOwnProperty.call(ee,me)&&(ie[me]=ee[me])})(te,re)};function oe(te,re){if("function"!=typeof re&&null!==re)throw new TypeError("Class extends value "+String(re)+" is not a constructor or null");function ie(){this.constructor=te}E(te,re),te.prototype=null===re?Object.create(re):(ie.prototype=re.prototype,new ie)}var S=function(){return(S=Object.assign||function(re){for(var ie,ee=1,me=arguments.length;ee<me;ee++)for(var ne in ie=arguments[ee])Object.prototype.hasOwnProperty.call(ie,ne)&&(re[ne]=ie[ne]);return re}).apply(this,arguments)};function K(te,re,ie,ee){return new(ie||(ie=Promise))(function(ne,He){function We($e){try{Le(ee.next($e))}catch(Me){He(Me)}}function Gt($e){try{Le(ee.throw($e))}catch(Me){He(Me)}}function Le($e){$e.done?ne($e.value):function(ne){return ne instanceof ie?ne:new ie(function(He){He(ne)})}($e.value).then(We,Gt)}Le((ee=ee.apply(te,re||[])).next())})}function G(te,re){var ee,me,ne,He,ie={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]};return He={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(He[Symbol.iterator]=function(){return this}),He;function We(Le){return function($e){return function(Le){if(ee)throw new TypeError("Generator is already executing.");for(;ie;)try{if(ee=1,me&&(ne=2&Le[0]?me.return:Le[0]?me.throw||((ne=me.return)&&ne.call(me),0):me.next)&&!(ne=ne.call(me,Le[1])).done)return ne;switch(me=0,ne&&(Le=[2&Le[0],ne.value]),Le[0]){case 0:case 1:ne=Le;break;case 4:return ie.label++,{value:Le[1],done:!1};case 5:ie.label++,me=Le[1],Le=[0];continue;case 7:Le=ie.ops.pop(),ie.trys.pop();continue;default:if(!(ne=(ne=ie.trys).length>0&&ne[ne.length-1])&&(6===Le[0]||2===Le[0])){ie=0;continue}if(3===Le[0]&&(!ne||Le[1]>ne[0]&&Le[1]<ne[3])){ie.label=Le[1];break}if(6===Le[0]&&ie.label<ne[1]){ie.label=ne[1],ne=Le;break}if(ne&&ie.label<ne[2]){ie.label=ne[2],ie.ops.push(Le);break}ne[2]&&ie.ops.pop(),ie.trys.pop();continue}Le=re.call(te,ie)}catch($e){Le=[6,$e],me=0}finally{ee=ne=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([Le,$e])}}}function F(te){var re="function"==typeof Symbol&&Symbol.iterator,ie=re&&te[re],ee=0;if(ie)return ie.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&ee>=te.length&&(te=void 0),{value:te&&te[ee++],done:!te}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(te,re){var ie="function"==typeof Symbol&&te[Symbol.iterator];if(!ie)return te;var me,He,ee=ie.call(te),ne=[];try{for(;(void 0===re||re-- >0)&&!(me=ee.next()).done;)ne.push(me.value)}catch(We){He={error:We}}finally{try{me&&!me.done&&(ie=ee.return)&&ie.call(ee)}finally{if(He)throw He.error}}return ne}function ce(te,re,ie){if(ie||2===arguments.length)for(var ne,ee=0,me=re.length;ee<me;ee++)(ne||!(ee in re))&&(ne||(ne=Array.prototype.slice.call(re,0,ee)),ne[ee]=re[ee]);return te.concat(ne||Array.prototype.slice.call(re))}}},ke=>{ke(ke.s=6729)}]);